var OE=Object.defineProperty;var VE=(t,e,n)=>e in t?OE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fa=(t,e,n)=>VE(t,typeof e!="symbol"?e+"":e,n);function Hv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var jE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wv={exports:{}},oh={},Zv={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),FE=Symbol.for("react.portal"),zE=Symbol.for("react.fragment"),BE=Symbol.for("react.strict_mode"),UE=Symbol.for("react.profiler"),$E=Symbol.for("react.provider"),HE=Symbol.for("react.context"),WE=Symbol.for("react.forward_ref"),ZE=Symbol.for("react.suspense"),qE=Symbol.for("react.memo"),GE=Symbol.for("react.lazy"),ag=Symbol.iterator;function KE(t){return t===null||typeof t!="object"?null:(t=ag&&t[ag]||t["@@iterator"],typeof t=="function"?t:null)}var qv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gv=Object.assign,Kv={};function ua(t,e,n){this.props=t,this.context=e,this.refs=Kv,this.updater=n||qv}ua.prototype.isReactComponent={};ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qv(){}Qv.prototype=ua.prototype;function Jf(t,e,n){this.props=t,this.context=e,this.refs=Kv,this.updater=n||qv}var ep=Jf.prototype=new Qv;ep.constructor=Jf;Gv(ep,ua.prototype);ep.isPureReactComponent=!0;var lg=Array.isArray,Yv=Object.prototype.hasOwnProperty,tp={current:null},Xv={key:!0,ref:!0,__self:!0,__source:!0};function Jv(t,e,n){var r,o={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)Yv.call(e,r)&&!Xv.hasOwnProperty(r)&&(o[r]=e[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),m=0;m<h;m++)d[m]=arguments[m+2];o.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:Xl,type:t,key:s,ref:l,props:o,_owner:tp.current}}function QE(t,e){return{$$typeof:Xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function np(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xl}function YE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ug=/\/+/g;function Zh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YE(""+t.key):e.toString(36)}function tc(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Xl:case FE:l=!0}}if(l)return l=t,o=o(l),t=r===""?"."+Zh(l,0):r,lg(o)?(n="",t!=null&&(n=t.replace(ug,"$&/")+"/"),tc(o,e,n,"",function(m){return m})):o!=null&&(np(o)&&(o=QE(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(ug,"$&/")+"/")+t)),e.push(o)),1;if(l=0,r=r===""?".":r+":",lg(t))for(var h=0;h<t.length;h++){s=t[h];var d=r+Zh(s,h);l+=tc(s,e,n,d,o)}else if(d=KE(t),typeof d=="function")for(t=d.call(t),h=0;!(s=t.next()).done;)s=s.value,d=r+Zh(s,h++),l+=tc(s,e,n,d,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Nu(t,e,n){if(t==null)return t;var r=[],o=0;return tc(t,r,"","",function(s){return e.call(n,s,o++)}),r}function XE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},nc={transition:null},JE={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:nc,ReactCurrentOwner:tp};function ey(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Nu,forEach:function(t,e,n){Nu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nu(t,function(){e++}),e},toArray:function(t){return Nu(t,function(e){return e})||[]},only:function(t){if(!np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=ua;Ve.Fragment=zE;Ve.Profiler=UE;Ve.PureComponent=Jf;Ve.StrictMode=BE;Ve.Suspense=ZE;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JE;Ve.act=ey;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Gv({},t.props),o=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=tp.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)Yv.call(e,d)&&!Xv.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var m=0;m<d;m++)h[m]=arguments[m+2];r.children=h}return{$$typeof:Xl,type:t.type,key:o,ref:s,props:r,_owner:l}};Ve.createContext=function(t){return t={$$typeof:HE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$E,_context:t},t.Consumer=t};Ve.createElement=Jv;Ve.createFactory=function(t){var e=Jv.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:WE,render:t}};Ve.isValidElement=np;Ve.lazy=function(t){return{$$typeof:GE,_payload:{_status:-1,_result:t},_init:XE}};Ve.memo=function(t,e){return{$$typeof:qE,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=nc.transition;nc.transition={};try{t()}finally{nc.transition=e}};Ve.unstable_act=ey;Ve.useCallback=function(t,e){return vn.current.useCallback(t,e)};Ve.useContext=function(t){return vn.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return vn.current.useEffect(t,e)};Ve.useId=function(){return vn.current.useId()};Ve.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return vn.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Ve.useRef=function(t){return vn.current.useRef(t)};Ve.useState=function(t){return vn.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return vn.current.useTransition()};Ve.version="18.3.1";Zv.exports=Ve;var W=Zv.exports;const Yt=Xf(W),ex=Hv({__proto__:null,default:Yt},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=W,nx=Symbol.for("react.element"),rx=Symbol.for("react.fragment"),ix=Object.prototype.hasOwnProperty,ox=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sx={key:!0,ref:!0,__self:!0,__source:!0};function ty(t,e,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)ix.call(e,r)&&!sx.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:nx,type:t,key:s,ref:l,props:o,_owner:ox.current}}oh.Fragment=rx;oh.jsx=ty;oh.jsxs=ty;Wv.exports=oh;var T=Wv.exports,ny={exports:{}},Yn={},ry={exports:{}},iy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,le){var ne=K.length;K.push(le);e:for(;0<ne;){var pe=ne-1>>>1,we=K[pe];if(0<o(we,le))K[pe]=le,K[ne]=we,ne=pe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var le=K[0],ne=K.pop();if(ne!==le){K[0]=ne;e:for(var pe=0,we=K.length,xe=we>>>1;pe<xe;){var De=2*(pe+1)-1,Le=K[De],ge=De+1,tt=K[ge];if(0>o(Le,ne))ge<we&&0>o(tt,Le)?(K[pe]=tt,K[ge]=ne,pe=ge):(K[pe]=Le,K[De]=ne,pe=De);else if(ge<we&&0>o(tt,ne))K[pe]=tt,K[ge]=ne,pe=ge;else break e}}return le}function o(K,le){var ne=K.sortIndex-le.sortIndex;return ne!==0?ne:K.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],m=[],v=1,y=null,E=3,k=!1,j=!1,V=!1,$=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(K){for(var le=n(m);le!==null;){if(le.callback===null)r(m);else if(le.startTime<=K)r(m),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(m)}}function H(K){if(V=!1,D(K),!j)if(n(d)!==null)j=!0,Ke(J);else{var le=n(m);le!==null&&pt(H,le.startTime-K)}}function J(K,le){j=!1,V&&(V=!1,N(w),w=-1),k=!0;var ne=E;try{for(D(le),y=n(d);y!==null&&(!(y.expirationTime>le)||K&&!M());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,E=y.priorityLevel;var we=pe(y.expirationTime<=le);le=t.unstable_now(),typeof we=="function"?y.callback=we:y===n(d)&&r(d),D(le)}else r(d);y=n(d)}if(y!==null)var xe=!0;else{var De=n(m);De!==null&&pt(H,De.startTime-le),xe=!1}return xe}finally{y=null,E=ne,k=!1}}var te=!1,R=null,w=-1,P=5,A=-1;function M(){return!(t.unstable_now()-A<P)}function F(){if(R!==null){var K=t.unstable_now();A=K;var le=!0;try{le=R(!0,K)}finally{le?b():(te=!1,R=null)}}else te=!1}var b;if(typeof I=="function")b=function(){I(F)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Lt=Re.port2;Re.port1.onmessage=F,b=function(){Lt.postMessage(null)}}else b=function(){$(F,0)};function Ke(K){R=K,te||(te=!0,b())}function pt(K,le){w=$(function(){K(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){j||k||(j=!0,Ke(J))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(K){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var ne=E;E=le;try{return K()}finally{E=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=E;E=K;try{return le()}finally{E=ne}},t.unstable_scheduleCallback=function(K,le,ne){var pe=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?pe+ne:pe):ne=pe,K){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ne+we,K={id:v++,callback:le,priorityLevel:K,startTime:ne,expirationTime:we,sortIndex:-1},ne>pe?(K.sortIndex=ne,e(m,K),n(d)===null&&K===n(m)&&(V?(N(w),w=-1):V=!0,pt(H,ne-pe))):(K.sortIndex=we,e(d,K),j||k||(j=!0,Ke(J))),K},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(K){var le=E;return function(){var ne=E;E=le;try{return K.apply(this,arguments)}finally{E=ne}}}})(iy);ry.exports=iy;var ax=ry.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=W,Qn=ax;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oy=new Set,Sl={};function qo(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(Sl[t]=e,t=0;t<e.length;t++)oy.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kd=Object.prototype.hasOwnProperty,ux=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cg={},hg={};function cx(t){return kd.call(hg,t)?!0:kd.call(cg,t)?!1:ux.test(t)?hg[t]=!0:(cg[t]=!0,!1)}function hx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dx(t,e,n,r){if(e===null||typeof e>"u"||hx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,o,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tn[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tn[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tn[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tn[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tn[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tn[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tn[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tn[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tn[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var rp=/[\-:]([a-z])/g;function ip(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rp,ip);tn[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rp,ip);tn[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rp,ip);tn[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tn[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});tn.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tn[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function op(t,e,n,r){var o=tn.hasOwnProperty(e)?tn[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dx(e,n,o,r)&&(n=null),r||o===null?cx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Si=lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mu=Symbol.for("react.element"),Cs=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),bd=Symbol.for("react.profiler"),sy=Symbol.for("react.provider"),ay=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),Nd=Symbol.for("react.suspense"),Md=Symbol.for("react.suspense_list"),lp=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),ly=Symbol.for("react.offscreen"),dg=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=dg&&t[dg]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,qh;function tl(t){if(qh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qh=e&&e[1]||""}return`
`+qh+t}var Gh=!1;function Kh(t,e){if(!t||Gh)return"";Gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){r=m}t.call(e.prototype)}else{try{throw Error()}catch(m){r=m}t()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,h=s.length-1;1<=l&&0<=h&&o[l]!==s[h];)h--;for(;1<=l&&0<=h;l--,h--)if(o[l]!==s[h]){if(l!==1||h!==1)do if(l--,h--,0>h||o[l]!==s[h]){var d=`
`+o[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=h);break}}}finally{Gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tl(t):""}function fx(t){switch(t.tag){case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return t=Kh(t.type,!1),t;case 11:return t=Kh(t.type.render,!1),t;case 1:return t=Kh(t.type,!0),t;default:return""}}function Dd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case As:return"Fragment";case Cs:return"Portal";case bd:return"Profiler";case sp:return"StrictMode";case Nd:return"Suspense";case Md:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ay:return(t.displayName||"Context")+".Consumer";case sy:return(t._context.displayName||"Context")+".Provider";case ap:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lp:return e=t.displayName||null,e!==null?e:Dd(t.type)||"Memo";case $i:e=t._payload,t=t._init;try{return Dd(t(e))}catch{}}return null}function px(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dd(e);case 8:return e===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mx(t){var e=uy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){t._valueTracker||(t._valueTracker=mx(t))}function cy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Od(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ao(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hy(t,e){e=e.checked,e!=null&&op(t,"checked",e,!1)}function Vd(t,e){hy(t,e);var n=ao(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jd(t,e.type,n):e.hasOwnProperty("defaultValue")&&jd(t,e.type,ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jd(t,e,n){(e!=="number"||yc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nl=Array.isArray;function zs(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ao(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Fd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(nl(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ao(n)}}function dy(t,e){var n=ao(e.value),r=ao(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,py=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gx=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(t){gx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hl[e]=hl[t]})});function my(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hl.hasOwnProperty(t)&&hl[t]?(""+e).trim():e+"px"}function gy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=my(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var _x=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bd(t,e){if(e){if(_x[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Ud(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $d=null;function up(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hd=null,Bs=null,Us=null;function _g(t){if(t=tu(t)){if(typeof Hd!="function")throw Error(re(280));var e=t.stateNode;e&&(e=ch(e),Hd(t.stateNode,t.type,e))}}function _y(t){Bs?Us?Us.push(t):Us=[t]:Bs=t}function vy(){if(Bs){var t=Bs,e=Us;if(Us=Bs=null,_g(t),e)for(t=0;t<e.length;t++)_g(e[t])}}function yy(t,e){return t(e)}function wy(){}var Qh=!1;function Ey(t,e,n){if(Qh)return t(e,n);Qh=!0;try{return yy(t,e,n)}finally{Qh=!1,(Bs!==null||Us!==null)&&(wy(),vy())}}function Il(t,e){var n=t.stateNode;if(n===null)return null;var r=ch(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var Wd=!1;if(mi)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Wd=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Wd=!1}function vx(t,e,n,r,o,s,l,h,d){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(v){this.onError(v)}}var dl=!1,wc=null,Ec=!1,Zd=null,yx={onError:function(t){dl=!0,wc=t}};function wx(t,e,n,r,o,s,l,h,d){dl=!1,wc=null,vx.apply(yx,arguments)}function Ex(t,e,n,r,o,s,l,h,d){if(wx.apply(this,arguments),dl){if(dl){var m=wc;dl=!1,wc=null}else throw Error(re(198));Ec||(Ec=!0,Zd=m)}}function Go(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vg(t){if(Go(t)!==t)throw Error(re(188))}function xx(t){var e=t.alternate;if(!e){if(e=Go(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return vg(o),t;if(s===r)return vg(o),e;s=s.sibling}throw Error(re(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,h=o.child;h;){if(h===n){l=!0,n=o,r=s;break}if(h===r){l=!0,r=o,n=s;break}h=h.sibling}if(!l){for(h=s.child;h;){if(h===n){l=!0,n=s,r=o;break}if(h===r){l=!0,r=s,n=o;break}h=h.sibling}if(!l)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function Ty(t){return t=xx(t),t!==null?Sy(t):null}function Sy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sy(t);if(e!==null)return e;t=t.sibling}return null}var Py=Qn.unstable_scheduleCallback,yg=Qn.unstable_cancelCallback,Tx=Qn.unstable_shouldYield,Sx=Qn.unstable_requestPaint,Rt=Qn.unstable_now,Px=Qn.unstable_getCurrentPriorityLevel,cp=Qn.unstable_ImmediatePriority,Iy=Qn.unstable_UserBlockingPriority,xc=Qn.unstable_NormalPriority,Ix=Qn.unstable_LowPriority,Cy=Qn.unstable_IdlePriority,sh=null,Ur=null;function Cx(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(sh,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:Lx,Ax=Math.log,Rx=Math.LN2;function Lx(t){return t>>>=0,t===0?32:31-(Ax(t)/Rx|0)|0}var Vu=64,ju=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~o;h!==0?r=rl(h):(s&=l,s!==0&&(r=rl(s)))}else l=n&~o,l!==0?r=rl(l):s!==0&&(r=rl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),o=1<<n,r|=t[n],e&=~o;return r}function kx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Er(s),h=1<<l,d=o[l];d===-1?(!(h&n)||h&r)&&(o[l]=kx(h,e)):d<=e&&(t.expiredLanes|=h),s&=~h}}function qd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ay(){var t=Vu;return Vu<<=1,!(Vu&4194240)&&(Vu=64),t}function Yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function Nx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Er(n),s=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~s}}function hp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Ye=0;function Ry(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ly,dp,ky,by,Ny,Gd=!1,Fu=[],Qi=null,Yi=null,Xi=null,Cl=new Map,Al=new Map,Wi=[],Mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wg(t,e){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(e.pointerId)}}function Ua(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=tu(e),e!==null&&dp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Dx(t,e,n,r,o){switch(e){case"focusin":return Qi=Ua(Qi,t,e,n,r,o),!0;case"dragenter":return Yi=Ua(Yi,t,e,n,r,o),!0;case"mouseover":return Xi=Ua(Xi,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return Cl.set(s,Ua(Cl.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Al.set(s,Ua(Al.get(s)||null,t,e,n,r,o)),!0}return!1}function My(t){var e=Ro(t.target);if(e!==null){var n=Go(e);if(n!==null){if(e=n.tag,e===13){if(e=xy(n),e!==null){t.blockedOn=e,Ny(t.priority,function(){ky(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$d=r,n.target.dispatchEvent(r),$d=null}else return e=tu(n),e!==null&&dp(e),t.blockedOn=n,!1;e.shift()}return!0}function Eg(t,e,n){rc(t)&&n.delete(e)}function Ox(){Gd=!1,Qi!==null&&rc(Qi)&&(Qi=null),Yi!==null&&rc(Yi)&&(Yi=null),Xi!==null&&rc(Xi)&&(Xi=null),Cl.forEach(Eg),Al.forEach(Eg)}function $a(t,e){t.blockedOn===e&&(t.blockedOn=null,Gd||(Gd=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,Ox)))}function Rl(t){function e(o){return $a(o,t)}if(0<Fu.length){$a(Fu[0],t);for(var n=1;n<Fu.length;n++){var r=Fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qi!==null&&$a(Qi,t),Yi!==null&&$a(Yi,t),Xi!==null&&$a(Xi,t),Cl.forEach(e),Al.forEach(e),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)My(n),n.blockedOn===null&&Wi.shift()}var $s=Si.ReactCurrentBatchConfig,Sc=!0;function Vx(t,e,n,r){var o=Ye,s=$s.transition;$s.transition=null;try{Ye=1,fp(t,e,n,r)}finally{Ye=o,$s.transition=s}}function jx(t,e,n,r){var o=Ye,s=$s.transition;$s.transition=null;try{Ye=4,fp(t,e,n,r)}finally{Ye=o,$s.transition=s}}function fp(t,e,n,r){if(Sc){var o=Kd(t,e,n,r);if(o===null)ad(t,e,r,Pc,n),wg(t,r);else if(Dx(o,t,e,n,r))r.stopPropagation();else if(wg(t,r),e&4&&-1<Mx.indexOf(t)){for(;o!==null;){var s=tu(o);if(s!==null&&Ly(s),s=Kd(t,e,n,r),s===null&&ad(t,e,r,Pc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else ad(t,e,r,null,n)}}var Pc=null;function Kd(t,e,n,r){if(Pc=null,t=up(r),t=Ro(t),t!==null)if(e=Go(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pc=t,null}function Dy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Px()){case cp:return 1;case Iy:return 4;case xc:case Ix:return 16;case Cy:return 536870912;default:return 16}default:return 16}}var qi=null,pp=null,ic=null;function Oy(){if(ic)return ic;var t,e=pp,n=e.length,r,o="value"in qi?qi.value:qi.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===o[s-r];r++);return ic=o.slice(t,1<r?1-r:void 0)}function oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zu(){return!0}function xg(){return!1}function Xn(t){function e(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(s):s[h]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zu:xg,this.isPropagationStopped=xg,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=Xn(ca),eu=wt({},ca,{view:0,detail:0}),Fx=Xn(eu),Xh,Jh,Ha,ah=wt({},eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ha&&(Ha&&t.type==="mousemove"?(Xh=t.screenX-Ha.screenX,Jh=t.screenY-Ha.screenY):Jh=Xh=0,Ha=t),Xh)},movementY:function(t){return"movementY"in t?t.movementY:Jh}}),Tg=Xn(ah),zx=wt({},ah,{dataTransfer:0}),Bx=Xn(zx),Ux=wt({},eu,{relatedTarget:0}),ed=Xn(Ux),$x=wt({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Hx=Xn($x),Wx=wt({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zx=Xn(Wx),qx=wt({},ca,{data:0}),Sg=Xn(qx),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qx[t])?!!e[t]:!1}function gp(){return Yx}var Xx=wt({},eu,{key:function(t){if(t.key){var e=Gx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(t){return t.type==="keypress"?oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jx=Xn(Xx),eT=wt({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=Xn(eT),tT=wt({},eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),nT=Xn(tT),rT=wt({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),iT=Xn(rT),oT=wt({},ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sT=Xn(oT),aT=[9,13,27,32],_p=mi&&"CompositionEvent"in window,fl=null;mi&&"documentMode"in document&&(fl=document.documentMode);var lT=mi&&"TextEvent"in window&&!fl,Vy=mi&&(!_p||fl&&8<fl&&11>=fl),Ig=" ",Cg=!1;function jy(t,e){switch(t){case"keyup":return aT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function uT(t,e){switch(t){case"compositionend":return Fy(e);case"keypress":return e.which!==32?null:(Cg=!0,Ig);case"textInput":return t=e.data,t===Ig&&Cg?null:t;default:return null}}function cT(t,e){if(Rs)return t==="compositionend"||!_p&&jy(t,e)?(t=Oy(),ic=pp=qi=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vy&&e.locale!=="ko"?null:e.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hT[t.type]:e==="textarea"}function zy(t,e,n,r){_y(r),e=Ic(e,"onChange"),0<e.length&&(n=new mp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pl=null,Ll=null;function dT(t){Yy(t,0)}function lh(t){var e=bs(t);if(cy(e))return t}function fT(t,e){if(t==="change")return e}var By=!1;if(mi){var td;if(mi){var nd="oninput"in document;if(!nd){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),nd=typeof Rg.oninput=="function"}td=nd}else td=!1;By=td&&(!document.documentMode||9<document.documentMode)}function Lg(){pl&&(pl.detachEvent("onpropertychange",Uy),Ll=pl=null)}function Uy(t){if(t.propertyName==="value"&&lh(Ll)){var e=[];zy(e,Ll,t,up(t)),Ey(dT,e)}}function pT(t,e,n){t==="focusin"?(Lg(),pl=e,Ll=n,pl.attachEvent("onpropertychange",Uy)):t==="focusout"&&Lg()}function mT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lh(Ll)}function gT(t,e){if(t==="click")return lh(e)}function _T(t,e){if(t==="input"||t==="change")return lh(e)}function vT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:vT;function kl(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!kd.call(e,o)||!Sr(t[o],e[o]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,e){var n=kg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kg(n)}}function $y(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$y(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hy(){for(var t=window,e=yc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yc(t.document)}return e}function vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yT(t){var e=Hy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$y(n.ownerDocument.documentElement,n)){if(r!==null&&vp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!t.extend&&s>r&&(o=r,r=s,s=o),o=bg(n,s);var l=bg(n,r);o&&l&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wT=mi&&"documentMode"in document&&11>=document.documentMode,Ls=null,Qd=null,ml=null,Yd=!1;function Ng(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yd||Ls==null||Ls!==yc(r)||(r=Ls,"selectionStart"in r&&vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&kl(ml,r)||(ml=r,r=Ic(Qd,"onSelect"),0<r.length&&(e=new mp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ls)))}function Bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},rd={},Wy={};mi&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function uh(t){if(rd[t])return rd[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wy)return rd[t]=e[n];return t}var Zy=uh("animationend"),qy=uh("animationiteration"),Gy=uh("animationstart"),Ky=uh("transitionend"),Qy=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(t,e){Qy.set(t,e),qo(e,[t])}for(var id=0;id<Mg.length;id++){var od=Mg[id],ET=od.toLowerCase(),xT=od[0].toUpperCase()+od.slice(1);fo(ET,"on"+xT)}fo(Zy,"onAnimationEnd");fo(qy,"onAnimationIteration");fo(Gy,"onAnimationStart");fo("dblclick","onDoubleClick");fo("focusin","onFocus");fo("focusout","onBlur");fo(Ky,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TT=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Dg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ex(r,e,void 0,t),t.currentTarget=null}function Yy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var h=r[l],d=h.instance,m=h.currentTarget;if(h=h.listener,d!==s&&o.isPropagationStopped())break e;Dg(o,h,m),s=d}else for(l=0;l<r.length;l++){if(h=r[l],d=h.instance,m=h.currentTarget,h=h.listener,d!==s&&o.isPropagationStopped())break e;Dg(o,h,m),s=d}}}if(Ec)throw t=Zd,Ec=!1,Zd=null,t}function st(t,e){var n=e[nf];n===void 0&&(n=e[nf]=new Set);var r=t+"__bubble";n.has(r)||(Xy(e,t,2,!1),n.add(r))}function sd(t,e,n){var r=0;e&&(r|=4),Xy(n,t,r,e)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[Uu]){t[Uu]=!0,oy.forEach(function(n){n!=="selectionchange"&&(TT.has(n)||sd(n,!1,t),sd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uu]||(e[Uu]=!0,sd("selectionchange",!1,e))}}function Xy(t,e,n,r){switch(Dy(e)){case 1:var o=Vx;break;case 4:o=jx;break;default:o=fp}n=o.bind(null,e,n,t),o=void 0,!Wd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function ad(t,e,n,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;l=l.return}for(;h!==null;){if(l=Ro(h),l===null)return;if(d=l.tag,d===5||d===6){r=s=l;continue e}h=h.parentNode}}r=r.return}Ey(function(){var m=s,v=up(n),y=[];e:{var E=Qy.get(t);if(E!==void 0){var k=mp,j=t;switch(t){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":k=Jx;break;case"focusin":j="focus",k=ed;break;case"focusout":j="blur",k=ed;break;case"beforeblur":case"afterblur":k=ed;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=nT;break;case Zy:case qy:case Gy:k=Hx;break;case Ky:k=iT;break;case"scroll":k=Fx;break;case"wheel":k=sT;break;case"copy":case"cut":case"paste":k=Zx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Pg}var V=(e&4)!==0,$=!V&&t==="scroll",N=V?E!==null?E+"Capture":null:E;V=[];for(var I=m,D;I!==null;){D=I;var H=D.stateNode;if(D.tag===5&&H!==null&&(D=H,N!==null&&(H=Il(I,N),H!=null&&V.push(Nl(I,H,D)))),$)break;I=I.return}0<V.length&&(E=new k(E,j,null,n,v),y.push({event:E,listeners:V}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",E&&n!==$d&&(j=n.relatedTarget||n.fromElement)&&(Ro(j)||j[gi]))break e;if((k||E)&&(E=v.window===v?v:(E=v.ownerDocument)?E.defaultView||E.parentWindow:window,k?(j=n.relatedTarget||n.toElement,k=m,j=j?Ro(j):null,j!==null&&($=Go(j),j!==$||j.tag!==5&&j.tag!==6)&&(j=null)):(k=null,j=m),k!==j)){if(V=Tg,H="onMouseLeave",N="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(V=Pg,H="onPointerLeave",N="onPointerEnter",I="pointer"),$=k==null?E:bs(k),D=j==null?E:bs(j),E=new V(H,I+"leave",k,n,v),E.target=$,E.relatedTarget=D,H=null,Ro(v)===m&&(V=new V(N,I+"enter",j,n,v),V.target=D,V.relatedTarget=$,H=V),$=H,k&&j)t:{for(V=k,N=j,I=0,D=V;D;D=Es(D))I++;for(D=0,H=N;H;H=Es(H))D++;for(;0<I-D;)V=Es(V),I--;for(;0<D-I;)N=Es(N),D--;for(;I--;){if(V===N||N!==null&&V===N.alternate)break t;V=Es(V),N=Es(N)}V=null}else V=null;k!==null&&Og(y,E,k,V,!1),j!==null&&$!==null&&Og(y,$,j,V,!0)}}e:{if(E=m?bs(m):window,k=E.nodeName&&E.nodeName.toLowerCase(),k==="select"||k==="input"&&E.type==="file")var J=fT;else if(Ag(E))if(By)J=_T;else{J=mT;var te=pT}else(k=E.nodeName)&&k.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(J=gT);if(J&&(J=J(t,m))){zy(y,J,n,v);break e}te&&te(t,E,m),t==="focusout"&&(te=E._wrapperState)&&te.controlled&&E.type==="number"&&jd(E,"number",E.value)}switch(te=m?bs(m):window,t){case"focusin":(Ag(te)||te.contentEditable==="true")&&(Ls=te,Qd=m,ml=null);break;case"focusout":ml=Qd=Ls=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,Ng(y,n,v);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":Ng(y,n,v)}var R;if(_p)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rs?jy(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Vy&&n.locale!=="ko"&&(Rs||w!=="onCompositionStart"?w==="onCompositionEnd"&&Rs&&(R=Oy()):(qi=v,pp="value"in qi?qi.value:qi.textContent,Rs=!0)),te=Ic(m,w),0<te.length&&(w=new Sg(w,t,null,n,v),y.push({event:w,listeners:te}),R?w.data=R:(R=Fy(n),R!==null&&(w.data=R)))),(R=lT?uT(t,n):cT(t,n))&&(m=Ic(m,"onBeforeInput"),0<m.length&&(v=new Sg("onBeforeInput","beforeinput",null,n,v),y.push({event:v,listeners:m}),v.data=R))}Yy(y,e)})}function Nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ic(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Il(t,n),s!=null&&r.unshift(Nl(t,s,o)),s=Il(t,e),s!=null&&r.push(Nl(t,s,o))),t=t.return}return r}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Og(t,e,n,r,o){for(var s=e._reactName,l=[];n!==null&&n!==r;){var h=n,d=h.alternate,m=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&m!==null&&(h=m,o?(d=Il(n,s),d!=null&&l.unshift(Nl(n,d,h))):o||(d=Il(n,s),d!=null&&l.push(Nl(n,d,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var ST=/\r\n?/g,PT=/\u0000|\uFFFD/g;function Vg(t){return(typeof t=="string"?t:""+t).replace(ST,`
`).replace(PT,"")}function $u(t,e,n){if(e=Vg(e),Vg(t)!==e&&n)throw Error(re(425))}function Cc(){}var Xd=null,Jd=null;function ef(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(t){return jg.resolve(null).then(t).catch(AT)}:tf;function AT(t){setTimeout(function(){throw t})}function ld(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Rl(e)}function Ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ha=Math.random().toString(36).slice(2),Br="__reactFiber$"+ha,Ml="__reactProps$"+ha,gi="__reactContainer$"+ha,nf="__reactEvents$"+ha,RT="__reactListeners$"+ha,LT="__reactHandles$"+ha;function Ro(t){var e=t[Br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gi]||n[Br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fg(t);t!==null;){if(n=t[Br])return n;t=Fg(t)}return e}t=n,n=t.parentNode}return null}function tu(t){return t=t[Br]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function ch(t){return t[Ml]||null}var rf=[],Ns=-1;function po(t){return{current:t}}function lt(t){0>Ns||(t.current=rf[Ns],rf[Ns]=null,Ns--)}function ot(t,e){Ns++,rf[Ns]=t.current,t.current=e}var lo={},hn=po(lo),Nn=po(!1),jo=lo;function Ks(t,e){var n=t.type.contextTypes;if(!n)return lo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Mn(t){return t=t.childContextTypes,t!=null}function Ac(){lt(Nn),lt(hn)}function zg(t,e,n){if(hn.current!==lo)throw Error(re(168));ot(hn,e),ot(Nn,n)}function Jy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(re(108,px(t)||"Unknown",o));return wt({},n,r)}function Rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lo,jo=hn.current,ot(hn,t),ot(Nn,Nn.current),!0}function Bg(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=Jy(t,e,jo),r.__reactInternalMemoizedMergedChildContext=t,lt(Nn),lt(hn),ot(hn,t)):lt(Nn),ot(Nn,n)}var ui=null,hh=!1,ud=!1;function e0(t){ui===null?ui=[t]:ui.push(t)}function kT(t){hh=!0,e0(t)}function mo(){if(!ud&&ui!==null){ud=!0;var t=0,e=Ye;try{var n=ui;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,hh=!1}catch(o){throw ui!==null&&(ui=ui.slice(t+1)),Py(cp,mo),o}finally{Ye=e,ud=!1}}return null}var Ms=[],Ds=0,Lc=null,kc=0,sr=[],ar=0,Fo=null,ci=1,hi="";function So(t,e){Ms[Ds++]=kc,Ms[Ds++]=Lc,Lc=t,kc=e}function t0(t,e,n){sr[ar++]=ci,sr[ar++]=hi,sr[ar++]=Fo,Fo=t;var r=ci;t=hi;var o=32-Er(r)-1;r&=~(1<<o),n+=1;var s=32-Er(e)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,ci=1<<32-Er(e)+o|n<<o|r,hi=s+t}else ci=1<<s|n<<o|r,hi=t}function yp(t){t.return!==null&&(So(t,1),t0(t,1,0))}function wp(t){for(;t===Lc;)Lc=Ms[--Ds],Ms[Ds]=null,kc=Ms[--Ds],Ms[Ds]=null;for(;t===Fo;)Fo=sr[--ar],sr[ar]=null,hi=sr[--ar],sr[ar]=null,ci=sr[--ar],sr[ar]=null}var Kn=null,qn=null,ft=!1,wr=null;function n0(t,e){var n=lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ug(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,qn=Ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fo!==null?{id:ci,overflow:hi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,qn=null,!0):!1;default:return!1}}function of(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sf(t){if(ft){var e=qn;if(e){var n=e;if(!Ug(t,e)){if(of(t))throw Error(re(418));e=Ji(n.nextSibling);var r=Kn;e&&Ug(t,e)?n0(r,n):(t.flags=t.flags&-4097|2,ft=!1,Kn=t)}}else{if(of(t))throw Error(re(418));t.flags=t.flags&-4097|2,ft=!1,Kn=t}}}function $g(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function Hu(t){if(t!==Kn)return!1;if(!ft)return $g(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ef(t.type,t.memoizedProps)),e&&(e=qn)){if(of(t))throw r0(),Error(re(418));for(;e;)n0(t,e),e=Ji(e.nextSibling)}if($g(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=Ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Kn?Ji(t.stateNode.nextSibling):null;return!0}function r0(){for(var t=qn;t;)t=Ji(t.nextSibling)}function Qs(){qn=Kn=null,ft=!1}function Ep(t){wr===null?wr=[t]:wr.push(t)}var bT=Si.ReactCurrentBatchConfig;function Wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var o=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var h=o.refs;l===null?delete h[s]:h[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Wu(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hg(t){var e=t._init;return e(t._payload)}function i0(t){function e(N,I){if(t){var D=N.deletions;D===null?(N.deletions=[I],N.flags|=16):D.push(I)}}function n(N,I){if(!t)return null;for(;I!==null;)e(N,I),I=I.sibling;return null}function r(N,I){for(N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function o(N,I){return N=ro(N,I),N.index=0,N.sibling=null,N}function s(N,I,D){return N.index=D,t?(D=N.alternate,D!==null?(D=D.index,D<I?(N.flags|=2,I):D):(N.flags|=2,I)):(N.flags|=1048576,I)}function l(N){return t&&N.alternate===null&&(N.flags|=2),N}function h(N,I,D,H){return I===null||I.tag!==6?(I=gd(D,N.mode,H),I.return=N,I):(I=o(I,D),I.return=N,I)}function d(N,I,D,H){var J=D.type;return J===As?v(N,I,D.props.children,H,D.key):I!==null&&(I.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$i&&Hg(J)===I.type)?(H=o(I,D.props),H.ref=Wa(N,I,D),H.return=N,H):(H=dc(D.type,D.key,D.props,null,N.mode,H),H.ref=Wa(N,I,D),H.return=N,H)}function m(N,I,D,H){return I===null||I.tag!==4||I.stateNode.containerInfo!==D.containerInfo||I.stateNode.implementation!==D.implementation?(I=_d(D,N.mode,H),I.return=N,I):(I=o(I,D.children||[]),I.return=N,I)}function v(N,I,D,H,J){return I===null||I.tag!==7?(I=Oo(D,N.mode,H,J),I.return=N,I):(I=o(I,D),I.return=N,I)}function y(N,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return I=gd(""+I,N.mode,D),I.return=N,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Mu:return D=dc(I.type,I.key,I.props,null,N.mode,D),D.ref=Wa(N,null,I),D.return=N,D;case Cs:return I=_d(I,N.mode,D),I.return=N,I;case $i:var H=I._init;return y(N,H(I._payload),D)}if(nl(I)||za(I))return I=Oo(I,N.mode,D,null),I.return=N,I;Wu(N,I)}return null}function E(N,I,D,H){var J=I!==null?I.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return J!==null?null:h(N,I,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Mu:return D.key===J?d(N,I,D,H):null;case Cs:return D.key===J?m(N,I,D,H):null;case $i:return J=D._init,E(N,I,J(D._payload),H)}if(nl(D)||za(D))return J!==null?null:v(N,I,D,H,null);Wu(N,D)}return null}function k(N,I,D,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return N=N.get(D)||null,h(I,N,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Mu:return N=N.get(H.key===null?D:H.key)||null,d(I,N,H,J);case Cs:return N=N.get(H.key===null?D:H.key)||null,m(I,N,H,J);case $i:var te=H._init;return k(N,I,D,te(H._payload),J)}if(nl(H)||za(H))return N=N.get(D)||null,v(I,N,H,J,null);Wu(I,H)}return null}function j(N,I,D,H){for(var J=null,te=null,R=I,w=I=0,P=null;R!==null&&w<D.length;w++){R.index>w?(P=R,R=null):P=R.sibling;var A=E(N,R,D[w],H);if(A===null){R===null&&(R=P);break}t&&R&&A.alternate===null&&e(N,R),I=s(A,I,w),te===null?J=A:te.sibling=A,te=A,R=P}if(w===D.length)return n(N,R),ft&&So(N,w),J;if(R===null){for(;w<D.length;w++)R=y(N,D[w],H),R!==null&&(I=s(R,I,w),te===null?J=R:te.sibling=R,te=R);return ft&&So(N,w),J}for(R=r(N,R);w<D.length;w++)P=k(R,N,w,D[w],H),P!==null&&(t&&P.alternate!==null&&R.delete(P.key===null?w:P.key),I=s(P,I,w),te===null?J=P:te.sibling=P,te=P);return t&&R.forEach(function(M){return e(N,M)}),ft&&So(N,w),J}function V(N,I,D,H){var J=za(D);if(typeof J!="function")throw Error(re(150));if(D=J.call(D),D==null)throw Error(re(151));for(var te=J=null,R=I,w=I=0,P=null,A=D.next();R!==null&&!A.done;w++,A=D.next()){R.index>w?(P=R,R=null):P=R.sibling;var M=E(N,R,A.value,H);if(M===null){R===null&&(R=P);break}t&&R&&M.alternate===null&&e(N,R),I=s(M,I,w),te===null?J=M:te.sibling=M,te=M,R=P}if(A.done)return n(N,R),ft&&So(N,w),J;if(R===null){for(;!A.done;w++,A=D.next())A=y(N,A.value,H),A!==null&&(I=s(A,I,w),te===null?J=A:te.sibling=A,te=A);return ft&&So(N,w),J}for(R=r(N,R);!A.done;w++,A=D.next())A=k(R,N,w,A.value,H),A!==null&&(t&&A.alternate!==null&&R.delete(A.key===null?w:A.key),I=s(A,I,w),te===null?J=A:te.sibling=A,te=A);return t&&R.forEach(function(F){return e(N,F)}),ft&&So(N,w),J}function $(N,I,D,H){if(typeof D=="object"&&D!==null&&D.type===As&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Mu:e:{for(var J=D.key,te=I;te!==null;){if(te.key===J){if(J=D.type,J===As){if(te.tag===7){n(N,te.sibling),I=o(te,D.props.children),I.return=N,N=I;break e}}else if(te.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$i&&Hg(J)===te.type){n(N,te.sibling),I=o(te,D.props),I.ref=Wa(N,te,D),I.return=N,N=I;break e}n(N,te);break}else e(N,te);te=te.sibling}D.type===As?(I=Oo(D.props.children,N.mode,H,D.key),I.return=N,N=I):(H=dc(D.type,D.key,D.props,null,N.mode,H),H.ref=Wa(N,I,D),H.return=N,N=H)}return l(N);case Cs:e:{for(te=D.key;I!==null;){if(I.key===te)if(I.tag===4&&I.stateNode.containerInfo===D.containerInfo&&I.stateNode.implementation===D.implementation){n(N,I.sibling),I=o(I,D.children||[]),I.return=N,N=I;break e}else{n(N,I);break}else e(N,I);I=I.sibling}I=_d(D,N.mode,H),I.return=N,N=I}return l(N);case $i:return te=D._init,$(N,I,te(D._payload),H)}if(nl(D))return j(N,I,D,H);if(za(D))return V(N,I,D,H);Wu(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,I!==null&&I.tag===6?(n(N,I.sibling),I=o(I,D),I.return=N,N=I):(n(N,I),I=gd(D,N.mode,H),I.return=N,N=I),l(N)):n(N,I)}return $}var Ys=i0(!0),o0=i0(!1),bc=po(null),Nc=null,Os=null,xp=null;function Tp(){xp=Os=Nc=null}function Sp(t){var e=bc.current;lt(bc),t._currentValue=e}function af(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hs(t,e){Nc=t,xp=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(xp!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(Nc===null)throw Error(re(308));Os=t,Nc.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var Lo=null;function Pp(t){Lo===null?Lo=[t]:Lo.push(t)}function s0(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Pp(e)):(n.next=o.next,o.next=n),e.interleaved=n,_i(t,r)}function _i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hi=!1;function Ip(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,_i(t,n)}return o=r.interleaved,o===null?(e.next=e,Pp(r)):(e.next=o.next,o.next=e),r.interleaved=e,_i(t,n)}function sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hp(t,n)}}function Wg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mc(t,e,n,r){var o=t.updateQueue;Hi=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,m=d.next;d.next=null,l===null?s=m:l.next=m,l=d;var v=t.alternate;v!==null&&(v=v.updateQueue,h=v.lastBaseUpdate,h!==l&&(h===null?v.firstBaseUpdate=m:h.next=m,v.lastBaseUpdate=d))}if(s!==null){var y=o.baseState;l=0,v=m=d=null,h=s;do{var E=h.lane,k=h.eventTime;if((r&E)===E){v!==null&&(v=v.next={eventTime:k,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var j=t,V=h;switch(E=e,k=n,V.tag){case 1:if(j=V.payload,typeof j=="function"){y=j.call(k,y,E);break e}y=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=V.payload,E=typeof j=="function"?j.call(k,y,E):j,E==null)break e;y=wt({},y,E);break e;case 2:Hi=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,E=o.effects,E===null?o.effects=[h]:E.push(h))}else k={eventTime:k,lane:E,tag:h.tag,payload:h.payload,callback:h.callback,next:null},v===null?(m=v=k,d=y):v=v.next=k,l|=E;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;E=h,h=E.next,E.next=null,o.lastBaseUpdate=E,o.shared.pending=null}}while(!0);if(v===null&&(d=y),o.baseState=d,o.firstBaseUpdate=m,o.lastBaseUpdate=v,e=o.shared.interleaved,e!==null){o=e;do l|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);Bo|=l,t.lanes=l,t.memoizedState=y}}function Zg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(re(191,o));o.call(r)}}}var nu={},$r=po(nu),Dl=po(nu),Ol=po(nu);function ko(t){if(t===nu)throw Error(re(174));return t}function Cp(t,e){switch(ot(Ol,e),ot(Dl,t),ot($r,nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zd(e,t)}lt($r),ot($r,e)}function Xs(){lt($r),lt(Dl),lt(Ol)}function l0(t){ko(Ol.current);var e=ko($r.current),n=zd(e,t.type);e!==n&&(ot(Dl,t),ot($r,n))}function Ap(t){Dl.current===t&&(lt($r),lt(Dl))}var vt=po(0);function Dc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cd=[];function Rp(){for(var t=0;t<cd.length;t++)cd[t]._workInProgressVersionPrimary=null;cd.length=0}var ac=Si.ReactCurrentDispatcher,hd=Si.ReactCurrentBatchConfig,zo=0,yt=null,Vt=null,qt=null,Oc=!1,gl=!1,Vl=0,NT=0;function on(){throw Error(re(321))}function Lp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function kp(t,e,n,r,o,s){if(zo=s,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ac.current=t===null||t.memoizedState===null?VT:jT,t=n(r,o),gl){s=0;do{if(gl=!1,Vl=0,25<=s)throw Error(re(301));s+=1,qt=Vt=null,e.updateQueue=null,ac.current=FT,t=n(r,o)}while(gl)}if(ac.current=Vc,e=Vt!==null&&Vt.next!==null,zo=0,qt=Vt=yt=null,Oc=!1,e)throw Error(re(300));return t}function bp(){var t=Vl!==0;return Vl=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?yt.memoizedState=qt=t:qt=qt.next=t,qt}function hr(){if(Vt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=qt===null?yt.memoizedState:qt.next;if(e!==null)qt=e,Vt=t;else{if(t===null)throw Error(re(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},qt===null?yt.memoizedState=qt=t:qt=qt.next=t}return qt}function jl(t,e){return typeof e=="function"?e(t):e}function dd(t){var e=hr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Vt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var h=l=null,d=null,m=s;do{var v=m.lane;if((zo&v)===v)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:t(r,m.action);else{var y={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(h=d=y,l=r):d=d.next=y,yt.lanes|=v,Bo|=v}m=m.next}while(m!==null&&m!==s);d===null?l=r:d.next=h,Sr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do s=o.lane,yt.lanes|=s,Bo|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fd(t){var e=hr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=t(s,l.action),l=l.next;while(l!==o);Sr(s,e.memoizedState)||(bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function u0(){}function c0(t,e){var n=yt,r=hr(),o=e(),s=!Sr(r.memoizedState,o);if(s&&(r.memoizedState=o,bn=!0),r=r.queue,Np(f0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,Fl(9,d0.bind(null,n,r,o,e),void 0,null),Gt===null)throw Error(re(349));zo&30||h0(n,e,o)}return o}function h0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function d0(t,e,n,r){e.value=n,e.getSnapshot=r,p0(e)&&m0(t)}function f0(t,e,n){return n(function(){p0(e)&&m0(t)})}function p0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function m0(t){var e=_i(t,1);e!==null&&xr(e,t,1,-1)}function qg(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:t},e.queue=t,t=t.dispatch=OT.bind(null,yt,t),[e.memoizedState,t]}function Fl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function g0(){return hr().memoizedState}function lc(t,e,n,r){var o=zr();yt.flags|=t,o.memoizedState=Fl(1|e,n,void 0,r===void 0?null:r)}function dh(t,e,n,r){var o=hr();r=r===void 0?null:r;var s=void 0;if(Vt!==null){var l=Vt.memoizedState;if(s=l.destroy,r!==null&&Lp(r,l.deps)){o.memoizedState=Fl(e,n,s,r);return}}yt.flags|=t,o.memoizedState=Fl(1|e,n,s,r)}function Gg(t,e){return lc(8390656,8,t,e)}function Np(t,e){return dh(2048,8,t,e)}function _0(t,e){return dh(4,2,t,e)}function v0(t,e){return dh(4,4,t,e)}function y0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w0(t,e,n){return n=n!=null?n.concat([t]):null,dh(4,4,y0.bind(null,e,t),n)}function Mp(){}function E0(t,e){var n=hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x0(t,e){var n=hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function T0(t,e,n){return zo&21?(Sr(n,e)||(n=Ay(),yt.lanes|=n,Bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function MT(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=hd.transition;hd.transition={};try{t(!1),e()}finally{Ye=n,hd.transition=r}}function S0(){return hr().memoizedState}function DT(t,e,n){var r=no(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P0(t))I0(e,n);else if(n=s0(t,e,n,r),n!==null){var o=_n();xr(n,t,r,o),C0(n,e,r)}}function OT(t,e,n){var r=no(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P0(t))I0(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,h=s(l,n);if(o.hasEagerState=!0,o.eagerState=h,Sr(h,l)){var d=e.interleaved;d===null?(o.next=o,Pp(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=s0(t,e,o,r),n!==null&&(o=_n(),xr(n,t,r,o),C0(n,e,r))}}function P0(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function I0(t,e){gl=Oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hp(t,n)}}var Vc={readContext:cr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},VT={readContext:cr,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:Gg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lc(4194308,4,y0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return lc(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DT.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:qg,useDebugValue:Mp,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=qg(!1),e=t[0];return t=MT.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,o=zr();if(ft){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),Gt===null)throw Error(re(349));zo&30||h0(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,Gg(f0.bind(null,r,s,t),[t]),r.flags|=2048,Fl(9,d0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zr(),e=Gt.identifierPrefix;if(ft){var n=hi,r=ci;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jT={readContext:cr,useCallback:E0,useContext:cr,useEffect:Np,useImperativeHandle:w0,useInsertionEffect:_0,useLayoutEffect:v0,useMemo:x0,useReducer:dd,useRef:g0,useState:function(){return dd(jl)},useDebugValue:Mp,useDeferredValue:function(t){var e=hr();return T0(e,Vt.memoizedState,t)},useTransition:function(){var t=dd(jl)[0],e=hr().memoizedState;return[t,e]},useMutableSource:u0,useSyncExternalStore:c0,useId:S0,unstable_isNewReconciler:!1},FT={readContext:cr,useCallback:E0,useContext:cr,useEffect:Np,useImperativeHandle:w0,useInsertionEffect:_0,useLayoutEffect:v0,useMemo:x0,useReducer:fd,useRef:g0,useState:function(){return fd(jl)},useDebugValue:Mp,useDeferredValue:function(t){var e=hr();return Vt===null?e.memoizedState=t:T0(e,Vt.memoizedState,t)},useTransition:function(){var t=fd(jl)[0],e=hr().memoizedState;return[t,e]},useMutableSource:u0,useSyncExternalStore:c0,useId:S0,unstable_isNewReconciler:!1};function _r(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fh={isMounted:function(t){return(t=t._reactInternals)?Go(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),o=no(t),s=di(r,o);s.payload=e,n!=null&&(s.callback=n),e=eo(t,s,o),e!==null&&(xr(e,t,o,r),sc(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),o=no(t),s=di(r,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=eo(t,s,o),e!==null&&(xr(e,t,o,r),sc(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=no(t),o=di(n,r);o.tag=2,e!=null&&(o.callback=e),e=eo(t,o,r),e!==null&&(xr(e,t,r,n),sc(e,t,r))}};function Kg(t,e,n,r,o,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!kl(n,r)||!kl(o,s):!0}function A0(t,e,n){var r=!1,o=lo,s=e.contextType;return typeof s=="object"&&s!==null?s=cr(s):(o=Mn(e)?jo:hn.current,r=e.contextTypes,s=(r=r!=null)?Ks(t,o):lo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fh.enqueueReplaceState(e,e.state,null)}function uf(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Ip(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=cr(s):(s=Mn(e)?jo:hn.current,o.context=Ks(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lf(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&fh.enqueueReplaceState(o,o.state,null),Mc(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Js(t,e){try{var n="",r=e;do n+=fx(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function pd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zT=typeof WeakMap=="function"?WeakMap:Map;function R0(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fc||(Fc=!0,wf=r),cf(t,e)},n}function L0(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){cf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cf(t,e),typeof r!="function"&&(to===null?to=new Set([this]):to.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Yg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zT;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=eS.bind(null,t,e,n),e.then(t,t))}function Xg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jg(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,eo(n,e,1))),n.lanes|=1),t)}var BT=Si.ReactCurrentOwner,bn=!1;function gn(t,e,n,r){e.child=t===null?o0(e,null,n,r):Ys(e,t.child,n,r)}function e_(t,e,n,r,o){n=n.render;var s=e.ref;return Hs(e,o),r=kp(t,e,n,r,s,o),n=bp(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,vi(t,e,o)):(ft&&n&&yp(e),e.flags|=1,gn(t,e,r,o),e.child)}function t_(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!Up(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,k0(t,e,s,r,o)):(t=dc(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(l,r)&&t.ref===e.ref)return vi(t,e,o)}return e.flags|=1,t=ro(s,r),t.ref=e.ref,t.return=e,e.child=t}function k0(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(kl(s,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=s,(t.lanes&o)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,vi(t,e,o)}return hf(t,e,n,r,o)}function b0(t,e,n){var r=e.pendingProps,o=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(js,Wn),Wn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(js,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ot(js,Wn),Wn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ot(js,Wn),Wn|=r;return gn(t,e,o,n),e.child}function N0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hf(t,e,n,r,o){var s=Mn(n)?jo:hn.current;return s=Ks(e,s),Hs(e,o),n=kp(t,e,n,r,s,o),r=bp(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,vi(t,e,o)):(ft&&r&&yp(e),e.flags|=1,gn(t,e,n,o),e.child)}function n_(t,e,n,r,o){if(Mn(n)){var s=!0;Rc(e)}else s=!1;if(Hs(e,o),e.stateNode===null)uc(t,e),A0(e,n,r),uf(e,n,r,o),r=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var d=l.context,m=n.contextType;typeof m=="object"&&m!==null?m=cr(m):(m=Mn(n)?jo:hn.current,m=Ks(e,m));var v=n.getDerivedStateFromProps,y=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function";y||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==r||d!==m)&&Qg(e,l,r,m),Hi=!1;var E=e.memoizedState;l.state=E,Mc(e,r,l,o),d=e.memoizedState,h!==r||E!==d||Nn.current||Hi?(typeof v=="function"&&(lf(e,n,v,r),d=e.memoizedState),(h=Hi||Kg(e,n,h,r,E,d,m))?(y||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),l.props=r,l.state=d,l.context=m,r=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,a0(t,e),h=e.memoizedProps,m=e.type===e.elementType?h:_r(e.type,h),l.props=m,y=e.pendingProps,E=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=cr(d):(d=Mn(n)?jo:hn.current,d=Ks(e,d));var k=n.getDerivedStateFromProps;(v=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==y||E!==d)&&Qg(e,l,r,d),Hi=!1,E=e.memoizedState,l.state=E,Mc(e,r,l,o);var j=e.memoizedState;h!==y||E!==j||Nn.current||Hi?(typeof k=="function"&&(lf(e,n,k,r),j=e.memoizedState),(m=Hi||Kg(e,n,m,r,E,j,d)||!1)?(v||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,j,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,j,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=j),l.props=r,l.state=j,l.context=d,r=m):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),r=!1)}return df(t,e,n,r,s,o)}function df(t,e,n,r,o,s){N0(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return o&&Bg(e,n,!1),vi(t,e,s);r=e.stateNode,BT.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Ys(e,t.child,null,s),e.child=Ys(e,null,h,s)):gn(t,e,h,s),e.memoizedState=r.state,o&&Bg(e,n,!0),e.child}function M0(t){var e=t.stateNode;e.pendingContext?zg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zg(t,e.context,!1),Cp(t,e.containerInfo)}function r_(t,e,n,r,o){return Qs(),Ep(o),e.flags|=256,gn(t,e,n,r),e.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function pf(t){return{baseLanes:t,cachePool:null,transitions:null}}function D0(t,e,n){var r=e.pendingProps,o=vt.current,s=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(o&2)!==0),h?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ot(vt,o&1),t===null)return sf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=gh(l,r,0,null),t=Oo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pf(n),e.memoizedState=ff,t):Dp(e,l));if(o=t.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return UT(t,e,l,r,h,o,n);if(s){s=r.fallback,l=e.mode,o=t.child,h=o.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=ro(o,d),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?s=ro(h,s):(s=Oo(s,l,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=t.child.memoizedState,l=l===null?pf(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=ff,r}return s=t.child,t=s.sibling,r=ro(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dp(t,e){return e=gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zu(t,e,n,r){return r!==null&&Ep(r),Ys(e,t.child,null,n),t=Dp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UT(t,e,n,r,o,s,l){if(n)return e.flags&256?(e.flags&=-257,r=pd(Error(re(422))),Zu(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=gh({mode:"visible",children:r.children},o,0,null),s=Oo(s,o,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ys(e,t.child,null,l),e.child.memoizedState=pf(l),e.memoizedState=ff,s);if(!(e.mode&1))return Zu(t,e,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,s=Error(re(419)),r=pd(s,r,void 0),Zu(t,e,l,r)}if(h=(l&t.childLanes)!==0,bn||h){if(r=Gt,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,_i(t,o),xr(r,t,o,-1))}return Bp(),r=pd(Error(re(421))),Zu(t,e,l,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=tS.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,qn=Ji(o.nextSibling),Kn=e,ft=!0,wr=null,t!==null&&(sr[ar++]=ci,sr[ar++]=hi,sr[ar++]=Fo,ci=t.id,hi=t.overflow,Fo=e),e=Dp(e,r.children),e.flags|=4096,e)}function i_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),af(t.return,e,n)}function md(t,e,n,r,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function O0(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(gn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i_(t,n,e);else if(t.tag===19)i_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(vt,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Dc(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),md(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Dc(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}md(e,!0,n,null,s);break;case"together":md(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $T(t,e,n){switch(e.tag){case 3:M0(e),Qs();break;case 5:l0(e);break;case 1:Mn(e.type)&&Rc(e);break;case 4:Cp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ot(bc,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?D0(t,e,n):(ot(vt,vt.current&1),t=vi(t,e,n),t!==null?t.sibling:null);ot(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return O0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ot(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,b0(t,e,n)}return vi(t,e,n)}var V0,mf,j0,F0;V0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mf=function(){};j0=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,ko($r.current);var s=null;switch(n){case"input":o=Od(t,o),r=Od(t,r),s=[];break;case"select":o=wt({},o,{value:void 0}),r=wt({},r,{value:void 0}),s=[];break;case"textarea":o=Fd(t,o),r=Fd(t,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cc)}Bd(n,r);var l;n=null;for(m in o)if(!r.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var h=o[m];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Sl.hasOwnProperty(m)?s||(s=[]):(s=s||[]).push(m,null));for(m in r){var d=r[m];if(h=o!=null?o[m]:void 0,r.hasOwnProperty(m)&&d!==h&&(d!=null||h!=null))if(m==="style")if(h){for(l in h)!h.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&h[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(s||(s=[]),s.push(m,n)),n=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(s=s||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&st("scroll",t),s||h===d||(s=[])):(s=s||[]).push(m,d))}n&&(s=s||[]).push("style",n);var m=s;(e.updateQueue=m)&&(e.flags|=4)}};F0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Za(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HT(t,e,n){var r=e.pendingProps;switch(wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Mn(e.type)&&Ac(),sn(e),null;case 3:return r=e.stateNode,Xs(),lt(Nn),lt(hn),Rp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wr!==null&&(Tf(wr),wr=null))),mf(t,e),sn(e),null;case 5:Ap(e);var o=ko(Ol.current);if(n=e.type,t!==null&&e.stateNode!=null)j0(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return sn(e),null}if(t=ko($r.current),Hu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Br]=e,r[Ml]=s,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(o=0;o<il.length;o++)st(il[o],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":fg(r,s),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},st("invalid",r);break;case"textarea":mg(r,s),st("invalid",r)}Bd(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var h=s[l];l==="children"?typeof h=="string"?r.textContent!==h&&(s.suppressHydrationWarning!==!0&&$u(r.textContent,h,t),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(s.suppressHydrationWarning!==!0&&$u(r.textContent,h,t),o=["children",""+h]):Sl.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&st("scroll",r)}switch(n){case"input":Du(r),pg(r,s,!0);break;case"textarea":Du(r),gg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cc)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Br]=e,t[Ml]=r,V0(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ud(n,r),n){case"dialog":st("cancel",t),st("close",t),o=r;break;case"iframe":case"object":case"embed":st("load",t),o=r;break;case"video":case"audio":for(o=0;o<il.length;o++)st(il[o],t);o=r;break;case"source":st("error",t),o=r;break;case"img":case"image":case"link":st("error",t),st("load",t),o=r;break;case"details":st("toggle",t),o=r;break;case"input":fg(t,r),o=Od(t,r),st("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=wt({},r,{value:void 0}),st("invalid",t);break;case"textarea":mg(t,r),o=Fd(t,r),st("invalid",t);break;default:o=r}Bd(n,o),h=o;for(s in h)if(h.hasOwnProperty(s)){var d=h[s];s==="style"?gy(t,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&py(t,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Pl(t,d):typeof d=="number"&&Pl(t,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sl.hasOwnProperty(s)?d!=null&&s==="onScroll"&&st("scroll",t):d!=null&&op(t,s,d,l))}switch(n){case"input":Du(t),pg(t,r,!1);break;case"textarea":Du(t),gg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ao(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zs(t,!!r.multiple,s,!1):r.defaultValue!=null&&zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)F0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=ko(Ol.current),ko($r.current),Hu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Br]=e,(s=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:$u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$u(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Br]=e,e.stateNode=r}return sn(e),null;case 13:if(lt(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&qn!==null&&e.mode&1&&!(e.flags&128))r0(),Qs(),e.flags|=98560,s=!1;else if(s=Hu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Br]=e}else Qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),s=!1}else wr!==null&&(Tf(wr),wr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?jt===0&&(jt=3):Bp())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Xs(),mf(t,e),t===null&&bl(e.stateNode.containerInfo),sn(e),null;case 10:return Sp(e.type._context),sn(e),null;case 17:return Mn(e.type)&&Ac(),sn(e),null;case 19:if(lt(vt),s=e.memoizedState,s===null)return sn(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)Za(s,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Dc(t),l!==null){for(e.flags|=128,Za(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(vt,vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>ea&&(e.flags|=128,r=!0,Za(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dc(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Za(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!ft)return sn(e),null}else 2*Rt()-s.renderingStartTime>ea&&n!==1073741824&&(e.flags|=128,r=!0,Za(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,n=vt.current,ot(vt,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return zp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function WT(t,e){switch(wp(e),e.tag){case 1:return Mn(e.type)&&Ac(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xs(),lt(Nn),lt(hn),Rp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ap(e),null;case 13:if(lt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(vt),null;case 4:return Xs(),null;case 10:return Sp(e.type._context),null;case 22:case 23:return zp(),null;case 24:return null;default:return null}}var qu=!1,un=!1,ZT=typeof WeakSet=="function"?WeakSet:Set,he=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(t,e,r)}else n.current=null}function gf(t,e,n){try{n()}catch(r){St(t,e,r)}}var o_=!1;function qT(t,e){if(Xd=Sc,t=Hy(),vp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,h=-1,d=-1,m=0,v=0,y=t,E=null;t:for(;;){for(var k;y!==n||o!==0&&y.nodeType!==3||(h=l+o),y!==s||r!==0&&y.nodeType!==3||(d=l+r),y.nodeType===3&&(l+=y.nodeValue.length),(k=y.firstChild)!==null;)E=y,y=k;for(;;){if(y===t)break t;if(E===n&&++m===o&&(h=l),E===s&&++v===r&&(d=l),(k=y.nextSibling)!==null)break;y=E,E=y.parentNode}y=k}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jd={focusedElem:t,selectionRange:n},Sc=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var V=j.memoizedProps,$=j.memoizedState,N=e.stateNode,I=N.getSnapshotBeforeUpdate(e.elementType===e.type?V:_r(e.type,V),$);N.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(H){St(e,e.return,H)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return j=o_,o_=!1,j}function _l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&gf(e,n,s)}o=o.next}while(o!==r)}}function ph(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _f(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function z0(t){var e=t.alternate;e!==null&&(t.alternate=null,z0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[Ml],delete e[nf],delete e[RT],delete e[LT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B0(t){return t.tag===5||t.tag===3||t.tag===4}function s_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cc));else if(r!==4&&(t=t.child,t!==null))for(vf(t,e,n),t=t.sibling;t!==null;)vf(t,e,n),t=t.sibling}function yf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yf(t,e,n),t=t.sibling;t!==null;)yf(t,e,n),t=t.sibling}var Kt=null,vr=!1;function Bi(t,e,n){for(n=n.child;n!==null;)U0(t,e,n),n=n.sibling}function U0(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(sh,n)}catch{}switch(n.tag){case 5:un||Vs(n,e);case 6:var r=Kt,o=vr;Kt=null,Bi(t,e,n),Kt=r,vr=o,Kt!==null&&(vr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(vr?(t=Kt,n=n.stateNode,t.nodeType===8?ld(t.parentNode,n):t.nodeType===1&&ld(t,n),Rl(t)):ld(Kt,n.stateNode));break;case 4:r=Kt,o=vr,Kt=n.stateNode.containerInfo,vr=!0,Bi(t,e,n),Kt=r,vr=o;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&gf(n,e,l),o=o.next}while(o!==r)}Bi(t,e,n);break;case 1:if(!un&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){St(n,e,h)}Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Bi(t,e,n),un=r):Bi(t,e,n);break;default:Bi(t,e,n)}}function a_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZT),e.forEach(function(r){var o=nS.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:Kt=h.stateNode,vr=!1;break e;case 3:Kt=h.stateNode.containerInfo,vr=!0;break e;case 4:Kt=h.stateNode.containerInfo,vr=!0;break e}h=h.return}if(Kt===null)throw Error(re(160));U0(s,l,o),Kt=null,vr=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(m){St(o,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$0(e,t),e=e.sibling}function $0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),Fr(t),r&4){try{_l(3,t,t.return),ph(3,t)}catch(V){St(t,t.return,V)}try{_l(5,t,t.return)}catch(V){St(t,t.return,V)}}break;case 1:gr(e,t),Fr(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(gr(e,t),Fr(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var o=t.stateNode;try{Pl(o,"")}catch(V){St(t,t.return,V)}}if(r&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&s.type==="radio"&&s.name!=null&&hy(o,s),Ud(h,l);var m=Ud(h,s);for(l=0;l<d.length;l+=2){var v=d[l],y=d[l+1];v==="style"?gy(o,y):v==="dangerouslySetInnerHTML"?py(o,y):v==="children"?Pl(o,y):op(o,v,y,m)}switch(h){case"input":Vd(o,s);break;case"textarea":dy(o,s);break;case"select":var E=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var k=s.value;k!=null?zs(o,!!s.multiple,k,!1):E!==!!s.multiple&&(s.defaultValue!=null?zs(o,!!s.multiple,s.defaultValue,!0):zs(o,!!s.multiple,s.multiple?[]:"",!1))}o[Ml]=s}catch(V){St(t,t.return,V)}}break;case 6:if(gr(e,t),Fr(t),r&4){if(t.stateNode===null)throw Error(re(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(V){St(t,t.return,V)}}break;case 3:if(gr(e,t),Fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(e.containerInfo)}catch(V){St(t,t.return,V)}break;case 4:gr(e,t),Fr(t);break;case 13:gr(e,t),Fr(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(jp=Rt())),r&4&&a_(t);break;case 22:if(v=n!==null&&n.memoizedState!==null,t.mode&1?(un=(m=un)||v,gr(e,t),un=m):gr(e,t),Fr(t),r&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!v&&t.mode&1)for(he=t,v=t.child;v!==null;){for(y=he=v;he!==null;){switch(E=he,k=E.child,E.tag){case 0:case 11:case 14:case 15:_l(4,E,E.return);break;case 1:Vs(E,E.return);var j=E.stateNode;if(typeof j.componentWillUnmount=="function"){r=E,n=E.return;try{e=r,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(V){St(r,n,V)}}break;case 5:Vs(E,E.return);break;case 22:if(E.memoizedState!==null){u_(y);continue}}k!==null?(k.return=E,he=k):u_(y)}v=v.sibling}e:for(v=null,y=t;;){if(y.tag===5){if(v===null){v=y;try{o=y.stateNode,m?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(h=y.stateNode,d=y.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=my("display",l))}catch(V){St(t,t.return,V)}}}else if(y.tag===6){if(v===null)try{y.stateNode.nodeValue=m?"":y.memoizedProps}catch(V){St(t,t.return,V)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;v===y&&(v=null),y=y.return}v===y&&(v=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:gr(e,t),Fr(t),r&4&&a_(t);break;case 21:break;default:gr(e,t),Fr(t)}}function Fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(B0(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Pl(o,""),r.flags&=-33);var s=s_(t);yf(t,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,h=s_(t);vf(t,h,l);break;default:throw Error(re(161))}}catch(d){St(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GT(t,e,n){he=t,H0(t)}function H0(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var o=he,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||qu;if(!l){var h=o.alternate,d=h!==null&&h.memoizedState!==null||un;h=qu;var m=un;if(qu=l,(un=d)&&!m)for(he=o;he!==null;)l=he,d=l.child,l.tag===22&&l.memoizedState!==null?c_(o):d!==null?(d.return=l,he=d):c_(o);for(;s!==null;)he=s,H0(s),s=s.sibling;he=o,qu=h,un=m}l_(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,he=s):l_(t)}}function l_(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||ph(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zg(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zg(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var y=v.dehydrated;y!==null&&Rl(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}un||e.flags&512&&_f(e)}catch(E){St(e,e.return,E)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function u_(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function c_(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ph(4,e)}catch(d){St(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){St(e,o,d)}}var s=e.return;try{_f(e)}catch(d){St(e,s,d)}break;case 5:var l=e.return;try{_f(e)}catch(d){St(e,l,d)}}}catch(d){St(e,e.return,d)}if(e===t){he=null;break}var h=e.sibling;if(h!==null){h.return=e.return,he=h;break}he=e.return}}var KT=Math.ceil,jc=Si.ReactCurrentDispatcher,Op=Si.ReactCurrentOwner,ur=Si.ReactCurrentBatchConfig,qe=0,Gt=null,Dt=null,Jt=0,Wn=0,js=po(0),jt=0,zl=null,Bo=0,mh=0,Vp=0,vl=null,Ln=null,jp=0,ea=1/0,li=null,Fc=!1,wf=null,to=null,Gu=!1,Gi=null,zc=0,yl=0,Ef=null,cc=-1,hc=0;function _n(){return qe&6?Rt():cc!==-1?cc:cc=Rt()}function no(t){return t.mode&1?qe&2&&Jt!==0?Jt&-Jt:bT.transition!==null?(hc===0&&(hc=Ay()),hc):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:Dy(t.type)),t):1}function xr(t,e,n,r){if(50<yl)throw yl=0,Ef=null,Error(re(185));Jl(t,n,r),(!(qe&2)||t!==Gt)&&(t===Gt&&(!(qe&2)&&(mh|=n),jt===4&&Zi(t,Jt)),Dn(t,r),n===1&&qe===0&&!(e.mode&1)&&(ea=Rt()+500,hh&&mo()))}function Dn(t,e){var n=t.callbackNode;bx(t,e);var r=Tc(t,t===Gt?Jt:0);if(r===0)n!==null&&yg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yg(n),e===1)t.tag===0?kT(h_.bind(null,t)):e0(h_.bind(null,t)),CT(function(){!(qe&6)&&mo()}),n=null;else{switch(Ry(r)){case 1:n=cp;break;case 4:n=Iy;break;case 16:n=xc;break;case 536870912:n=Cy;break;default:n=xc}n=X0(n,W0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function W0(t,e){if(cc=-1,hc=0,qe&6)throw Error(re(327));var n=t.callbackNode;if(Ws()&&t.callbackNode!==n)return null;var r=Tc(t,t===Gt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bc(t,r);else{e=r;var o=qe;qe|=2;var s=q0();(Gt!==t||Jt!==e)&&(li=null,ea=Rt()+500,Do(t,e));do try{XT();break}catch(h){Z0(t,h)}while(!0);Tp(),jc.current=s,qe=o,Dt!==null?e=0:(Gt=null,Jt=0,e=jt)}if(e!==0){if(e===2&&(o=qd(t),o!==0&&(r=o,e=xf(t,o))),e===1)throw n=zl,Do(t,0),Zi(t,r),Dn(t,Rt()),n;if(e===6)Zi(t,r);else{if(o=t.current.alternate,!(r&30)&&!QT(o)&&(e=Bc(t,r),e===2&&(s=qd(t),s!==0&&(r=s,e=xf(t,s))),e===1))throw n=zl,Do(t,0),Zi(t,r),Dn(t,Rt()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Po(t,Ln,li);break;case 3:if(Zi(t,r),(r&130023424)===r&&(e=jp+500-Rt(),10<e)){if(Tc(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=tf(Po.bind(null,t,Ln,li),e);break}Po(t,Ln,li);break;case 4:if(Zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var l=31-Er(r);s=1<<l,l=e[l],l>o&&(o=l),r&=~s}if(r=o,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KT(r/1960))-r,10<r){t.timeoutHandle=tf(Po.bind(null,t,Ln,li),r);break}Po(t,Ln,li);break;case 5:Po(t,Ln,li);break;default:throw Error(re(329))}}}return Dn(t,Rt()),t.callbackNode===n?W0.bind(null,t):null}function xf(t,e){var n=vl;return t.current.memoizedState.isDehydrated&&(Do(t,e).flags|=256),t=Bc(t,e),t!==2&&(e=Ln,Ln=n,e!==null&&Tf(e)),t}function Tf(t){Ln===null?Ln=t:Ln.push.apply(Ln,t)}function QT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Sr(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zi(t,e){for(e&=~Vp,e&=~mh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function h_(t){if(qe&6)throw Error(re(327));Ws();var e=Tc(t,0);if(!(e&1))return Dn(t,Rt()),null;var n=Bc(t,e);if(t.tag!==0&&n===2){var r=qd(t);r!==0&&(e=r,n=xf(t,r))}if(n===1)throw n=zl,Do(t,0),Zi(t,e),Dn(t,Rt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Po(t,Ln,li),Dn(t,Rt()),null}function Fp(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(ea=Rt()+500,hh&&mo())}}function Uo(t){Gi!==null&&Gi.tag===0&&!(qe&6)&&Ws();var e=qe;qe|=1;var n=ur.transition,r=Ye;try{if(ur.transition=null,Ye=1,t)return t()}finally{Ye=r,ur.transition=n,qe=e,!(qe&6)&&mo()}}function zp(){Wn=js.current,lt(js)}function Do(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IT(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(wp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ac();break;case 3:Xs(),lt(Nn),lt(hn),Rp();break;case 5:Ap(r);break;case 4:Xs();break;case 13:lt(vt);break;case 19:lt(vt);break;case 10:Sp(r.type._context);break;case 22:case 23:zp()}n=n.return}if(Gt=t,Dt=t=ro(t.current,null),Jt=Wn=e,jt=0,zl=null,Vp=mh=Bo=0,Ln=vl=null,Lo!==null){for(e=0;e<Lo.length;e++)if(n=Lo[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}Lo=null}return t}function Z0(t,e){do{var n=Dt;try{if(Tp(),ac.current=Vc,Oc){for(var r=yt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Oc=!1}if(zo=0,qt=Vt=yt=null,gl=!1,Vl=0,Op.current=null,n===null||n.return===null){jt=1,zl=e,Dt=null;break}e:{var s=t,l=n.return,h=n,d=e;if(e=Jt,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,v=h,y=v.tag;if(!(v.mode&1)&&(y===0||y===11||y===15)){var E=v.alternate;E?(v.updateQueue=E.updateQueue,v.memoizedState=E.memoizedState,v.lanes=E.lanes):(v.updateQueue=null,v.memoizedState=null)}var k=Xg(l);if(k!==null){k.flags&=-257,Jg(k,l,h,s,e),k.mode&1&&Yg(s,m,e),e=k,d=m;var j=e.updateQueue;if(j===null){var V=new Set;V.add(d),e.updateQueue=V}else j.add(d);break e}else{if(!(e&1)){Yg(s,m,e),Bp();break e}d=Error(re(426))}}else if(ft&&h.mode&1){var $=Xg(l);if($!==null){!($.flags&65536)&&($.flags|=256),Jg($,l,h,s,e),Ep(Js(d,h));break e}}s=d=Js(d,h),jt!==4&&(jt=2),vl===null?vl=[s]:vl.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var N=R0(s,d,e);Wg(s,N);break e;case 1:h=d;var I=s.type,D=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(to===null||!to.has(D)))){s.flags|=65536,e&=-e,s.lanes|=e;var H=L0(s,h,e);Wg(s,H);break e}}s=s.return}while(s!==null)}K0(n)}catch(J){e=J,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function q0(){var t=jc.current;return jc.current=Vc,t===null?Vc:t}function Bp(){(jt===0||jt===3||jt===2)&&(jt=4),Gt===null||!(Bo&268435455)&&!(mh&268435455)||Zi(Gt,Jt)}function Bc(t,e){var n=qe;qe|=2;var r=q0();(Gt!==t||Jt!==e)&&(li=null,Do(t,e));do try{YT();break}catch(o){Z0(t,o)}while(!0);if(Tp(),qe=n,jc.current=r,Dt!==null)throw Error(re(261));return Gt=null,Jt=0,jt}function YT(){for(;Dt!==null;)G0(Dt)}function XT(){for(;Dt!==null&&!Tx();)G0(Dt)}function G0(t){var e=Y0(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?K0(t):Dt=e,Op.current=null}function K0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WT(n,e),n!==null){n.flags&=32767,Dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,Dt=null;return}}else if(n=HT(n,e,Wn),n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);jt===0&&(jt=5)}function Po(t,e,n){var r=Ye,o=ur.transition;try{ur.transition=null,Ye=1,JT(t,e,n,r)}finally{ur.transition=o,Ye=r}return null}function JT(t,e,n,r){do Ws();while(Gi!==null);if(qe&6)throw Error(re(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Nx(t,s),t===Gt&&(Dt=Gt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gu||(Gu=!0,X0(xc,function(){return Ws(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ur.transition,ur.transition=null;var l=Ye;Ye=1;var h=qe;qe|=4,Op.current=null,qT(t,n),$0(n,t),yT(Jd),Sc=!!Xd,Jd=Xd=null,t.current=n,GT(n),Sx(),qe=h,Ye=l,ur.transition=s}else t.current=n;if(Gu&&(Gu=!1,Gi=t,zc=o),s=t.pendingLanes,s===0&&(to=null),Cx(n.stateNode),Dn(t,Rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Fc)throw Fc=!1,t=wf,wf=null,t;return zc&1&&t.tag!==0&&Ws(),s=t.pendingLanes,s&1?t===Ef?yl++:(yl=0,Ef=t):yl=0,mo(),null}function Ws(){if(Gi!==null){var t=Ry(zc),e=ur.transition,n=Ye;try{if(ur.transition=null,Ye=16>t?16:t,Gi===null)var r=!1;else{if(t=Gi,Gi=null,zc=0,qe&6)throw Error(re(331));var o=qe;for(qe|=4,he=t.current;he!==null;){var s=he,l=s.child;if(he.flags&16){var h=s.deletions;if(h!==null){for(var d=0;d<h.length;d++){var m=h[d];for(he=m;he!==null;){var v=he;switch(v.tag){case 0:case 11:case 15:_l(8,v,s)}var y=v.child;if(y!==null)y.return=v,he=y;else for(;he!==null;){v=he;var E=v.sibling,k=v.return;if(z0(v),v===m){he=null;break}if(E!==null){E.return=k,he=E;break}he=k}}}var j=s.alternate;if(j!==null){var V=j.child;if(V!==null){j.child=null;do{var $=V.sibling;V.sibling=null,V=$}while(V!==null)}}he=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,he=l;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_l(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,he=N;break e}he=s.return}}var I=t.current;for(he=I;he!==null;){l=he;var D=l.child;if(l.subtreeFlags&2064&&D!==null)D.return=l,he=D;else e:for(l=I;he!==null;){if(h=he,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:ph(9,h)}}catch(J){St(h,h.return,J)}if(h===l){he=null;break e}var H=h.sibling;if(H!==null){H.return=h.return,he=H;break e}he=h.return}}if(qe=o,mo(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(sh,t)}catch{}r=!0}return r}finally{Ye=n,ur.transition=e}}return!1}function d_(t,e,n){e=Js(n,e),e=R0(t,e,1),t=eo(t,e,1),e=_n(),t!==null&&(Jl(t,1,e),Dn(t,e))}function St(t,e,n){if(t.tag===3)d_(t,t,n);else for(;e!==null;){if(e.tag===3){d_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(to===null||!to.has(r))){t=Js(n,t),t=L0(e,t,1),e=eo(e,t,1),t=_n(),e!==null&&(Jl(e,1,t),Dn(e,t));break}}e=e.return}}function eS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(Jt&n)===n&&(jt===4||jt===3&&(Jt&130023424)===Jt&&500>Rt()-jp?Do(t,0):Vp|=n),Dn(t,e)}function Q0(t,e){e===0&&(t.mode&1?(e=ju,ju<<=1,!(ju&130023424)&&(ju=4194304)):e=1);var n=_n();t=_i(t,e),t!==null&&(Jl(t,e,n),Dn(t,n))}function tS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Q0(t,n)}function nS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),Q0(t,n)}var Y0;Y0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,$T(t,e,n);bn=!!(t.flags&131072)}else bn=!1,ft&&e.flags&1048576&&t0(e,kc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uc(t,e),t=e.pendingProps;var o=Ks(e,hn.current);Hs(e,n),o=kp(null,e,r,t,o,n);var s=bp();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(r)?(s=!0,Rc(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ip(e),o.updater=fh,e.stateNode=o,o._reactInternals=e,uf(e,r,t,n),e=df(null,e,r,!0,s,n)):(e.tag=0,ft&&s&&yp(e),gn(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uc(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=iS(r),t=_r(r,t),o){case 0:e=hf(null,e,r,t,n);break e;case 1:e=n_(null,e,r,t,n);break e;case 11:e=e_(null,e,r,t,n);break e;case 14:e=t_(null,e,r,_r(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:_r(r,o),hf(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:_r(r,o),n_(t,e,r,o,n);case 3:e:{if(M0(e),t===null)throw Error(re(387));r=e.pendingProps,s=e.memoizedState,o=s.element,a0(t,e),Mc(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=Js(Error(re(423)),e),e=r_(t,e,r,n,o);break e}else if(r!==o){o=Js(Error(re(424)),e),e=r_(t,e,r,n,o);break e}else for(qn=Ji(e.stateNode.containerInfo.firstChild),Kn=e,ft=!0,wr=null,n=o0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),r===o){e=vi(t,e,n);break e}gn(t,e,r,n)}e=e.child}return e;case 5:return l0(e),t===null&&sf(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,l=o.children,ef(r,o)?l=null:s!==null&&ef(r,s)&&(e.flags|=32),N0(t,e),gn(t,e,l,n),e.child;case 6:return t===null&&sf(e),null;case 13:return D0(t,e,n);case 4:return Cp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ys(e,null,r,n):gn(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:_r(r,o),e_(t,e,r,o,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,l=o.value,ot(bc,r._currentValue),r._currentValue=l,s!==null)if(Sr(s.value,l)){if(s.children===o.children&&!Nn.current){e=vi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var h=s.dependencies;if(h!==null){l=s.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(s.tag===1){d=di(-1,n&-n),d.tag=2;var m=s.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?d.next=d:(d.next=v.next,v.next=d),m.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),af(s.return,n,e),h.lanes|=n;break}d=d.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(re(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),af(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}gn(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Hs(e,n),o=cr(o),r=r(o),e.flags|=1,gn(t,e,r,n),e.child;case 14:return r=e.type,o=_r(r,e.pendingProps),o=_r(r.type,o),t_(t,e,r,o,n);case 15:return k0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:_r(r,o),uc(t,e),e.tag=1,Mn(r)?(t=!0,Rc(e)):t=!1,Hs(e,n),A0(e,r,o),uf(e,r,o,n),df(null,e,r,!0,t,n);case 19:return O0(t,e,n);case 22:return b0(t,e,n)}throw Error(re(156,e.tag))};function X0(t,e){return Py(t,e)}function rS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,n,r){return new rS(t,e,n,r)}function Up(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iS(t){if(typeof t=="function")return Up(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ap)return 11;if(t===lp)return 14}return 2}function ro(t,e){var n=t.alternate;return n===null?(n=lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dc(t,e,n,r,o,s){var l=2;if(r=t,typeof t=="function")Up(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case As:return Oo(n.children,o,s,e);case sp:l=8,o|=8;break;case bd:return t=lr(12,n,e,o|2),t.elementType=bd,t.lanes=s,t;case Nd:return t=lr(13,n,e,o),t.elementType=Nd,t.lanes=s,t;case Md:return t=lr(19,n,e,o),t.elementType=Md,t.lanes=s,t;case ly:return gh(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sy:l=10;break e;case ay:l=9;break e;case ap:l=11;break e;case lp:l=14;break e;case $i:l=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=lr(l,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function Oo(t,e,n,r){return t=lr(7,t,r,e),t.lanes=n,t}function gh(t,e,n,r){return t=lr(22,t,r,e),t.elementType=ly,t.lanes=n,t.stateNode={isHidden:!1},t}function gd(t,e,n){return t=lr(6,t,null,e),t.lanes=n,t}function _d(t,e,n){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oS(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yh(0),this.expirationTimes=Yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $p(t,e,n,r,o,s,l,h,d){return t=new oS(t,e,n,h,d),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ip(s),t}function sS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function J0(t){if(!t)return lo;t=t._reactInternals;e:{if(Go(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(Mn(n))return Jy(t,n,e)}return e}function ew(t,e,n,r,o,s,l,h,d){return t=$p(n,r,!0,t,o,s,l,h,d),t.context=J0(null),n=t.current,r=_n(),o=no(n),s=di(r,o),s.callback=e??null,eo(n,s,o),t.current.lanes=o,Jl(t,o,r),Dn(t,r),t}function _h(t,e,n,r){var o=e.current,s=_n(),l=no(o);return n=J0(n),e.context===null?e.context=n:e.pendingContext=n,e=di(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=eo(o,e,l),t!==null&&(xr(t,o,l,s),sc(t,o,l)),l}function Uc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hp(t,e){f_(t,e),(t=t.alternate)&&f_(t,e)}function aS(){return null}var tw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wp(t){this._internalRoot=t}vh.prototype.render=Wp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));_h(t,e,null,null)};vh.prototype.unmount=Wp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Uo(function(){_h(null,t,null,null)}),e[gi]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=by();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wi.length&&e!==0&&e<Wi[n].priority;n++);Wi.splice(n,0,t),n===0&&My(t)}};function Zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function p_(){}function lS(t,e,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var m=Uc(l);s.call(m)}}var l=ew(e,r,t,0,null,!1,!1,"",p_);return t._reactRootContainer=l,t[gi]=l.current,bl(t.nodeType===8?t.parentNode:t),Uo(),l}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var m=Uc(d);h.call(m)}}var d=$p(t,0,!1,null,null,!1,!1,"",p_);return t._reactRootContainer=d,t[gi]=d.current,bl(t.nodeType===8?t.parentNode:t),Uo(function(){_h(e,d,n,r)}),d}function wh(t,e,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var h=o;o=function(){var d=Uc(l);h.call(d)}}_h(e,l,t,o)}else l=lS(n,e,t,o,r);return Uc(l)}Ly=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rl(e.pendingLanes);n!==0&&(hp(e,n|1),Dn(e,Rt()),!(qe&6)&&(ea=Rt()+500,mo()))}break;case 13:Uo(function(){var r=_i(t,1);if(r!==null){var o=_n();xr(r,t,1,o)}}),Hp(t,1)}};dp=function(t){if(t.tag===13){var e=_i(t,134217728);if(e!==null){var n=_n();xr(e,t,134217728,n)}Hp(t,134217728)}};ky=function(t){if(t.tag===13){var e=no(t),n=_i(t,e);if(n!==null){var r=_n();xr(n,t,e,r)}Hp(t,e)}};by=function(){return Ye};Ny=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};Hd=function(t,e,n){switch(e){case"input":if(Vd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=ch(r);if(!o)throw Error(re(90));cy(r),Vd(r,o)}}}break;case"textarea":dy(t,n);break;case"select":e=n.value,e!=null&&zs(t,!!n.multiple,e,!1)}};yy=Fp;wy=Uo;var uS={usingClientEntryPoint:!1,Events:[tu,bs,ch,_y,vy,Fp]},qa={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cS={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ty(t),t===null?null:t.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||aS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{sh=Ku.inject(cS),Ur=Ku}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uS;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zp(e))throw Error(re(200));return sS(t,e,null,n)};Yn.createRoot=function(t,e){if(!Zp(t))throw Error(re(299));var n=!1,r="",o=tw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=$p(t,1,!1,null,null,n,!1,r,o),t[gi]=e.current,bl(t.nodeType===8?t.parentNode:t),new Wp(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=Ty(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return Uo(t)};Yn.hydrate=function(t,e,n){if(!yh(e))throw Error(re(200));return wh(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!Zp(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=tw;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=ew(e,null,t,1,n??null,o,!1,s,l),t[gi]=e.current,bl(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new vh(e)};Yn.render=function(t,e,n){if(!yh(e))throw Error(re(200));return wh(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!yh(t))throw Error(re(40));return t._reactRootContainer?(Uo(function(){wh(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};Yn.unstable_batchedUpdates=Fp;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yh(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return wh(t,e,n,!1,r)};Yn.version="18.3.1-next-f1338f8080-20240426";function nw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nw)}catch(t){console.error(t)}}nw(),ny.exports=Yn;var Eh=ny.exports;const hS=Xf(Eh),dS=Hv({__proto__:null,default:hS},[Eh]);var rw,m_=Eh;rw=m_.createRoot,m_.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _t(){return _t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_t.apply(this,arguments)}var Mt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mt||(Mt={}));const g_="popstate";function fS(t){t===void 0&&(t={});function e(r,o){let{pathname:s,search:l,hash:h}=r.location;return Bl("",{pathname:s,search:l,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:$o(o)}return mS(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ta(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pS(){return Math.random().toString(36).substr(2,8)}function __(t,e){return{usr:t.state,key:t.key,idx:e}}function Bl(t,e,n,r){return n===void 0&&(n=null),_t({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?go(e):e,{state:n,key:e&&e.key||r||pS()})}function $o(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function go(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mS(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,l=o.history,h=Mt.Pop,d=null,m=v();m==null&&(m=0,l.replaceState(_t({},l.state,{idx:m}),""));function v(){return(l.state||{idx:null}).idx}function y(){h=Mt.Pop;let $=v(),N=$==null?null:$-m;m=$,d&&d({action:h,location:V.location,delta:N})}function E($,N){h=Mt.Push;let I=Bl(V.location,$,N);m=v()+1;let D=__(I,m),H=V.createHref(I);try{l.pushState(D,"",H)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(H)}s&&d&&d({action:h,location:V.location,delta:1})}function k($,N){h=Mt.Replace;let I=Bl(V.location,$,N);m=v();let D=__(I,m),H=V.createHref(I);l.replaceState(D,"",H),s&&d&&d({action:h,location:V.location,delta:0})}function j($){let N=o.location.origin!=="null"?o.location.origin:o.location.href,I=typeof $=="string"?$:$o($);return I=I.replace(/ $/,"%20"),Me(N,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,N)}let V={get action(){return h},get location(){return t(o,l)},listen($){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(g_,y),d=$,()=>{o.removeEventListener(g_,y),d=null}},createHref($){return e(o,$)},createURL:j,encodeLocation($){let N=j($);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:E,replace:k,go($){return l.go($)}};return V}var et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(et||(et={}));const gS=new Set(["lazy","caseSensitive","path","id","index","children"]);function _S(t){return t.index===!0}function Ul(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((o,s)=>{let l=[...n,String(s)],h=typeof o.id=="string"?o.id:l.join("-");if(Me(o.index!==!0||!o.children,"Cannot specify children on an index route"),Me(!r[h],'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),_S(o)){let d=_t({},o,e(o),{id:h});return r[h]=d,d}else{let d=_t({},o,e(o),{id:h,children:void 0});return r[h]=d,o.children&&(d.children=Ul(o.children,e,l,r)),d}})}function Co(t,e,n){return n===void 0&&(n="/"),fc(t,e,n,!1)}function fc(t,e,n,r){let o=typeof e=="string"?go(e):e,s=da(o.pathname||"/",n);if(s==null)return null;let l=iw(t);yS(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let m=LS(s);h=AS(l[d],m,r)}return h}function vS(t,e){let{route:n,pathname:r,params:o}=t;return{id:n.id,pathname:r,params:o,data:e[n.id],handle:n.handle}}function iw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,l,h)=>{let d={relativePath:h===void 0?s.path||"":h,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Me(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let m=fi([r,d.relativePath]),v=n.concat(d);s.children&&s.children.length>0&&(Me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),iw(s.children,e,v,m)),!(s.path==null&&!s.index)&&e.push({path:m,score:IS(m,s.index),routesMeta:v})};return t.forEach((s,l)=>{var h;if(s.path===""||!((h=s.path)!=null&&h.includes("?")))o(s,l);else for(let d of ow(s.path))o(s,l,d)}),e}function ow(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let l=ow(r.join("/")),h=[];return h.push(...l.map(d=>d===""?s:[s,d].join("/"))),o&&h.push(...l),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function yS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wS=/^:[\w-]+$/,ES=3,xS=2,TS=1,SS=10,PS=-2,v_=t=>t==="*";function IS(t,e){let n=t.split("/"),r=n.length;return n.some(v_)&&(r+=PS),e&&(r+=xS),n.filter(o=>!v_(o)).reduce((o,s)=>o+(wS.test(s)?ES:s===""?TS:SS),r)}function CS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function AS(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,o={},s="/",l=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,v=s==="/"?e:e.slice(s.length)||"/",y=y_({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},v),E=d.route;if(!y&&m&&n&&!r[r.length-1].route.index&&(y=y_({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),l.push({params:o,pathname:fi([s,y.pathname]),pathnameBase:NS(fi([s,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(s=fi([s,y.pathnameBase]))}return l}function y_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let s=o[0],l=s.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,v,y)=>{let{paramName:E,isOptional:k}=v;if(E==="*"){let V=h[y]||"";l=s.slice(0,s.length-V.length).replace(/(.)\/+$/,"$1")}const j=h[y];return k&&!j?m[E]=void 0:m[E]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:l,pattern:t}}function RS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ta(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function LS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ta(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function da(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?go(t):t;return{pathname:n?n.startsWith("/")?n:bS(n,e):e,search:MS(r),hash:DS(o)}}function bS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qp(t,e){let n=sw(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Gp(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=go(t):(o=_t({},t),Me(!o.pathname||!o.pathname.includes("?"),vd("?","pathname","search",o)),Me(!o.pathname||!o.pathname.includes("#"),vd("#","pathname","hash",o)),Me(!o.search||!o.search.includes("#"),vd("#","search","hash",o)));let s=t===""||o.pathname==="",l=s?"/":o.pathname,h;if(l==null)h=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),y-=1;o.pathname=E.join("/")}h=y>=0?e[y]:"/"}let d=kS(o,h),m=l&&l!=="/"&&l.endsWith("/"),v=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||v)&&(d.pathname+="/"),d}const fi=t=>t.join("/").replace(/\/\/+/g,"/"),NS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class $c{constructor(e,n,r,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function xh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aw=["post","put","patch","delete"],OS=new Set(aw),VS=["get",...aw],jS=new Set(VS),FS=new Set([301,302,303,307,308]),zS=new Set([307,308]),yd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ga={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Kp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,US=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),lw="remix-router-transitions";function $S(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(t.mapRouteProperties)o=t.mapRouteProperties;else if(t.detectErrorBoundary){let C=t.detectErrorBoundary;o=z=>({hasErrorBoundary:C(z)})}else o=US;let s={},l=Ul(t.routes,o,void 0,s),h,d=t.basename||"/",m=t.unstable_dataStrategy||GS,v=t.unstable_patchRoutesOnNavigation,y=_t({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),E=null,k=new Set,j=1e3,V=new Set,$=null,N=null,I=null,D=t.hydrationData!=null,H=Co(l,t.history.location,d),J=null;if(H==null&&!v){let C=mn(404,{pathname:t.history.location.pathname}),{matches:z,route:Z}=R_(l);H=z,J={[Z.id]:C}}H&&!t.hydrationData&&xt(H,l,t.history.location.pathname).active&&(H=null);let te;if(H)if(H.some(C=>C.route.lazy))te=!1;else if(!H.some(C=>C.route.loader))te=!0;else if(y.v7_partialHydration){let C=t.hydrationData?t.hydrationData.loaderData:null,z=t.hydrationData?t.hydrationData.errors:null,Z=Q=>Q.route.loader?typeof Q.route.loader=="function"&&Q.route.loader.hydrate===!0?!1:C&&C[Q.route.id]!==void 0||z&&z[Q.route.id]!==void 0:!0;if(z){let Q=H.findIndex(ae=>z[ae.route.id]!==void 0);te=H.slice(0,Q+1).every(Z)}else te=H.every(Z)}else te=t.hydrationData!=null;else if(te=!1,H=[],y.v7_partialHydration){let C=xt(null,l,t.history.location.pathname);C.active&&C.matches&&(H=C.matches)}let R,w={historyAction:t.history.action,location:t.history.location,matches:H,initialized:te,navigation:yd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||J,fetchers:new Map,blockers:new Map},P=Mt.Pop,A=!1,M,F=!1,b=new Map,Re=null,Lt=!1,Ke=!1,pt=[],K=new Set,le=new Map,ne=0,pe=-1,we=new Map,xe=new Set,De=new Map,Le=new Map,ge=new Set,tt=new Map,zt=new Map,Xo=new Map,Jn=!1;function Ir(){if(E=t.history.listen(C=>{let{action:z,location:Z,delta:Q}=C;if(Jn){Jn=!1;return}ta(zt.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Kr({currentLocation:w.location,nextLocation:Z,historyAction:z});if(ae&&Q!=null){Jn=!0,t.history.go(Q*-1),Fn(ae,{state:"blocked",location:Z,proceed(){Fn(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),t.history.go(Q)},reset(){let ce=new Map(w.blockers);ce.set(ae,Ga),Pt({blockers:ce})}});return}return wn(z,Z)}),n){aP(e,b);let C=()=>lP(e,b);e.addEventListener("pagehide",C),Re=()=>e.removeEventListener("pagehide",C)}return w.initialized||wn(Mt.Pop,w.location,{initialHydration:!0}),R}function dr(){E&&E(),Re&&Re(),k.clear(),M&&M.abort(),w.fetchers.forEach((C,z)=>Rr(z)),w.blockers.forEach((C,z)=>ki(z))}function qr(C){return k.add(C),()=>k.delete(C)}function Pt(C,z){z===void 0&&(z={}),w=_t({},w,C);let Z=[],Q=[];y.v7_fetcherPersist&&w.fetchers.forEach((ae,ce)=>{ae.state==="idle"&&(ge.has(ce)?Q.push(ce):Z.push(ce))}),[...k].forEach(ae=>ae(w,{deletedFetchers:Q,unstable_viewTransitionOpts:z.viewTransitionOpts,unstable_flushSync:z.flushSync===!0})),y.v7_fetcherPersist&&(Z.forEach(ae=>w.fetchers.delete(ae)),Q.forEach(ae=>Rr(ae)))}function jn(C,z,Z){var Q,ae;let{flushSync:ce}=Z===void 0?{}:Z,_e=w.actionData!=null&&w.navigation.formMethod!=null&&yr(w.navigation.formMethod)&&w.navigation.state==="loading"&&((Q=C.state)==null?void 0:Q._isRedirect)!==!0,ie;z.actionData?Object.keys(z.actionData).length>0?ie=z.actionData:ie=null:_e?ie=w.actionData:ie=null;let ve=z.loaderData?C_(w.loaderData,z.loaderData,z.matches||[],z.errors):w.loaderData,me=w.blockers;me.size>0&&(me=new Map(me),me.forEach((Fe,We)=>me.set(We,Ga)));let Pe=A===!0||w.navigation.formMethod!=null&&yr(w.navigation.formMethod)&&((ae=C.state)==null?void 0:ae._isRedirect)!==!0;h&&(l=h,h=void 0),Lt||P===Mt.Pop||(P===Mt.Push?t.history.push(C,C.state):P===Mt.Replace&&t.history.replace(C,C.state));let Be;if(P===Mt.Pop){let Fe=b.get(w.location.pathname);Fe&&Fe.has(C.pathname)?Be={currentLocation:w.location,nextLocation:C}:b.has(C.pathname)&&(Be={currentLocation:C,nextLocation:w.location})}else if(F){let Fe=b.get(w.location.pathname);Fe?Fe.add(C.pathname):(Fe=new Set([C.pathname]),b.set(w.location.pathname,Fe)),Be={currentLocation:w.location,nextLocation:C}}Pt(_t({},z,{actionData:ie,loaderData:ve,historyAction:P,location:C,initialized:!0,navigation:yd,revalidation:"idle",restoreScrollPosition:Xr(C,z.matches||w.matches),preventScrollReset:Pe,blockers:me}),{viewTransitionOpts:Be,flushSync:ce===!0}),P=Mt.Pop,A=!1,F=!1,Lt=!1,Ke=!1,pt=[]}async function Pi(C,z){if(typeof C=="number"){t.history.go(C);return}let Z=Sf(w.location,w.matches,d,y.v7_prependBasename,C,y.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:Q,submission:ae,error:ce}=w_(y.v7_normalizeFormMethod,!1,Z,z),_e=w.location,ie=Bl(w.location,Q,z&&z.state);ie=_t({},ie,t.history.encodeLocation(ie));let ve=z&&z.replace!=null?z.replace:void 0,me=Mt.Push;ve===!0?me=Mt.Replace:ve===!1||ae!=null&&yr(ae.formMethod)&&ae.formAction===w.location.pathname+w.location.search&&(me=Mt.Replace);let Pe=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Be=(z&&z.unstable_flushSync)===!0,Fe=Kr({currentLocation:_e,nextLocation:ie,historyAction:me});if(Fe){Fn(Fe,{state:"blocked",location:ie,proceed(){Fn(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Pi(C,z)},reset(){let We=new Map(w.blockers);We.set(Fe,Ga),Pt({blockers:We})}});return}return await wn(me,ie,{submission:ae,pendingError:ce,preventScrollReset:Pe,replace:z&&z.replace,enableViewTransition:z&&z.unstable_viewTransition,flushSync:Be})}function yo(){if(Ai(),Pt({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){wn(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}wn(P||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function wn(C,z,Z){M&&M.abort(),M=null,P=C,Lt=(Z&&Z.startUninterruptedRevalidation)===!0,Yr(w.location,w.matches),A=(Z&&Z.preventScrollReset)===!0,F=(Z&&Z.enableViewTransition)===!0;let Q=h||l,ae=Z&&Z.overrideNavigation,ce=Co(Q,z,d),_e=(Z&&Z.flushSync)===!0,ie=xt(ce,Q,z.pathname);if(ie.active&&ie.matches&&(ce=ie.matches),!ce){let{error:ze,notFoundMatches:ct,route:nt}=Qr(z.pathname);jn(z,{matches:ct,loaderData:{},errors:{[nt.id]:ze}},{flushSync:_e});return}if(w.initialized&&!Ke&&eP(w.location,z)&&!(Z&&Z.submission&&yr(Z.submission.formMethod))){jn(z,{matches:ce},{flushSync:_e});return}M=new AbortController;let ve=xs(t.history,z,M.signal,Z&&Z.submission),me;if(Z&&Z.pendingError)me=[Fs(ce).route.id,{type:et.error,error:Z.pendingError}];else if(Z&&Z.submission&&yr(Z.submission.formMethod)){let ze=await Jo(ve,z,Z.submission,ce,ie.active,{replace:Z.replace,flushSync:_e});if(ze.shortCircuited)return;if(ze.pendingActionResult){let[ct,nt]=ze.pendingActionResult;if(Zn(nt)&&xh(nt.error)&&nt.error.status===404){M=null,jn(z,{matches:ze.matches,loaderData:{},errors:{[ct]:nt.error}});return}}ce=ze.matches||ce,me=ze.pendingActionResult,ae=wd(z,Z.submission),_e=!1,ie.active=!1,ve=xs(t.history,ve.url,ve.signal)}let{shortCircuited:Pe,matches:Be,loaderData:Fe,errors:We}=await Ii(ve,z,ce,ie.active,ae,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,_e,me);Pe||(M=null,jn(z,_t({matches:Be||ce},A_(me),{loaderData:Fe,errors:We})))}async function Jo(C,z,Z,Q,ae,ce){ce===void 0&&(ce={}),Ai();let _e=oP(z,Z);if(Pt({navigation:_e},{flushSync:ce.flushSync===!0}),ae){let me=await Jr(Q,z.pathname,C.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:Pe,error:Be}=Tn(z.pathname,me);return{matches:me.partialMatches,pendingActionResult:[Pe,{type:et.error,error:Be}]}}else if(me.matches)Q=me.matches;else{let{notFoundMatches:Pe,error:Be,route:Fe}=Qr(z.pathname);return{matches:Pe,pendingActionResult:[Fe.id,{type:et.error,error:Be}]}}}let ie,ve=ol(Q,z);if(!ve.route.action&&!ve.route.lazy)ie={type:et.error,error:mn(405,{method:C.method,pathname:z.pathname,routeId:ve.route.id})};else if(ie=(await ut("action",C,[ve],Q))[0],C.signal.aborted)return{shortCircuited:!0};if(No(ie)){let me;return ce&&ce.replace!=null?me=ce.replace:me=S_(ie.response.headers.get("Location"),new URL(C.url),d)===w.location.pathname+w.location.search,await it(C,ie,{submission:Z,replace:me}),{shortCircuited:!0}}if(bo(ie))throw mn(400,{type:"defer-action"});if(Zn(ie)){let me=Fs(Q,ve.route.id);return(ce&&ce.replace)!==!0&&(P=Mt.Push),{matches:Q,pendingActionResult:[me.route.id,ie]}}return{matches:Q,pendingActionResult:[ve.route.id,ie]}}async function Ii(C,z,Z,Q,ae,ce,_e,ie,ve,me,Pe){let Be=ae||wd(z,ce),Fe=ce||_e||N_(Be),We=!Lt&&(!y.v7_partialHydration||!ve);if(Q){if(We){let Ee=Gr(Pe);Pt(_t({navigation:Be},Ee!==void 0?{actionData:Ee}:{}),{flushSync:me})}let se=await Jr(Z,z.pathname,C.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){let{boundaryId:Ee,error:It}=Tn(z.pathname,se);return{matches:se.partialMatches,loaderData:{},errors:{[Ee]:It}}}else if(se.matches)Z=se.matches;else{let{error:Ee,notFoundMatches:It,route:Ue}=Qr(z.pathname);return{matches:It,loaderData:{},errors:{[Ue.id]:Ee}}}}let ze=h||l,[ct,nt]=E_(t.history,w,Z,Fe,z,y.v7_partialHydration&&ve===!0,y.v7_skipActionErrorRevalidation,Ke,pt,K,ge,De,xe,ze,d,Pe);if(bi(se=>!(Z&&Z.some(Ee=>Ee.route.id===se))||ct&&ct.some(Ee=>Ee.route.id===se)),pe=++ne,ct.length===0&&nt.length===0){let se=Lr();return jn(z,_t({matches:Z,loaderData:{},errors:Pe&&Zn(Pe[1])?{[Pe[0]]:Pe[1].error}:null},A_(Pe),se?{fetchers:new Map(w.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(We){let se={};if(!Q){se.navigation=Be;let Ee=Gr(Pe);Ee!==void 0&&(se.actionData=Ee)}nt.length>0&&(se.fetchers=es(nt)),Pt(se,{flushSync:me})}nt.forEach(se=>{le.has(se.key)&&dn(se.key),se.controller&&le.set(se.key,se.controller)});let br=()=>nt.forEach(se=>dn(se.key));M&&M.signal.addEventListener("abort",br);let{loaderResults:Pn,fetcherResults:In}=await Cr(w.matches,Z,ct,nt,C);if(C.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",br),nt.forEach(se=>le.delete(se.key));let rn=L_([...Pn,...In]);if(rn){if(rn.idx>=ct.length){let se=nt[rn.idx-ct.length].key;xe.add(se)}return await it(C,rn.result,{replace:ie}),{shortCircuited:!0}}let{loaderData:Cn,errors:Bt}=I_(w,Z,ct,Pn,Pe,nt,In,tt);tt.forEach((se,Ee)=>{se.subscribe(It=>{(It||se.done)&&tt.delete(Ee)})}),y.v7_partialHydration&&ve&&w.errors&&Object.entries(w.errors).filter(se=>{let[Ee]=se;return!ct.some(It=>It.route.id===Ee)}).forEach(se=>{let[Ee,It]=se;Bt=Object.assign(Bt||{},{[Ee]:It})});let Nr=Lr(),Mr=Li(pe),zn=Nr||Mr||nt.length>0;return _t({matches:Z,loaderData:Cn,errors:Bt},zn?{fetchers:new Map(w.fetchers)}:{})}function Gr(C){if(C&&!Zn(C[1]))return{[C[0]]:C[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function es(C){return C.forEach(z=>{let Z=w.fetchers.get(z.key),Q=Ka(void 0,Z?Z.data:void 0);w.fetchers.set(z.key,Q)}),new Map(w.fetchers)}function Ci(C,z,Z,Q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");le.has(C)&&dn(C);let ae=(Q&&Q.unstable_flushSync)===!0,ce=h||l,_e=Sf(w.location,w.matches,d,y.v7_prependBasename,Z,y.v7_relativeSplatPath,z,Q==null?void 0:Q.relative),ie=Co(ce,_e,d),ve=xt(ie,ce,_e);if(ve.active&&ve.matches&&(ie=ve.matches),!ie){xn(C,z,mn(404,{pathname:_e}),{flushSync:ae});return}let{path:me,submission:Pe,error:Be}=w_(y.v7_normalizeFormMethod,!0,_e,Q);if(Be){xn(C,z,Be,{flushSync:ae});return}let Fe=ol(ie,me);if(A=(Q&&Q.preventScrollReset)===!0,Pe&&yr(Pe.formMethod)){wo(C,z,me,Fe,ie,ve.active,ae,Pe);return}De.set(C,{routeId:z,path:me}),ts(C,z,me,Fe,ie,ve.active,ae,Pe)}async function wo(C,z,Z,Q,ae,ce,_e,ie){Ai(),De.delete(C);function ve(Ue){if(!Ue.route.action&&!Ue.route.lazy){let Ut=mn(405,{method:ie.formMethod,pathname:Z,routeId:z});return xn(C,z,Ut,{flushSync:_e}),!0}return!1}if(!ce&&ve(Q))return;let me=w.fetchers.get(C);En(C,sP(ie,me),{flushSync:_e});let Pe=new AbortController,Be=xs(t.history,Z,Pe.signal,ie);if(ce){let Ue=await Jr(ae,Z,Be.signal);if(Ue.type==="aborted")return;if(Ue.type==="error"){let{error:Ut}=Tn(Z,Ue);xn(C,z,Ut,{flushSync:_e});return}else if(Ue.matches){if(ae=Ue.matches,Q=ol(ae,Z),ve(Q))return}else{xn(C,z,mn(404,{pathname:Z}),{flushSync:_e});return}}le.set(C,Pe);let Fe=ne,ze=(await ut("action",Be,[Q],ae))[0];if(Be.signal.aborted){le.get(C)===Pe&&le.delete(C);return}if(y.v7_fetcherPersist&&ge.has(C)){if(No(ze)||Zn(ze)){En(C,Ui(void 0));return}}else{if(No(ze))if(le.delete(C),pe>Fe){En(C,Ui(void 0));return}else return xe.add(C),En(C,Ka(ie)),it(Be,ze,{fetcherSubmission:ie});if(Zn(ze)){xn(C,z,ze.error);return}}if(bo(ze))throw mn(400,{type:"defer-action"});let ct=w.navigation.location||w.location,nt=xs(t.history,ct,Pe.signal),br=h||l,Pn=w.navigation.state!=="idle"?Co(br,w.navigation.location,d):w.matches;Me(Pn,"Didn't find any matches after fetcher action");let In=++ne;we.set(C,In);let rn=Ka(ie,ze.data);w.fetchers.set(C,rn);let[Cn,Bt]=E_(t.history,w,Pn,ie,ct,!1,y.v7_skipActionErrorRevalidation,Ke,pt,K,ge,De,xe,br,d,[Q.route.id,ze]);Bt.filter(Ue=>Ue.key!==C).forEach(Ue=>{let Ut=Ue.key,Mi=w.fetchers.get(Ut),Ae=Ka(void 0,Mi?Mi.data:void 0);w.fetchers.set(Ut,Ae),le.has(Ut)&&dn(Ut),Ue.controller&&le.set(Ut,Ue.controller)}),Pt({fetchers:new Map(w.fetchers)});let Nr=()=>Bt.forEach(Ue=>dn(Ue.key));Pe.signal.addEventListener("abort",Nr);let{loaderResults:Mr,fetcherResults:zn}=await Cr(w.matches,Pn,Cn,Bt,nt);if(Pe.signal.aborted)return;Pe.signal.removeEventListener("abort",Nr),we.delete(C),le.delete(C),Bt.forEach(Ue=>le.delete(Ue.key));let se=L_([...Mr,...zn]);if(se){if(se.idx>=Cn.length){let Ue=Bt[se.idx-Cn.length].key;xe.add(Ue)}return it(nt,se.result)}let{loaderData:Ee,errors:It}=I_(w,w.matches,Cn,Mr,void 0,Bt,zn,tt);if(w.fetchers.has(C)){let Ue=Ui(ze.data);w.fetchers.set(C,Ue)}Li(In),w.navigation.state==="loading"&&In>pe?(Me(P,"Expected pending action"),M&&M.abort(),jn(w.navigation.location,{matches:Pn,loaderData:Ee,errors:It,fetchers:new Map(w.fetchers)})):(Pt({errors:It,loaderData:C_(w.loaderData,Ee,Pn,It),fetchers:new Map(w.fetchers)}),Ke=!1)}async function ts(C,z,Z,Q,ae,ce,_e,ie){let ve=w.fetchers.get(C);En(C,Ka(ie,ve?ve.data:void 0),{flushSync:_e});let me=new AbortController,Pe=xs(t.history,Z,me.signal);if(ce){let ze=await Jr(ae,Z,Pe.signal);if(ze.type==="aborted")return;if(ze.type==="error"){let{error:ct}=Tn(Z,ze);xn(C,z,ct,{flushSync:_e});return}else if(ze.matches)ae=ze.matches,Q=ol(ae,Z);else{xn(C,z,mn(404,{pathname:Z}),{flushSync:_e});return}}le.set(C,me);let Be=ne,We=(await ut("loader",Pe,[Q],ae))[0];if(bo(We)&&(We=await fw(We,Pe.signal,!0)||We),le.get(C)===me&&le.delete(C),!Pe.signal.aborted){if(ge.has(C)){En(C,Ui(void 0));return}if(No(We))if(pe>Be){En(C,Ui(void 0));return}else{xe.add(C),await it(Pe,We);return}if(Zn(We)){xn(C,z,We.error);return}Me(!bo(We),"Unhandled fetcher deferred data"),En(C,Ui(We.data))}}async function it(C,z,Z){let{submission:Q,fetcherSubmission:ae,replace:ce}=Z===void 0?{}:Z;z.response.headers.has("X-Remix-Revalidate")&&(Ke=!0);let _e=z.response.headers.get("Location");Me(_e,"Expected a Location header on the redirect Response"),_e=S_(_e,new URL(C.url),d);let ie=Bl(w.location,_e,{_isRedirect:!0});if(n){let We=!1;if(z.response.headers.has("X-Remix-Reload-Document"))We=!0;else if(Kp.test(_e)){const ze=t.history.createURL(_e);We=ze.origin!==e.location.origin||da(ze.pathname,d)==null}if(We){ce?e.location.replace(_e):e.location.assign(_e);return}}M=null;let ve=ce===!0||z.response.headers.has("X-Remix-Replace")?Mt.Replace:Mt.Push,{formMethod:me,formAction:Pe,formEncType:Be}=w.navigation;!Q&&!ae&&me&&Pe&&Be&&(Q=N_(w.navigation));let Fe=Q||ae;if(zS.has(z.response.status)&&Fe&&yr(Fe.formMethod))await wn(ve,ie,{submission:_t({},Fe,{formAction:_e}),preventScrollReset:A});else{let We=wd(ie,Q);await wn(ve,ie,{overrideNavigation:We,fetcherSubmission:ae,preventScrollReset:A})}}async function ut(C,z,Z,Q){try{let ae=await KS(m,C,z,Z,Q,s,o);return await Promise.all(ae.map((ce,_e)=>{if(nP(ce)){let ie=ce.result;return{type:et.redirect,response:XS(ie,z,Z[_e].route.id,Q,d,y.v7_relativeSplatPath)}}return YS(ce)}))}catch(ae){return Z.map(()=>({type:et.error,error:ae}))}}async function Cr(C,z,Z,Q,ae){let[ce,..._e]=await Promise.all([Z.length?ut("loader",ae,Z,z):[],...Q.map(ie=>{if(ie.matches&&ie.match&&ie.controller){let ve=xs(t.history,ie.path,ie.controller.signal);return ut("loader",ve,[ie.match],ie.matches).then(me=>me[0])}else return Promise.resolve({type:et.error,error:mn(404,{pathname:ie.path})})})]);return await Promise.all([b_(C,Z,ce,ce.map(()=>ae.signal),!1,w.loaderData),b_(C,Q.map(ie=>ie.match),_e,Q.map(ie=>ie.controller?ie.controller.signal:null),!0)]),{loaderResults:ce,fetcherResults:_e}}function Ai(){Ke=!0,pt.push(...bi()),De.forEach((C,z)=>{le.has(z)&&(K.add(z),dn(z))})}function En(C,z,Z){Z===void 0&&(Z={}),w.fetchers.set(C,z),Pt({fetchers:new Map(w.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function xn(C,z,Z,Q){Q===void 0&&(Q={});let ae=Fs(w.matches,z);Rr(C),Pt({errors:{[ae.route.id]:Z},fetchers:new Map(w.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Ar(C){return y.v7_fetcherPersist&&(Le.set(C,(Le.get(C)||0)+1),ge.has(C)&&ge.delete(C)),w.fetchers.get(C)||BS}function Rr(C){let z=w.fetchers.get(C);le.has(C)&&!(z&&z.state==="loading"&&we.has(C))&&dn(C),De.delete(C),we.delete(C),xe.delete(C),ge.delete(C),K.delete(C),w.fetchers.delete(C)}function Ri(C){if(y.v7_fetcherPersist){let z=(Le.get(C)||0)-1;z<=0?(Le.delete(C),ge.add(C)):Le.set(C,z)}else Rr(C);Pt({fetchers:new Map(w.fetchers)})}function dn(C){let z=le.get(C);Me(z,"Expected fetch controller: "+C),z.abort(),le.delete(C)}function ns(C){for(let z of C){let Z=Ar(z),Q=Ui(Z.data);w.fetchers.set(z,Q)}}function Lr(){let C=[],z=!1;for(let Z of xe){let Q=w.fetchers.get(Z);Me(Q,"Expected fetcher: "+Z),Q.state==="loading"&&(xe.delete(Z),C.push(Z),z=!0)}return ns(C),z}function Li(C){let z=[];for(let[Z,Q]of we)if(Q<C){let ae=w.fetchers.get(Z);Me(ae,"Expected fetcher: "+Z),ae.state==="loading"&&(dn(Z),we.delete(Z),z.push(Z))}return ns(z),z.length>0}function rs(C,z){let Z=w.blockers.get(C)||Ga;return zt.get(C)!==z&&zt.set(C,z),Z}function ki(C){w.blockers.delete(C),zt.delete(C)}function Fn(C,z){let Z=w.blockers.get(C)||Ga;Me(Z.state==="unblocked"&&z.state==="blocked"||Z.state==="blocked"&&z.state==="blocked"||Z.state==="blocked"&&z.state==="proceeding"||Z.state==="blocked"&&z.state==="unblocked"||Z.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+z.state);let Q=new Map(w.blockers);Q.set(C,z),Pt({blockers:Q})}function Kr(C){let{currentLocation:z,nextLocation:Z,historyAction:Q}=C;if(zt.size===0)return;zt.size>1&&ta(!1,"A router only supports one blocker at a time");let ae=Array.from(zt.entries()),[ce,_e]=ae[ae.length-1],ie=w.blockers.get(ce);if(!(ie&&ie.state==="proceeding")&&_e({currentLocation:z,nextLocation:Z,historyAction:Q}))return ce}function Qr(C){let z=mn(404,{pathname:C}),Z=h||l,{matches:Q,route:ae}=R_(Z);return bi(),{notFoundMatches:Q,route:ae,error:z}}function Tn(C,z){return{boundaryId:Fs(z.partialMatches).route.id,error:mn(400,{type:"route-discovery",pathname:C,message:z.error!=null&&"message"in z.error?z.error:String(z.error)})}}function bi(C){let z=[];return tt.forEach((Z,Q)=>{(!C||C(Q))&&(Z.cancel(),z.push(Q),tt.delete(Q))}),z}function Ni(C,z,Z){if($=C,I=z,N=Z||null,!D&&w.navigation===yd){D=!0;let Q=Xr(w.location,w.matches);Q!=null&&Pt({restoreScrollPosition:Q})}return()=>{$=null,I=null,N=null}}function Eo(C,z){return N&&N(C,z.map(Q=>vS(Q,w.loaderData)))||C.key}function Yr(C,z){if($&&I){let Z=Eo(C,z);$[Z]=I()}}function Xr(C,z){if($){let Z=Eo(C,z),Q=$[Z];if(typeof Q=="number")return Q}return null}function xt(C,z,Z){if(v){if(V.has(Z))return{active:!1,matches:C};if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:fc(z,Z,d,!0)}}else return{active:!0,matches:fc(z,Z,d,!0)||[]}}return{active:!1,matches:null}}async function Jr(C,z,Z){let Q=C;for(;;){let ae=h==null,ce=h||l;try{await qS(v,z,Q,ce,s,o,Xo,Z)}catch(ve){return{type:"error",error:ve,partialMatches:Q}}finally{ae&&(l=[...l])}if(Z.aborted)return{type:"aborted"};let _e=Co(ce,z,d);if(_e)return kr(z,V),{type:"success",matches:_e};let ie=fc(ce,z,d,!0);if(!ie||Q.length===ie.length&&Q.every((ve,me)=>ve.route.id===ie[me].route.id))return kr(z,V),{type:"success",matches:null};Q=ie}}function kr(C,z){if(z.size>=j){let Z=z.values().next().value;z.delete(Z)}z.add(C)}function ei(C){s={},h=Ul(C,o,void 0,s)}function Sn(C,z){let Z=h==null;cw(C,z,h||l,s,o),Z&&(l=[...l],Pt({}))}return R={get basename(){return d},get future(){return y},get state(){return w},get routes(){return l},get window(){return e},initialize:Ir,subscribe:qr,enableScrollRestoration:Ni,navigate:Pi,fetch:Ci,revalidate:yo,createHref:C=>t.history.createHref(C),encodeLocation:C=>t.history.encodeLocation(C),getFetcher:Ar,deleteFetcher:Ri,dispose:dr,getBlocker:rs,deleteBlocker:ki,patchRoutes:Sn,_internalFetchControllers:le,_internalActiveDeferreds:tt,_internalSetRoutes:ei},R}function HS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Sf(t,e,n,r,o,s,l,h){let d,m;if(l){d=[];for(let y of e)if(d.push(y),y.route.id===l){m=y;break}}else d=e,m=e[e.length-1];let v=Gp(o||".",qp(d,s),da(t.pathname,n)||t.pathname,h==="path");return o==null&&(v.search=t.search,v.hash=t.hash),(o==null||o===""||o===".")&&m&&m.route.index&&!Qp(v.search)&&(v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(v.pathname=v.pathname==="/"?n:fi([n,v.pathname])),$o(v)}function w_(t,e,n,r){if(!r||!HS(r))return{path:n};if(r.formMethod&&!iP(r.formMethod))return{path:n,error:mn(405,{method:r.formMethod})};let o=()=>({path:n,error:mn(400,{type:"invalid-body"})}),s=r.formMethod||"get",l=t?s.toUpperCase():s.toLowerCase(),h=hw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!yr(l))return o();let E=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((k,j)=>{let[V,$]=j;return""+k+V+"="+$+`
`},""):String(r.body);return{path:n,submission:{formMethod:l,formAction:h,formEncType:r.formEncType,formData:void 0,json:void 0,text:E}}}else if(r.formEncType==="application/json"){if(!yr(l))return o();try{let E=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:h,formEncType:r.formEncType,formData:void 0,json:E,text:void 0}}}catch{return o()}}}Me(typeof FormData=="function","FormData is not available in this environment");let d,m;if(r.formData)d=Pf(r.formData),m=r.formData;else if(r.body instanceof FormData)d=Pf(r.body),m=r.body;else if(r.body instanceof URLSearchParams)d=r.body,m=P_(d);else if(r.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(r.body),m=P_(d)}catch{return o()}let v={formMethod:l,formAction:h,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(yr(v.formMethod))return{path:n,submission:v};let y=go(n);return e&&y.search&&Qp(y.search)&&d.append("index",""),y.search="?"+d,{path:$o(y),submission:v}}function WS(t,e){let n=t;if(e){let r=t.findIndex(o=>o.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function E_(t,e,n,r,o,s,l,h,d,m,v,y,E,k,j,V){let $=V?Zn(V[1])?V[1].error:V[1].data:void 0,N=t.createURL(e.location),I=t.createURL(o),D=V&&Zn(V[1])?V[0]:void 0,H=D?WS(n,D):n,J=V?V[1].statusCode:void 0,te=l&&J&&J>=400,R=H.filter((P,A)=>{let{route:M}=P;if(M.lazy)return!0;if(M.loader==null)return!1;if(s)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(ZS(e.loaderData,e.matches[A],P)||d.some(Re=>Re===P.route.id))return!0;let F=e.matches[A],b=P;return x_(P,_t({currentUrl:N,currentParams:F.params,nextUrl:I,nextParams:b.params},r,{actionResult:$,actionStatus:J,defaultShouldRevalidate:te?!1:h||N.pathname+N.search===I.pathname+I.search||N.search!==I.search||uw(F,b)}))}),w=[];return y.forEach((P,A)=>{if(s||!n.some(Lt=>Lt.route.id===P.routeId)||v.has(A))return;let M=Co(k,P.path,j);if(!M){w.push({key:A,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(A),b=ol(M,P.path),Re=!1;E.has(A)?Re=!1:m.has(A)?(m.delete(A),Re=!0):F&&F.state!=="idle"&&F.data===void 0?Re=h:Re=x_(b,_t({currentUrl:N,currentParams:e.matches[e.matches.length-1].params,nextUrl:I,nextParams:n[n.length-1].params},r,{actionResult:$,actionStatus:J,defaultShouldRevalidate:te?!1:h})),Re&&w.push({key:A,routeId:P.routeId,path:P.path,matches:M,match:b,controller:new AbortController})}),[R,w]}function ZS(t,e,n){let r=!e||n.route.id!==e.route.id,o=t[n.route.id]===void 0;return r||o}function uw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function x_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function qS(t,e,n,r,o,s,l,h){let d=[e,...n.map(m=>m.route.id)].join("-");try{let m=l.get(d);m||(m=t({path:e,matches:n,patch:(v,y)=>{h.aborted||cw(v,y,r,o,s)}}),l.set(d,m)),m&&tP(m)&&await m}finally{l.delete(d)}}function cw(t,e,n,r,o){if(t){var s;let l=r[t];Me(l,"No route found to patch children into: routeId = "+t);let h=Ul(e,o,[t,"patch",String(((s=l.children)==null?void 0:s.length)||"0")],r);l.children?l.children.push(...h):l.children=h}else{let l=Ul(e,o,["patch",String(n.length||"0")],r);n.push(...l)}}async function T_(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let o=n[t.id];Me(o,"No route found in manifest");let s={};for(let l in r){let d=o[l]!==void 0&&l!=="hasErrorBoundary";ta(!d,'Route "'+o.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!d&&!gS.has(l)&&(s[l]=r[l])}Object.assign(o,s),Object.assign(o,_t({},e(o),{lazy:void 0}))}function GS(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function KS(t,e,n,r,o,s,l,h){let d=r.reduce((y,E)=>y.add(E.route.id),new Set),m=new Set,v=await t({matches:o.map(y=>{let E=d.has(y.route.id);return _t({},y,{shouldLoad:E,resolve:j=>(m.add(y.route.id),E?QS(e,n,y,s,l,j,h):Promise.resolve({type:et.data,result:void 0}))})}),request:n,params:o[0].params,context:h});return o.forEach(y=>Me(m.has(y.route.id),'`match.resolve()` was not called for route id "'+y.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),v.filter((y,E)=>d.has(o[E].route.id))}async function QS(t,e,n,r,o,s,l){let h,d,m=v=>{let y,E=new Promise((V,$)=>y=$);d=()=>y(),e.signal.addEventListener("abort",d);let k=V=>typeof v!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):v({request:e,params:n.params,context:l},...V!==void 0?[V]:[]),j;return s?j=s(V=>k(V)):j=(async()=>{try{return{type:"data",result:await k()}}catch(V){return{type:"error",result:V}}})(),Promise.race([j,E])};try{let v=n.route[t];if(n.route.lazy)if(v){let y,[E]=await Promise.all([m(v).catch(k=>{y=k}),T_(n.route,o,r)]);if(y!==void 0)throw y;h=E}else if(await T_(n.route,o,r),v=n.route[t],v)h=await m(v);else if(t==="action"){let y=new URL(e.url),E=y.pathname+y.search;throw mn(405,{method:e.method,pathname:E,routeId:n.route.id})}else return{type:et.data,result:void 0};else if(v)h=await m(v);else{let y=new URL(e.url),E=y.pathname+y.search;throw mn(404,{pathname:E})}Me(h.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){return{type:et.error,result:v}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function YS(t){let{result:e,type:n}=t;if(dw(e)){let m;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(v){return{type:et.error,error:v}}return n===et.error?{type:et.error,error:new $c(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:et.data,data:m,statusCode:e.status,headers:e.headers}}if(n===et.error){if(k_(e)){var r;if(e.data instanceof Error){var o;return{type:et.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status}}e=new $c(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:et.error,error:e,statusCode:xh(e)?e.status:void 0}}if(rP(e)){var s,l;return{type:et.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(k_(e)){var h,d;return{type:et.data,data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}}return{type:et.data,data:e}}function XS(t,e,n,r,o,s){let l=t.headers.get("Location");if(Me(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Kp.test(l)){let h=r.slice(0,r.findIndex(d=>d.route.id===n)+1);l=Sf(new URL(e.url),h,o,!0,l,s),t.headers.set("Location",l)}return t}function S_(t,e,n){if(Kp.test(t)){let r=t,o=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=da(o.pathname,n)!=null;if(o.origin===e.origin&&s)return o.pathname+o.search+o.hash}return t}function xs(t,e,n,r){let o=t.createURL(hw(e)).toString(),s={signal:n};if(r&&yr(r.formMethod)){let{formMethod:l,formEncType:h}=r;s.method=l.toUpperCase(),h==="application/json"?(s.headers=new Headers({"Content-Type":h}),s.body=JSON.stringify(r.json)):h==="text/plain"?s.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?s.body=Pf(r.formData):s.body=r.formData}return new Request(o,s)}function Pf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function P_(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function JS(t,e,n,r,o,s){let l={},h=null,d,m=!1,v={},y=r&&Zn(r[1])?r[1].error:void 0;return n.forEach((E,k)=>{let j=e[k].route.id;if(Me(!No(E),"Cannot handle redirect results in processLoaderData"),Zn(E)){let V=E.error;y!==void 0&&(V=y,y=void 0),h=h||{};{let $=Fs(t,j);h[$.route.id]==null&&(h[$.route.id]=V)}l[j]=void 0,m||(m=!0,d=xh(E.error)?E.error.status:500),E.headers&&(v[j]=E.headers)}else bo(E)?(o.set(j,E.deferredData),l[j]=E.deferredData.data,E.statusCode!=null&&E.statusCode!==200&&!m&&(d=E.statusCode),E.headers&&(v[j]=E.headers)):(l[j]=E.data,E.statusCode&&E.statusCode!==200&&!m&&(d=E.statusCode),E.headers&&(v[j]=E.headers))}),y!==void 0&&r&&(h={[r[0]]:y},l[r[0]]=void 0),{loaderData:l,errors:h,statusCode:d||200,loaderHeaders:v}}function I_(t,e,n,r,o,s,l,h){let{loaderData:d,errors:m}=JS(e,n,r,o,h);for(let v=0;v<s.length;v++){let{key:y,match:E,controller:k}=s[v];Me(l!==void 0&&l[v]!==void 0,"Did not find corresponding fetcher result");let j=l[v];if(!(k&&k.signal.aborted))if(Zn(j)){let V=Fs(t.matches,E==null?void 0:E.route.id);m&&m[V.route.id]||(m=_t({},m,{[V.route.id]:j.error})),t.fetchers.delete(y)}else if(No(j))Me(!1,"Unhandled fetcher revalidation redirect");else if(bo(j))Me(!1,"Unhandled fetcher deferred data");else{let V=Ui(j.data);t.fetchers.set(y,V)}}return{loaderData:d,errors:m}}function C_(t,e,n,r){let o=_t({},e);for(let s of n){let l=s.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(o[l]=e[l]):t[l]!==void 0&&s.route.loader&&(o[l]=t[l]),r&&r.hasOwnProperty(l))break}return o}function A_(t){return t?Zn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function R_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function mn(t,e){let{pathname:n,routeId:r,method:o,type:s,message:l}=e===void 0?{}:e,h="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(h="Bad Request",s==="route-discovery"?d='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+l):o&&n&&r?d="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?d="defer() is not supported in actions":s==="invalid-body"&&(d="Unable to encode submission body")):t===403?(h="Forbidden",d='Route "'+r+'" does not match URL "'+n+'"'):t===404?(h="Not Found",d='No route matches URL "'+n+'"'):t===405&&(h="Method Not Allowed",o&&n&&r?d="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(d='Invalid request method "'+o.toUpperCase()+'"')),new $c(t||500,h,new Error(d),!0)}function L_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(No(n))return{result:n,idx:e}}}function hw(t){let e=typeof t=="string"?go(t):t;return $o(_t({},e,{hash:""}))}function eP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function tP(t){return typeof t=="object"&&t!=null&&"then"in t}function nP(t){return dw(t.result)&&FS.has(t.result.status)}function bo(t){return t.type===et.deferred}function Zn(t){return t.type===et.error}function No(t){return(t&&t.type)===et.redirect}function k_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function rP(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function dw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function iP(t){return jS.has(t.toLowerCase())}function yr(t){return OS.has(t.toLowerCase())}async function b_(t,e,n,r,o,s){for(let l=0;l<n.length;l++){let h=n[l],d=e[l];if(!d)continue;let m=t.find(y=>y.route.id===d.route.id),v=m!=null&&!uw(m,d)&&(s&&s[d.route.id])!==void 0;if(bo(h)&&(o||v)){let y=r[l];Me(y,"Expected an AbortSignal for revalidating fetcher deferred result"),await fw(h,y,o).then(E=>{E&&(n[l]=E||n[l])})}}}async function fw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:et.data,data:t.deferredData.unwrappedData}}catch(o){return{type:et.error,error:o}}return{type:et.data,data:t.deferredData.data}}}function Qp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ol(t,e){let n=typeof e=="string"?go(e).search:e.search;if(t[t.length-1].route.index&&Qp(n||""))return t[t.length-1];let r=sw(t);return r[r.length-1]}function N_(t){let{formMethod:e,formAction:n,formEncType:r,text:o,formData:s,json:l}=t;if(!(!e||!n||!r)){if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function wd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oP(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ka(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sP(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ui(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function aP(t,e){try{let n=t.sessionStorage.getItem(lw);if(n){let r=JSON.parse(n);for(let[o,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(o,new Set(s||[]))}}catch{}}function lP(t,e){if(e.size>0){let n={};for(let[r,o]of e)n[r]=[...o];try{t.sessionStorage.setItem(lw,JSON.stringify(n))}catch(r){ta(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}const Th=W.createContext(null),pw=W.createContext(null),Ko=W.createContext(null),Yp=W.createContext(null),_o=W.createContext({outlet:null,matches:[],isDataRoute:!1}),mw=W.createContext(null);function uP(t,e){let{relative:n}=e===void 0?{}:e;ru()||Me(!1);let{basename:r,navigator:o}=W.useContext(Ko),{hash:s,pathname:l,search:h}=_w(t,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:fi([r,l])),o.createHref({pathname:d,search:h,hash:s})}function ru(){return W.useContext(Yp)!=null}function Sh(){return ru()||Me(!1),W.useContext(Yp).location}function gw(t){W.useContext(Ko).static||W.useLayoutEffect(t)}function cP(){let{isDataRoute:t}=W.useContext(_o);return t?SP():hP()}function hP(){ru()||Me(!1);let t=W.useContext(Th),{basename:e,future:n,navigator:r}=W.useContext(Ko),{matches:o}=W.useContext(_o),{pathname:s}=Sh(),l=JSON.stringify(qp(o,n.v7_relativeSplatPath)),h=W.useRef(!1);return gw(()=>{h.current=!0}),W.useCallback(function(m,v){if(v===void 0&&(v={}),!h.current)return;if(typeof m=="number"){r.go(m);return}let y=Gp(m,JSON.parse(l),s,v.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:fi([e,y.pathname])),(v.replace?r.replace:r.push)(y,v.state,v)},[e,r,l,s,t])}const dP=W.createContext(null);function fP(t){let e=W.useContext(_o).outlet;return e&&W.createElement(dP.Provider,{value:t},e)}function _w(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=W.useContext(Ko),{matches:o}=W.useContext(_o),{pathname:s}=Sh(),l=JSON.stringify(qp(o,r.v7_relativeSplatPath));return W.useMemo(()=>Gp(t,JSON.parse(l),s,n==="path"),[t,l,s,n])}function pP(t,e,n,r){ru()||Me(!1);let{navigator:o}=W.useContext(Ko),{matches:s}=W.useContext(_o),l=s[s.length-1],h=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let m=Sh(),v;v=m;let y=v.pathname||"/",E=y;if(d!=="/"){let V=d.replace(/^\//,"").split("/");E="/"+y.replace(/^\//,"").split("/").slice(V.length).join("/")}let k=Co(t,{pathname:E});return yP(k&&k.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:fi([d,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?d:fi([d,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),s,n,r)}function mP(){let t=TP(),e=xh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:o},n):null,null)}const gP=W.createElement(mP,null);class _P extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?W.createElement(_o.Provider,{value:this.props.routeContext},W.createElement(mw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vP(t){let{routeContext:e,match:n,children:r}=t,o=W.useContext(Th);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(_o.Provider,{value:e},r)}function yP(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,h=(o=n)==null?void 0:o.errors;if(h!=null){let v=l.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);v>=0||Me(!1),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let v=0;v<l.length;v++){let y=l[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=v),y.route.id){let{loaderData:E,errors:k}=n,j=y.route.loader&&E[y.route.id]===void 0&&(!k||k[y.route.id]===void 0);if(y.route.lazy||j){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((v,y,E)=>{let k,j=!1,V=null,$=null;n&&(k=h&&y.route.id?h[y.route.id]:void 0,V=y.route.errorElement||gP,d&&(m<0&&E===0?(PP("route-fallback"),j=!0,$=null):m===E&&(j=!0,$=y.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,E+1)),I=()=>{let D;return k?D=V:j?D=$:y.route.Component?D=W.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=v,W.createElement(vP,{match:y,routeContext:{outlet:v,matches:N,isDataRoute:n!=null},children:D})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?W.createElement(_P,{location:n.location,revalidation:n.revalidation,component:V,error:k,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):I()},null)}var vw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vw||{}),Wc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wc||{});function wP(t){let e=W.useContext(Th);return e||Me(!1),e}function EP(t){let e=W.useContext(pw);return e||Me(!1),e}function xP(t){let e=W.useContext(_o);return e||Me(!1),e}function yw(t){let e=xP(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function TP(){var t;let e=W.useContext(mw),n=EP(Wc.UseRouteError),r=yw(Wc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function SP(){let{router:t}=wP(vw.UseNavigateStable),e=yw(Wc.UseNavigateStable),n=W.useRef(!1);return gw(()=>{n.current=!0}),W.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Hc({fromRouteId:e},s)))},[t,e])}const M_={};function PP(t,e,n){M_[t]||(M_[t]=!0)}function ww(t){return fP(t.context)}function IP(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Mt.Pop,navigator:s,static:l=!1,future:h}=t;ru()&&Me(!1);let d=e.replace(/^\/*/,"/"),m=W.useMemo(()=>({basename:d,navigator:s,static:l,future:Hc({v7_relativeSplatPath:!1},h)}),[d,h,s,l]);typeof r=="string"&&(r=go(r));let{pathname:v="/",search:y="",hash:E="",state:k=null,key:j="default"}=r,V=W.useMemo(()=>{let $=da(v,d);return $==null?null:{location:{pathname:$,search:y,hash:E,state:k,key:j},navigationType:o}},[d,v,y,E,k,j,o]);return V==null?null:W.createElement(Ko.Provider,{value:m},W.createElement(Yp.Provider,{children:n,value:V}))}new Promise(()=>{});function CP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:W.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:W.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:W.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(this,arguments)}function AP(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function RP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LP(t,e){return t.button===0&&(!e||e==="_self")&&!RP(t)}const kP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],bP="6";try{window.__reactRouterVersion=bP}catch{}function NP(t,e){return $S({basename:void 0,future:$l({},void 0,{v7_prependBasename:!0}),history:fS({window:void 0}),hydrationData:MP(),routes:t,mapRouteProperties:CP,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function MP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=$l({},e,{errors:DP(e.errors)})),e}function DP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,o]of e)if(o&&o.__type==="RouteErrorResponse")n[r]=new $c(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let s=window[o.__subType];if(typeof s=="function")try{let l=new s(o.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let s=new Error(o.message);s.stack="",n[r]=s}}else n[r]=o;return n}const OP=W.createContext({isTransitioning:!1}),VP=W.createContext(new Map),jP="startTransition",D_=ex[jP],FP="flushSync",O_=dS[FP];function zP(t){D_?D_(t):t()}function Qa(t){O_?O_(t):t()}let BP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function UP(t){let{fallbackElement:e,router:n,future:r}=t,[o,s]=W.useState(n.state),[l,h]=W.useState(),[d,m]=W.useState({isTransitioning:!1}),[v,y]=W.useState(),[E,k]=W.useState(),[j,V]=W.useState(),$=W.useRef(new Map),{v7_startTransition:N}=r||{},I=W.useCallback(w=>{N?zP(w):w()},[N]),D=W.useCallback((w,P)=>{let{deletedFetchers:A,unstable_flushSync:M,unstable_viewTransitionOpts:F}=P;A.forEach(Re=>$.current.delete(Re)),w.fetchers.forEach((Re,Lt)=>{Re.data!==void 0&&$.current.set(Lt,Re.data)});let b=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!F||b){M?Qa(()=>s(w)):I(()=>s(w));return}if(M){Qa(()=>{E&&(v&&v.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let Re=n.window.document.startViewTransition(()=>{Qa(()=>s(w))});Re.finished.finally(()=>{Qa(()=>{y(void 0),k(void 0),h(void 0),m({isTransitioning:!1})})}),Qa(()=>k(Re));return}E?(v&&v.resolve(),E.skipTransition(),V({state:w,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(h(w),m({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,E,v,$,I]);W.useLayoutEffect(()=>n.subscribe(D),[n,D]),W.useEffect(()=>{d.isTransitioning&&!d.flushSync&&y(new BP)},[d]),W.useEffect(()=>{if(v&&l&&n.window){let w=l,P=v.promise,A=n.window.document.startViewTransition(async()=>{I(()=>s(w)),await P});A.finished.finally(()=>{y(void 0),k(void 0),h(void 0),m({isTransitioning:!1})}),k(A)}},[I,l,v,n.window]),W.useEffect(()=>{v&&l&&o.location.key===l.location.key&&v.resolve()},[v,E,o.location,l]),W.useEffect(()=>{!d.isTransitioning&&j&&(h(j.state),m({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}),V(void 0))},[d.isTransitioning,j]),W.useEffect(()=>{},[]);let H=W.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,P,A)=>n.navigate(w,{state:P,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(w,P,A)=>n.navigate(w,{replace:!0,state:P,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),J=n.basename||"/",te=W.useMemo(()=>({router:n,navigator:H,static:!1,basename:J}),[n,H,J]),R=W.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return W.createElement(W.Fragment,null,W.createElement(Th.Provider,{value:te},W.createElement(pw.Provider,{value:o},W.createElement(VP.Provider,{value:$.current},W.createElement(OP.Provider,{value:d},W.createElement(IP,{basename:J,location:o.location,navigationType:o.historyAction,navigator:H,future:R},o.initialized||n.future.v7_partialHydration?W.createElement($P,{routes:n.routes,future:n.future,state:o}):e))))),null)}const $P=W.memo(HP);function HP(t){let{routes:e,future:n,state:r}=t;return pP(e,void 0,r,n)}const WP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=W.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:s,replace:l,state:h,target:d,to:m,preventScrollReset:v,unstable_viewTransition:y}=e,E=AP(e,kP),{basename:k}=W.useContext(Ko),j,V=!1;if(typeof m=="string"&&ZP.test(m)&&(j=m,WP))try{let D=new URL(window.location.href),H=m.startsWith("//")?new URL(D.protocol+m):new URL(m),J=da(H.pathname,k);H.origin===D.origin&&J!=null?m=J+H.search+H.hash:V=!0}catch{}let $=uP(m,{relative:o}),N=qP(m,{replace:l,state:h,target:d,preventScrollReset:v,relative:o,unstable_viewTransition:y});function I(D){r&&r(D),D.defaultPrevented||N(D)}return W.createElement("a",$l({},E,{href:j||$,onClick:V||s?r:I,ref:n,target:d}))});var V_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(V_||(V_={}));var j_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(j_||(j_={}));function qP(t,e){let{target:n,replace:r,state:o,preventScrollReset:s,relative:l,unstable_viewTransition:h}=e===void 0?{}:e,d=cP(),m=Sh(),v=_w(t,{relative:l});return W.useCallback(y=>{if(LP(y,n)){y.preventDefault();let E=r!==void 0?r:$o(m)===$o(v);d(t,{replace:E,state:o,preventScrollReset:s,relative:l,unstable_viewTransition:h})}},[m,d,v,r,o,n,t,s,l,h])}var Ew={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F_=Yt.createContext&&Yt.createContext(Ew),GP=["attr","size","title"];function KP(t,e){if(t==null)return{};var n=QP(t,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QP(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){YP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YP(t,e,n){return e=XP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XP(t){var e=JP(t,"string");return typeof e=="symbol"?e:e+""}function JP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xw(t){return t&&t.map((e,n)=>Yt.createElement(e.tag,qc({key:n},e.attr),xw(e.child)))}function Vn(t){return e=>Yt.createElement(eI,Zc({attr:qc({},t.attr)},e),xw(t.child))}function eI(t){var e=n=>{var{attr:r,size:o,title:s}=t,l=KP(t,GP),h=o||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Yt.createElement("svg",Zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:qc(qc({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),s&&Yt.createElement("title",null,s),t.children)};return F_!==void 0?Yt.createElement(F_.Consumer,null,n=>e(n)):e(Ew)}function tI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}function nI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"},child:[]}]})(t)}function rI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"18",cy:"6",r:"3"},child:[]},{tag:"path",attr:{d:"M18 19H5V6h8c0-.712.153-1.387.422-2H5c-1.103 0-2 .897-2 2v13c0 1.103.897 2 2 2h13c1.103 0 2-.897 2-2v-8.422A4.962 4.962 0 0 1 18 11v8z"},child:[]}]})(t)}function iI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 12h2v4h-2z"},child:[]},{tag:"path",attr:{d:"M20 7V5c0-1.103-.897-2-2-2H5C3.346 3 2 4.346 2 6v12c0 2.201 1.794 3 3 3h15c1.103 0 2-.897 2-2V9c0-1.103-.897-2-2-2zM5 5h13v2H5a1.001 1.001 0 0 1 0-2zm15 14H5.012C4.55 18.988 4 18.805 4 18V8.815c.314.113.647.185 1 .185h15v10z"},child:[]}]})(t)}function oI(t){return Vn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2"},child:[]}]})(t)}function sI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(t)}function aI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function lI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function If(t){return Vn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function uI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function B_(t){return Vn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Cf(t){return Vn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function cI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function hI(t){return Vn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 192c0 87.4-117 243-168.3 307.2c-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192C0 86 86 0 192 0S384 86 384 192z"},child:[]}]})(t)}const dI={DEFAULT:[{icon:uI,name:"Home",path:"/"},{icon:oI,name:"Activity",path:"/activity"},{icon:hI,name:"Map",path:"/map"},{icon:rI,name:"Notifications",path:"/notifications"},{icon:sI,name:"Profile",path:"/profile"}]},fI=()=>T.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50  border-t border-gray-200",children:T.jsx("div",{className:"bg-white shadow-lg max-w-3xl mx-auto",children:T.jsx("ul",{className:"flex justify-around items-center h-16",children:dI.DEFAULT.map((t,e)=>T.jsx("li",{className:"flex-1",children:T.jsxs(Wt,{to:t.path,className:"flex flex-col items-center text-gray-600 hover:text-blue-600",children:[T.jsx(t.icon,{size:"24"}),T.jsx("span",{className:"text-xs mt-1",children:t.name})]})},e))})})}),pI=()=>{const t=W.useCallback(l=>{localStorage.setItem("authToken",l)},[]),e=W.useCallback(()=>localStorage.getItem("authToken"),[]),n=W.useCallback(()=>{localStorage.removeItem("authToken")},[]),r=W.useCallback((l,h)=>{localStorage.setItem(l,JSON.stringify(h))},[]),o=W.useCallback(l=>{const h=localStorage.getItem(l);return h?JSON.parse(h):null},[]),s=W.useCallback(l=>{localStorage.removeItem(l)},[]);return{saveLocalStorage:r,getLocalStorage:o,removeLocalStorage:s,getToken:e,saveToken:t,removeToken:n}},Tw=()=>{const{saveLocalStorage:t,getLocalStorage:e}=pI(),[n,r]=W.useState(null);return{auth:n,setAuth:r,saveLocalStorage:t,getLocalStorage:e}},mI=()=>{const{getLocalStorage:t}=Tw(),e=t("auth");return T.jsx("div",{className:"bg-gray-200 min-h-screen flex justify-center items-center ",children:T.jsxs("main",{className:"w-full max-w-3xl  bg-white shadow-md rounded-md ",children:[T.jsx(ww,{}),e&&e.isAuthenticated&&T.jsx(fI,{})]})})},Ya=48,gI=({color:t="currentColor",direction:e="left",distance:n="md",duration:r=.4,easing:o="cubic-bezier(0, 0, 0, 1)",hideOutline:s=!0,label:l,lines:h=3,onToggle:d,render:m,rounded:v=!1,size:y=32,toggle:E,toggled:k,disabled:j=!1,animateOnMount:V=!1})=>{const[$,N]=W.useState(!1),[I,D]=W.useState(!1);W.useEffect(()=>{D(!0)},[]);const H=Math.max(12,Math.min(Ya,y)),J=Math.round((Ya-H)/2),te=H/12,R=Math.round(te),P=H/(h*((n==="lg"?.25:n==="sm"?.75:.5)+(h===3?1:1.25))),A=Math.round(P),M=R*h+A*(h-1),F=Math.round((Ya-M)/2),b=h===3?n==="lg"?4.0425:n==="sm"?5.1625:4.6325:n==="lg"?6.7875:n==="sm"?8.4875:7.6675,Re=(te-R+(P-A))/(h===3?1:2),Lt=parseFloat((H/b-Re/(4/3)).toFixed(2)),Ke=Math.max(0,r),pt={cursor:j?"not-allowed":"pointer",height:`${Ya}px`,position:"relative",transition:`${Ke}s ${o}`,userSelect:"none",width:`${Ya}px`},K={background:t,height:`${R}px`,left:`${J}px`,position:"absolute"};s&&(pt.outline="none"),v&&(K.borderRadius="9em");const le=()=>{const xe=k!==void 0?k:$;return V&&!I?!xe:xe},ne=E||N,pe=le();return m({barHeight:R,barStyles:K,burgerStyles:pt,easing:o,handler:()=>{ne(!pe),typeof d=="function"&&d(!pe)},isLeft:e==="left",isToggled:pe,label:l,margin:A,move:Lt,time:Ke,topOffset:F,width:H})};function Af(){return Af=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Af.apply(this,arguments)}const _I=t=>Yt.createElement(gI,Af({},t,{render:e=>Yt.createElement("div",{className:"hamburger-react","aria-label":e.label,"aria-expanded":e.isToggled,onClick:t.disabled?void 0:e.handler,onKeyUp:t.disabled?void 0:n=>n.key==="Enter"&&e.handler(),role:"button",style:{...e.burgerStyles,transform:`${e.isToggled?`rotateY(${180*(e.isLeft?-1:1)}deg)`:"none"}`},tabIndex:0},Yt.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset}px`,transition:`${e.time}s ${e.easing}`,transform:`${e.isToggled?`rotate(${45*(e.isLeft?-1:1)}deg) translate(${e.move*(e.isLeft?-1:1)}px, ${e.move}px)`:"none"}`}}),Yt.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset+e.barHeight+e.margin}px`,transition:`${e.time}s ${e.easing}`,transform:`${e.isToggled?`scale(0, 1) translate(${e.move*20*(e.isLeft?-1:1)}px, 0)`:"none"}`}}),Yt.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset+e.barHeight*2+e.margin*2}px`,transition:`${e.time}s ${e.easing}`,transform:`${e.isToggled?`rotate(${45*(e.isLeft?1:-1)}deg) translate(${e.move*(e.isLeft?-1:1)}px, ${e.move*-1}px)`:"none"}`}}))})),vI=()=>{const[t,e]=W.useState(!1);return T.jsxs("nav",{className:"bg-gradient-to-l from-yellow-500 to-yellow-800 shadow-md fixed w-full top-0 z-10",children:[" ",T.jsxs("div",{className:"container mx-auto px-4 py-2 flex justify-between items-center",children:[T.jsx("div",{className:"flex items-center space-x-2",children:T.jsx(Wt,{to:"/",children:T.jsxs("span",{className:"font-bold text-3xl text-white tracking-widest",children:["LI",T.jsx("span",{className:"text-yellow-500 tracking-wider",children:"BREW"}),"HAN"]})})}),T.jsxs("div",{className:"hidden md:flex space-x-6 ",children:[T.jsx(Wt,{to:"/products",className:"text-white hover:text-yellow-700 text-lg",children:"Products"}),T.jsx(Wt,{to:"/stores",className:"text-white hover:text-yellow-700 text-lg",children:"Stores"}),T.jsx(Wt,{to:"/faq",className:"text-white hover:text-yellow-700 text-lg",children:"FAQ"}),T.jsx(Wt,{to:"/about",className:"text-white hover:text-yellow-700 text-lg",children:"About"})]}),T.jsx("div",{className:"md:hidden",children:T.jsx(_I,{toggled:t,toggle:e,color:"white"})})]}),t&&T.jsxs("div",{className:"md:hidden bg-white shadow-md",children:[T.jsx(Wt,{to:"/products",className:"block px-4 py-2 hover:bg-gray-100",children:"Products"}),T.jsx(Wt,{to:"/stores",className:"block px-4 py-2 hover:bg-gray-100",children:"Stores"}),T.jsx(Wt,{to:"/faq",className:"block px-4 py-2 hover:bg-gray-100",children:"FAQ"}),T.jsx(Wt,{to:"/about",className:"block px-4 py-2 hover:bg-gray-100",children:"About"})]})]})},yI="/assets/warning_red-DLKLQzSA.webp",wI="/assets/BG1-BgvHUkAF.jpg",EI="/assets/RAW1-BXuqEkYl.jpg",xI="/assets/RAW2-CGUxSjxM.jpg",TI="/assets/RAW3-DAn8DcZ8.jpg",SI="/assets/RAW4-VMw5LdyG.jpg",PI="/assets/RAW5-JwYZA28q.jpg",II="/assets/LIBREWHANLOGO-CIc3M7s8.png",Ao={WARNING:{RED:yI},IMAGES:{LIBREWHANLOGO:II,BG1:wI,RAW1:EI,RAW2:xI,RAW3:TI,RAW4:SI,RAW5:PI}},CI=()=>T.jsx("footer",{className:"bg-gradient-to-r from-stone-900 to-gray-800 text-white py-12",children:T.jsxs("div",{className:"container mx-auto px-6",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between items-center",children:[T.jsxs("div",{className:"mb-8 md:mb-0 flex items-center",children:[T.jsx("img",{src:Ao.IMAGES.LIBREWHANLOGO,alt:"Librewhan Cafe Logo",className:"h-20 w-auto"}),T.jsx("h2",{className:"text-2xl font-bold ml-4 mr-10",children:"LIBREWHAN Cafe"})]}),T.jsxs("div",{className:"mb-8 md:mb-0",children:[T.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),T.jsxs("ul",{className:"text-gray-400 space-y-2",children:[T.jsx("li",{children:T.jsx(Wt,{to:"/about",className:"hover:text-teal-400 transition-colors",children:"About Us"})}),T.jsx("li",{children:T.jsx(Wt,{to:"/stores#stores",className:"hover:text-teal-400 transition-colors",children:"Stores"})}),T.jsx("li",{children:T.jsx(Wt,{to:"/stores#franchise",className:"hover:text-teal-400 transition-colors",children:"Franchise"})}),T.jsx("li",{children:T.jsx(Wt,{to:"/faq",className:"hover:text-teal-400 transition-colors",children:"FAQs"})})]})]}),T.jsxs("div",{className:"text-center md:text-left",children:[T.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contact Us"}),T.jsxs("p",{className:"flex items-center justify-center md:justify-start mb-2",children:[T.jsx(Cf,{className:"text-teal-400 mr-2"}),"0981 725 1782 or 8642 0110"]}),T.jsxs("p",{className:"flex items-center justify-center md:justify-start",children:[T.jsx(If,{className:"text-teal-400 mr-2"}),T.jsx("a",{href:"mailto:librewhancafe@gmail.com",className:"text-teal-400 hover:underline",children:"librewhancafe@gmail.com"})]})]})]}),T.jsxs("div",{className:"mt-12 text-center border-t border-gray-700 pt-6",children:[T.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," LIBREWHAN CAFE. All rights reserved."]}),T.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Designed with love by Lebrewhan Team X KGAN"})]})]})}),AI=()=>T.jsxs("div",{className:" min-h-screen  ",children:[T.jsx(vI,{}),T.jsx("main",{className:"w-screen mt-12  ",children:T.jsx(ww,{})}),T.jsx(CI,{})]}),RI=({activities:t})=>T.jsxs("div",{className:"  min-h-screen",children:[T.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-6 p-4",children:"Activity Page"}),T.jsxs("div",{className:" p-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Recent Activities"}),T.jsx("ul",{className:"space-y-4",children:t.map(e=>T.jsxs("li",{className:"p-4 bg-gray-50 rounded-lg shadow",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.title}),T.jsx("p",{className:"text-gray-600",children:e.description}),T.jsxs("div",{className:"flex justify-between items-center mt-2",children:[T.jsx("span",{className:"text-gray-500 text-sm",children:new Date(e.date).toLocaleDateString()}),T.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-lg ${e.status==="Completed"?"bg-green-200 text-green-800":e.status==="In Progress"?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,children:e.status})]})]},e.id))})]})]}),LI=()=>{const t=[{id:1,title:"Accident at Main St.",description:"A collision occurred between two vehicles at Main St.",date:"2024-08-23T12:00:00Z",status:"Completed"},{id:2,title:"Road Maintenance on Elm St.",description:"Ongoing road maintenance work at Elm St.",date:"2024-08-24T09:00:00Z",status:"In Progress"},{id:3,title:"Safety Inspection at Maple Ave.",description:"Safety inspection scheduled for Maple Ave.",date:"2024-08-25T10:00:00Z",status:"Pending"}];return T.jsx(RI,{activities:t})},kI=({highRiskRoads:t,totalAccidents:e,accidentSeverity:n,roadConditions:r})=>T.jsxs("div",{className:"p-4 sm:p-6 md:p-8 lg:p-10 bg-gray-100 min-h-screen",children:[T.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Road Safety Dashboard"}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[T.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-4",children:[T.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-700",children:"High Risk Roads"}),T.jsx("p",{className:"text-3xl md:text-4xl font-bold text-red-500 mt-2",children:t})]}),T.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-4",children:[T.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-700",children:"Total Accidents"}),T.jsx("p",{className:"text-3xl md:text-4xl font-bold text-orange-500 mt-2",children:e})]}),T.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-4",children:[T.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-700",children:"Accident Severity"}),T.jsxs("div",{className:"mt-2",children:[T.jsxs("p",{className:"text-base md:text-lg",children:["Severe:"," ",T.jsx("span",{className:"font-bold text-red-600",children:n.severe})]}),T.jsxs("p",{className:"text-base md:text-lg",children:["Moderate:"," ",T.jsx("span",{className:"font-bold text-yellow-600",children:n.moderate})]}),T.jsxs("p",{className:"text-base md:text-lg",children:["Mild:"," ",T.jsx("span",{className:"font-bold text-green-600",children:n.mild})]})]})]}),T.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-4",children:[T.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-700",children:"Road Conditions"}),T.jsxs("div",{className:"mt-2",children:[T.jsxs("p",{className:"text-base md:text-lg",children:["Good:"," ",T.jsx("span",{className:"font-bold text-green-600",children:r.good})]}),T.jsxs("p",{className:"text-base md:text-lg",children:["Fair:"," ",T.jsx("span",{className:"font-bold text-yellow-600",children:r.fair})]}),T.jsxs("p",{className:"text-base md:text-lg",children:["Poor:"," ",T.jsx("span",{className:"font-bold text-red-600",children:r.poor})]})]})]})]})]}),bI=()=>{const n={severe:10,moderate:50,mild:60},r={good:70,fair:20,poor:10};return T.jsx("div",{children:T.jsx(kI,{highRiskRoads:15,totalAccidents:120,accidentSeverity:n,roadConditions:r})})};function Sw(t,e){const n=W.useRef(e);W.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const NI=1;function MI(t){return Object.freeze({__version:NI,map:t})}function DI(t,e){return Object.freeze({...t,...e})}const Pw=W.createContext(null),Iw=Pw.Provider;function Cw(){const t=W.useContext(Pw);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function OI(t){function e(n,r){const{instance:o,context:s}=t(n).current;return W.useImperativeHandle(r,()=>o),n.children==null?null:Yt.createElement(Iw,{value:s},n.children)}return W.forwardRef(e)}function VI(t){function e(n,r){const[o,s]=W.useState(!1),{instance:l}=t(n,s).current;W.useImperativeHandle(r,()=>l),W.useEffect(function(){o&&l.update()},[l,o,n.children]);const h=l._contentNode;return h?Eh.createPortal(n.children,h):null}return W.forwardRef(e)}function jI(t){function e(n,r){const{instance:o}=t(n).current;return W.useImperativeHandle(r,()=>o),null}return W.forwardRef(e)}function Aw(t,e){const n=W.useRef();W.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Xp(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function FI(t,e){return function(r,o){const s=Cw(),l=t(Xp(r,s),s);return Sw(s.map,r.attribution),Aw(l.current,r.eventHandlers),e(l.current,s,r,o),l}}var Rf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(jE,function(n){var r="1.9.4";function o(i){var a,c,f,g;for(c=1,f=arguments.length;c<f;c++){g=arguments[c];for(a in g)i[a]=g[a]}return i}var s=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function l(i,a){var c=Array.prototype.slice;if(i.bind)return i.bind.apply(i,c.call(arguments,1));var f=c.call(arguments,2);return function(){return i.apply(a,f.length?f.concat(c.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function m(i,a,c){var f,g,x,O;return O=function(){f=!1,g&&(x.apply(c,g),g=!1)},x=function(){f?g=arguments:(i.apply(c,arguments),setTimeout(O,a),f=!0)},x}function v(i,a,c){var f=a[1],g=a[0],x=f-g;return i===f&&c?i:((i-g)%x+x)%x+g}function y(){return!1}function E(i,a){if(a===!1)return i;var c=Math.pow(10,a===void 0?6:a);return Math.round(i*c)/c}function k(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function j(i){return k(i).split(/\s+/)}function V(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?s(i.options):{});for(var c in a)i.options[c]=a[c];return i.options}function $(i,a,c){var f=[];for(var g in i)f.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(i[g]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function I(i,a){return i.replace(N,function(c,f){var g=a[f];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(a)),g})}var D=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function H(i,a){for(var c=0;c<i.length;c++)if(i[c]===a)return c;return-1}var J="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function te(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var R=0;function w(i){var a=+new Date,c=Math.max(0,16-(a-R));return R=a+c,window.setTimeout(i,c)}var P=window.requestAnimationFrame||te("RequestAnimationFrame")||w,A=window.cancelAnimationFrame||te("CancelAnimationFrame")||te("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function M(i,a,c){if(c&&P===w)i.call(a);else return P.call(window,l(i,a))}function F(i){i&&A.call(window,i)}var b={__proto__:null,extend:o,create:s,bind:l,get lastId(){return h},stamp:d,throttle:m,wrapNum:v,falseFn:y,formatNum:E,trim:k,splitWords:j,setOptions:V,getParamString:$,template:I,isArray:D,indexOf:H,emptyImageUrl:J,requestFn:P,cancelFn:A,requestAnimFrame:M,cancelAnimFrame:F};function Re(){}Re.extend=function(i){var a=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,f=s(c);f.constructor=a,a.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(a[g]=this[g]);return i.statics&&o(a,i.statics),i.includes&&(Lt(i.includes),o.apply(null,[f].concat(i.includes))),o(f,i),delete f.statics,delete f.includes,f.options&&(f.options=c.options?s(c.options):{},o(f.options,i.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,O=f._initHooks.length;x<O;x++)f._initHooks[x].call(this)}},a},Re.include=function(i){var a=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},Re.mergeOptions=function(i){return o(this.prototype.options,i),this},Re.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),c=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Lt(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=D(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ke={on:function(i,a,c){if(typeof i=="object")for(var f in i)this._on(f,i[f],a);else{i=j(i);for(var g=0,x=i.length;g<x;g++)this._on(i[g],a,c)}return this},off:function(i,a,c){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var f in i)this._off(f,i[f],a);else{i=j(i);for(var g=arguments.length===1,x=0,O=i.length;x<O;x++)g?this._off(i[x]):this._off(i[x],a,c)}return this},_on:function(i,a,c,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,c)===!1){c===this&&(c=void 0);var g={fn:a,ctx:c};f&&(g.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(g)}},_off:function(i,a,c){var f,g,x;if(this._events&&(f=this._events[i],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,x=f.length;g<x;g++)f[g].fn=y;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var O=this._listens(i,a,c);if(O!==!1){var U=f[O];this._firingCount&&(U.fn=y,this._events[i]=f=f.slice()),f.splice(O,1)}}},fire:function(i,a,c){if(!this.listens(i,c))return this;var f=o({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var g=this._events[i];if(g){this._firingCount=this._firingCount+1||1;for(var x=0,O=g.length;x<O;x++){var U=g[x],q=U.fn;U.once&&this.off(i,q,U.ctx),q.call(U.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(i,a,c,f){typeof i!="string"&&console.warn('"string" type argument expected');var g=a;typeof a!="function"&&(f=!!a,g=void 0,c=void 0);var x=this._events&&this._events[i];if(x&&x.length&&this._listens(i,g,c)!==!1)return!0;if(f){for(var O in this._eventParents)if(this._eventParents[O].listens(i,a,c,f))return!0}return!1},_listens:function(i,a,c){if(!this._events)return!1;var f=this._events[i]||[];if(!a)return!!f.length;c===this&&(c=void 0);for(var g=0,x=f.length;g<x;g++)if(f[g].fn===a&&f[g].ctx===c)return g;return!1},once:function(i,a,c){if(typeof i=="object")for(var f in i)this._on(f,i[f],a,!0);else{i=j(i);for(var g=0,x=i.length;g<x;g++)this._on(i[g],a,c,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Ke.addEventListener=Ke.on,Ke.removeEventListener=Ke.clearAllEventListeners=Ke.off,Ke.addOneTimeEventListener=Ke.once,Ke.fireEvent=Ke.fire,Ke.hasEventListeners=Ke.listens;var pt=Re.extend(Ke);function K(i,a,c){this.x=c?Math.round(i):i,this.y=c?Math.round(a):a}var le=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(i){return this.clone()._add(ne(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(ne(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new K(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new K(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(i){i=ne(i);var a=i.x-this.x,c=i.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(i){return i=ne(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=ne(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function ne(i,a,c){return i instanceof K?i:D(i)?new K(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new K(i.x,i.y):new K(i,a,c)}function pe(i,a){if(i)for(var c=a?[i,a]:i,f=0,g=c.length;f<g;f++)this.extend(c[f])}pe.prototype={extend:function(i){var a,c;if(!i)return this;if(i instanceof K||typeof i[0]=="number"||"x"in i)a=c=ne(i);else if(i=we(i),a=i.min,c=i.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(i){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,c;return typeof i[0]=="number"||i instanceof K?i=ne(i):i=we(i),i instanceof pe?(a=i.min,c=i.max):a=c=i,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(i){i=we(i);var a=this.min,c=this.max,f=i.min,g=i.max,x=g.x>=a.x&&f.x<=c.x,O=g.y>=a.y&&f.y<=c.y;return x&&O},overlaps:function(i){i=we(i);var a=this.min,c=this.max,f=i.min,g=i.max,x=g.x>a.x&&f.x<c.x,O=g.y>a.y&&f.y<c.y;return x&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,c=this.max,f=Math.abs(a.x-c.x)*i,g=Math.abs(a.y-c.y)*i;return we(ne(a.x-f,a.y-g),ne(c.x+f,c.y+g))},equals:function(i){return i?(i=we(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function we(i,a){return!i||i instanceof pe?i:new pe(i,a)}function xe(i,a){if(i)for(var c=a?[i,a]:i,f=0,g=c.length;f<g;f++)this.extend(c[f])}xe.prototype={extend:function(i){var a=this._southWest,c=this._northEast,f,g;if(i instanceof Le)f=i,g=i;else if(i instanceof xe){if(f=i._southWest,g=i._northEast,!f||!g)return this}else return i?this.extend(ge(i)||De(i)):this;return!a&&!c?(this._southWest=new Le(f.lat,f.lng),this._northEast=new Le(g.lat,g.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(i){var a=this._southWest,c=this._northEast,f=Math.abs(a.lat-c.lat)*i,g=Math.abs(a.lng-c.lng)*i;return new xe(new Le(a.lat-f,a.lng-g),new Le(c.lat+f,c.lng+g))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof Le||"lat"in i?i=ge(i):i=De(i);var a=this._southWest,c=this._northEast,f,g;return i instanceof xe?(f=i.getSouthWest(),g=i.getNorthEast()):f=g=i,f.lat>=a.lat&&g.lat<=c.lat&&f.lng>=a.lng&&g.lng<=c.lng},intersects:function(i){i=De(i);var a=this._southWest,c=this._northEast,f=i.getSouthWest(),g=i.getNorthEast(),x=g.lat>=a.lat&&f.lat<=c.lat,O=g.lng>=a.lng&&f.lng<=c.lng;return x&&O},overlaps:function(i){i=De(i);var a=this._southWest,c=this._northEast,f=i.getSouthWest(),g=i.getNorthEast(),x=g.lat>a.lat&&f.lat<c.lat,O=g.lng>a.lng&&f.lng<c.lng;return x&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=De(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function De(i,a){return i instanceof xe?i:new xe(i,a)}function Le(i,a,c){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,c!==void 0&&(this.alt=+c)}Le.prototype={equals:function(i,a){if(!i)return!1;i=ge(i);var c=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return c<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+E(this.lat,i)+", "+E(this.lng,i)+")"},distanceTo:function(i){return zt.distance(this,ge(i))},wrap:function(){return zt.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,c=a/Math.cos(Math.PI/180*this.lat);return De([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};function ge(i,a,c){return i instanceof Le?i:D(i)&&typeof i[0]!="object"?i.length===3?new Le(i[0],i[1],i[2]):i.length===2?new Le(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new Le(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new Le(i,a,c)}var tt={latLngToPoint:function(i,a){var c=this.projection.project(i),f=this.scale(a);return this.transformation._transform(c,f)},pointToLatLng:function(i,a){var c=this.scale(a),f=this.transformation.untransform(i,c);return this.projection.unproject(f)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(i),f=this.transformation.transform(a.min,c),g=this.transformation.transform(a.max,c);return new pe(f,g)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?v(i.lng,this.wrapLng,!0):i.lng,c=this.wrapLat?v(i.lat,this.wrapLat,!0):i.lat,f=i.alt;return new Le(c,a,f)},wrapLatLngBounds:function(i){var a=i.getCenter(),c=this.wrapLatLng(a),f=a.lat-c.lat,g=a.lng-c.lng;if(f===0&&g===0)return i;var x=i.getSouthWest(),O=i.getNorthEast(),U=new Le(x.lat-f,x.lng-g),q=new Le(O.lat-f,O.lng-g);return new xe(U,q)}},zt=o({},tt,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var c=Math.PI/180,f=i.lat*c,g=a.lat*c,x=Math.sin((a.lat-i.lat)*c/2),O=Math.sin((a.lng-i.lng)*c/2),U=x*x+Math.cos(f)*Math.cos(g)*O*O,q=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*q}}),Xo=6378137,Jn={R:Xo,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,i.lat),-c),g=Math.sin(f*a);return new K(this.R*i.lng*a,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(i){var a=180/Math.PI;return new Le((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=Xo*Math.PI;return new pe([-i,-i],[i,i])}()};function Ir(i,a,c,f){if(D(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=c,this._d=f}Ir.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new K((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function dr(i,a,c,f){return new Ir(i,a,c,f)}var qr=o({},zt,{code:"EPSG:3857",projection:Jn,transformation:function(){var i=.5/(Math.PI*Jn.R);return dr(i,.5,-i,.5)}()}),Pt=o({},qr,{code:"EPSG:900913"});function jn(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Pi(i,a){var c="",f,g,x,O,U,q;for(f=0,x=i.length;f<x;f++){for(U=i[f],g=0,O=U.length;g<O;g++)q=U[g],c+=(g?"L":"M")+q.x+" "+q.y;c+=a?C.svg?"z":"x":""}return c||"M0 0"}var yo=document.documentElement.style,wn="ActiveXObject"in window,Jo=wn&&!document.addEventListener,Ii="msLaunchUri"in navigator&&!("documentMode"in document),Gr=Sn("webkit"),es=Sn("android"),Ci=Sn("android 2")||Sn("android 3"),wo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ts=es&&Sn("Google")&&wo<537&&!("AudioNode"in window),it=!!window.opera,ut=!Ii&&Sn("chrome"),Cr=Sn("gecko")&&!Gr&&!it&&!wn,Ai=!ut&&Sn("safari"),En=Sn("phantom"),xn="OTransition"in yo,Ar=navigator.platform.indexOf("Win")===0,Rr=wn&&"transition"in yo,Ri="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ci,dn="MozPerspective"in yo,ns=!window.L_DISABLE_3D&&(Rr||Ri||dn)&&!xn&&!En,Lr=typeof orientation<"u"||Sn("mobile"),Li=Lr&&Gr,rs=Lr&&Ri,ki=!window.PointerEvent&&window.MSPointerEvent,Fn=!!(window.PointerEvent||ki),Kr="ontouchstart"in window||!!window.TouchEvent,Qr=!window.L_NO_TOUCH&&(Kr||Fn),Tn=Lr&&it,bi=Lr&&Cr,Ni=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Eo=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",y,a),window.removeEventListener("testPassiveEventSupport",y,a)}catch{}return i}(),Yr=function(){return!!document.createElement("canvas").getContext}(),Xr=!!(document.createElementNS&&jn("svg").createSVGRect),xt=!!Xr&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Jr=!Xr&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),kr=navigator.platform.indexOf("Mac")===0,ei=navigator.platform.indexOf("Linux")===0;function Sn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var C={ie:wn,ielt9:Jo,edge:Ii,webkit:Gr,android:es,android23:Ci,androidStock:ts,opera:it,chrome:ut,gecko:Cr,safari:Ai,phantom:En,opera12:xn,win:Ar,ie3d:Rr,webkit3d:Ri,gecko3d:dn,any3d:ns,mobile:Lr,mobileWebkit:Li,mobileWebkit3d:rs,msPointer:ki,pointer:Fn,touch:Qr,touchNative:Kr,mobileOpera:Tn,mobileGecko:bi,retina:Ni,passiveEvents:Eo,canvas:Yr,svg:Xr,vml:Jr,inlineSvg:xt,mac:kr,linux:ei},z=C.msPointer?"MSPointerDown":"pointerdown",Z=C.msPointer?"MSPointerMove":"pointermove",Q=C.msPointer?"MSPointerUp":"pointerup",ae=C.msPointer?"MSPointerCancel":"pointercancel",ce={touchstart:z,touchmove:Z,touchend:Q,touchcancel:ae},_e={touchstart:nt,touchmove:ct,touchend:ct,touchcancel:ct},ie={},ve=!1;function me(i,a,c){return a==="touchstart"&&ze(),_e[a]?(c=_e[a].bind(this,c),i.addEventListener(ce[a],c,!1),c):(console.warn("wrong event specified:",a),y)}function Pe(i,a,c){if(!ce[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(ce[a],c,!1)}function Be(i){ie[i.pointerId]=i}function Fe(i){ie[i.pointerId]&&(ie[i.pointerId]=i)}function We(i){delete ie[i.pointerId]}function ze(){ve||(document.addEventListener(z,Be,!0),document.addEventListener(Z,Fe,!0),document.addEventListener(Q,We,!0),document.addEventListener(ae,We,!0),ve=!0)}function ct(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in ie)a.touches.push(ie[c]);a.changedTouches=[a],i(a)}}function nt(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&mt(a),ct(i,a)}function br(i){var a={},c,f;for(f in i)c=i[f],a[f]=c&&c.bind?c.bind(i):c;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Pn=200;function In(i,a){i.addEventListener("dblclick",a);var c=0,f;function g(x){if(x.detail!==1){f=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var O=Ca(x);if(!(O.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!O.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var U=Date.now();U-c<=Pn?(f++,f===2&&a(br(x))):f=1,c=U}}}return i.addEventListener("click",g),{dblclick:a,simDblclick:g}}function rn(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var Cn=ti(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bt=ti(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Nr=Bt==="webkitTransition"||Bt==="OTransition"?Bt+"End":"transitionend";function Mr(i){return typeof i=="string"?document.getElementById(i):i}function zn(i,a){var c=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(i,null);c=f?f[a]:null}return c==="auto"?null:c}function se(i,a,c){var f=document.createElement(i);return f.className=a||"",c&&c.appendChild(f),f}function Ee(i){var a=i.parentNode;a&&a.removeChild(i)}function It(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Ue(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function Ut(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Mi(i,a){if(i.classList!==void 0)return i.classList.contains(a);var c=er(i);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function Ae(i,a){if(i.classList!==void 0)for(var c=j(a),f=0,g=c.length;f<g;f++)i.classList.add(c[f]);else if(!Mi(i,a)){var x=er(i);ya(i,(x?x+" ":"")+a)}}function ht(i,a){i.classList!==void 0?i.classList.remove(a):ya(i,k((" "+er(i)+" ").replace(" "+a+" "," ")))}function ya(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function er(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Tt(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&is(i,a)}function is(i,a){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=i.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):i.style.filter+=" progid:"+f+"(opacity="+a+")"}function ti(i){for(var a=document.documentElement.style,c=0;c<i.length;c++)if(i[c]in a)return i[c];return!1}function Dr(i,a,c){var f=a||new K(0,0);i.style[Cn]=(C.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function Ie(i,a){i._leaflet_pos=a,C.any3d?Dr(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function tr(i){return i._leaflet_pos||new K(0,0)}var fr,pr,wa;if("onselectstart"in document)fr=function(){Te(window,"selectstart",mt)},pr=function(){Xe(window,"selectstart",mt)};else{var Di=ti(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fr=function(){if(Di){var i=document.documentElement.style;wa=i[Di],i[Di]="none"}},pr=function(){Di&&(document.documentElement.style[Di]=wa,wa=void 0)}}function Ea(){Te(window,"dragstart",mt)}function xa(){Xe(window,"dragstart",mt)}var os,Ta;function ni(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Bn(),os=i,Ta=i.style.outlineStyle,i.style.outlineStyle="none",Te(window,"keydown",Bn))}function Bn(){os&&(os.style.outlineStyle=Ta,os=void 0,Ta=void 0,Xe(window,"keydown",Bn))}function Sa(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function ss(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var fu={__proto__:null,TRANSFORM:Cn,TRANSITION:Bt,TRANSITION_END:Nr,get:Mr,getStyle:zn,create:se,remove:Ee,empty:It,toFront:Ue,toBack:Ut,hasClass:Mi,addClass:Ae,removeClass:ht,setClass:ya,getClass:er,setOpacity:Tt,testProp:ti,setTransform:Dr,setPosition:Ie,getPosition:tr,get disableTextSelection(){return fr},get enableTextSelection(){return pr},disableImageDrag:Ea,enableImageDrag:xa,preventOutline:ni,restoreOutline:Bn,getSizedParentNode:Sa,getScale:ss};function Te(i,a,c,f){if(a&&typeof a=="object")for(var g in a)Pa(i,g,a[g],c);else{a=j(a);for(var x=0,O=a.length;x<O;x++)Pa(i,a[x],c,f)}return this}var nr="_leaflet_events";function Xe(i,a,c,f){if(arguments.length===1)pu(i),delete i[nr];else if(a&&typeof a=="object")for(var g in a)Ia(i,g,a[g],c);else if(a=j(a),arguments.length===2)pu(i,function(U){return H(a,U)!==-1});else for(var x=0,O=a.length;x<O;x++)Ia(i,a[x],c,f);return this}function pu(i,a){for(var c in i[nr]){var f=c.split(/\d/)[0];(!a||a(f))&&Ia(i,f,null,null,c)}}var rr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pa(i,a,c,f){var g=a+d(c)+(f?"_"+d(f):"");if(i[nr]&&i[nr][g])return this;var x=function(U){return c.call(f||i,U||window.event)},O=x;!C.touchNative&&C.pointer&&a.indexOf("touch")===0?x=me(i,a,x):C.touch&&a==="dblclick"?x=In(i,x):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(rr[a]||a,x,C.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(x=function(U){U=U||window.event,Aa(i,U)&&O(U)},i.addEventListener(rr[a],x,!1)):i.addEventListener(a,O,!1):i.attachEvent("on"+a,x),i[nr]=i[nr]||{},i[nr][g]=x}function Ia(i,a,c,f,g){g=g||a+d(c)+(f?"_"+d(f):"");var x=i[nr]&&i[nr][g];if(!x)return this;!C.touchNative&&C.pointer&&a.indexOf("touch")===0?Pe(i,a,x):C.touch&&a==="dblclick"?rn(i,x):"removeEventListener"in i?i.removeEventListener(rr[a]||a,x,!1):i.detachEvent("on"+a,x),i[nr][g]=null}function Un(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Oi(i){return Pa(i,"wheel",Un),this}function Vi(i){return Te(i,"mousedown touchstart dblclick contextmenu",Un),i._leaflet_disable_click=!0,this}function mt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function $n(i){return mt(i),Un(i),this}function Ca(i){if(i.composedPath)return i.composedPath();for(var a=[],c=i.target;c;)a.push(c),c=c.parentNode;return a}function as(i,a){if(!a)return new K(i.clientX,i.clientY);var c=ss(a),f=c.boundingClientRect;return new K((i.clientX-f.left)/c.x-a.clientLeft,(i.clientY-f.top)/c.y-a.clientTop)}var dt=C.linux&&C.chrome?window.devicePixelRatio:C.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mu(i){return C.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/dt:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Aa(i,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==i;)c=c.parentNode}catch{return!1}return c!==i}var gu={__proto__:null,on:Te,off:Xe,stopPropagation:Un,disableScrollPropagation:Oi,disableClickPropagation:Vi,preventDefault:mt,stop:$n,getPropagationPath:Ca,getMousePosition:as,getWheelDelta:mu,isExternalTarget:Aa,addListener:Te,removeListener:Xe},Ra=pt.extend({run:function(i,a,c,f){this.stop(),this._el=i,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=tr(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var c=this._startPos.add(this._offset.multiplyBy(i));a&&c._round(),Ie(this._el,c),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Oe=pt.extend({options:{crs:qr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=V(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ge(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bt&&C.any3d&&!C.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,Nr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(ge(i),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=o({animate:c.animate},c.zoom),c.pan=o({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,c.zoom):this._tryAnimatedPan(i,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(C.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(C.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,c){var f=this.getZoomScale(a),g=this.getSize().divideBy(2),x=i instanceof K?i:this.latLngToContainerPoint(i),O=x.subtract(g).multiplyBy(1-1/f),U=this.containerPointToLatLng(g.add(O));return this.setView(U,a,{zoom:c})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():De(i);var c=ne(a.paddingTopLeft||a.padding||[0,0]),f=ne(a.paddingBottomRight||a.padding||[0,0]),g=this.getBoundsZoom(i,!1,c.add(f));if(g=typeof a.maxZoom=="number"?Math.min(a.maxZoom,g):g,g===1/0)return{center:i.getCenter(),zoom:g};var x=f.subtract(c).divideBy(2),O=this.project(i.getSouthWest(),g),U=this.project(i.getNorthEast(),g),q=this.unproject(O.add(U).divideBy(2).add(x),g);return{center:q,zoom:g}},fitBounds:function(i,a){if(i=De(i),!i.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(i,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=ne(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ra,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,c){if(c=c||{},c.animate===!1||!C.any3d)return this.setView(i,a,c);this._stop();var f=this.project(this.getCenter()),g=this.project(i),x=this.getSize(),O=this._zoom;i=ge(i),a=a===void 0?O:a;var U=Math.max(x.x,x.y),q=U*this.getZoomScale(O,a),X=g.distanceTo(f)||1,ue=1.42,Se=ue*ue;function Ne(bt){var bu=bt?-1:1,bE=bt?q:U,NE=q*q-U*U+bu*Se*Se*X*X,ME=2*bE*Se*X,Wh=NE/ME,sg=Math.sqrt(Wh*Wh+1)-Wh,DE=sg<1e-9?-18:Math.log(sg);return DE}function pn(bt){return(Math.exp(bt)-Math.exp(-bt))/2}function Ht(bt){return(Math.exp(bt)+Math.exp(-bt))/2}function or(bt){return pn(bt)/Ht(bt)}var Rn=Ne(0);function ws(bt){return U*(Ht(Rn)/Ht(Rn+ue*bt))}function AE(bt){return U*(Ht(Rn)*or(Rn+ue*bt)-pn(Rn))/Se}function RE(bt){return 1-Math.pow(1-bt,1.5)}var LE=Date.now(),ig=(Ne(1)-Rn)/ue,kE=c.duration?1e3*c.duration:1e3*ig*.8;function og(){var bt=(Date.now()-LE)/kE,bu=RE(bt)*ig;bt<=1?(this._flyToFrame=M(og,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(AE(bu)/X)),O),this.getScaleZoom(U/ws(bu),O),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),og.call(this),this},flyToBounds:function(i,a){var c=this._getBoundsCenterZoom(i,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(i){return i=De(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,De(i));return c.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var c=ne(a.paddingTopLeft||a.padding||[0,0]),f=ne(a.paddingBottomRight||a.padding||[0,0]),g=this.project(this.getCenter()),x=this.project(i),O=this.getPixelBounds(),U=we([O.min.add(c),O.max.subtract(f)]),q=U.getSize();if(!U.contains(x)){this._enforcingBounds=!0;var X=x.subtract(U.getCenter()),ue=U.extend(x).getSize().subtract(q);g.x+=X.x<0?-ue.x:ue.x,g.y+=X.y<0?-ue.y:ue.y,this.panTo(this.unproject(g),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=a.divideBy(2).round(),g=c.divideBy(2).round(),x=f.subtract(g);return!x.x&&!x.y?this:(i.animate&&i.pan?this.panBy(x):(i.pan&&this._rawPanBy(x),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,i):navigator.geolocation.getCurrentPosition(a,c,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,c=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,c=i.coords.longitude,f=new Le(a,c),g=f.toBounds(i.coords.accuracy*2),x=this._locateOptions;if(x.setView){var O=this.getBoundsZoom(g);this.setView(f,x.maxZoom?Math.min(O,x.maxZoom):O)}var U={latlng:f,bounds:g,timestamp:i.timestamp};for(var q in i.coords)typeof i.coords[q]=="number"&&(U[q]=i.coords[q]);this.fire("locationfound",U)}},addHandler:function(i,a){if(!a)return this;var c=this[i]=new a(this);return this._handlers.push(c),this.options[i]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ee(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ee(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var c="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),f=se("div",c,a||this._mapPane);return i&&(this._panes[i]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),c=this.unproject(i.getTopRight());return new xe(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,c){i=De(i),c=ne(c||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),x=this.getMaxZoom(),O=i.getNorthWest(),U=i.getSouthEast(),q=this.getSize().subtract(c),X=we(this.project(U,f),this.project(O,f)).getSize(),ue=C.any3d?this.options.zoomSnap:1,Se=q.x/X.x,Ne=q.y/X.y,pn=a?Math.max(Se,Ne):Math.min(Se,Ne);return f=this.getScaleZoom(pn,f),ue&&(f=Math.round(f/(ue/100))*(ue/100),f=a?Math.ceil(f/ue)*ue:Math.floor(f/ue)*ue),Math.max(g,Math.min(x,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var c=this._getTopLeftPoint(i,a);return new pe(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(i)/c.scale(a)},getScaleZoom:function(i,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var f=c.zoom(i*c.scale(a));return isNaN(f)?1/0:f},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ge(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(ne(i),a)},layerPointToLatLng:function(i){var a=ne(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(ge(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(ge(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(De(i))},distance:function(i,a){return this.options.crs.distance(ge(i),ge(a))},containerPointToLayerPoint:function(i){return ne(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return ne(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(ne(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(i)))},mouseEventToContainerPoint:function(i){return as(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=Mr(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&C.any3d,Ae(i,"leaflet-container"+(C.touch?" leaflet-touch":"")+(C.retina?" leaflet-retina":"")+(C.ielt9?" leaflet-oldie":"")+(C.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=zn(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ie(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(i.markerPane,"leaflet-zoom-hide"),Ae(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,c){Ie(this._mapPane,new K(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var g=this._zoom!==a;this._moveStart(g,c)._move(i,a)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,c,f){a===void 0&&(a=this._zoom);var g=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),f?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ie(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var a=i?Xe:Te;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),C.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var c=[],f,g=a==="mouseout"||a==="mouseover",x=i.target||i.srcElement,O=!1;x;){if(f=this._targets[d(x)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){O=!0;break}if(f&&f.listens(a,!0)&&(g&&!Aa(x,i)||(c.push(f),g))||x===this._container)break;x=x.parentNode}return!c.length&&!O&&!g&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var c=i.type;c==="mousedown"&&ni(a),this._fireDOMEvent(i,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,c){if(i.type==="click"){var f=o({},i);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var g=this._findEventTargets(i,a);if(c){for(var x=[],O=0;O<c.length;O++)c[O].listens(a,!0)&&x.push(c[O]);g=x.concat(g)}if(g.length){a==="contextmenu"&&mt(i);var U=g[0],q={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var X=U.getLatLng&&(!U._radius||U._radius<=10);q.containerPoint=X?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(i),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=X?U.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(O=0;O<g.length;O++)if(g[O].fire(a,q,!0),q.originalEvent._stopped||g[O].options.bubblingMouseEvents===!1&&H(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return tr(this._mapPane)||new K(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var c=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var c=this.getSize()._divideBy(2);return this.project(i,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,c){var f=this._getNewPixelOrigin(c,a);return this.project(i,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(i,a,c){var f=this._getNewPixelOrigin(c,a);return we([this.project(i.getSouthWest(),a)._subtract(f),this.project(i.getNorthWest(),a)._subtract(f),this.project(i.getSouthEast(),a)._subtract(f),this.project(i.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,c){if(!c)return i;var f=this.project(i,a),g=this.getSize().divideBy(2),x=new pe(f.subtract(g),f.add(g)),O=this._getBoundsOffset(x,c,a);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?i:this.unproject(f.add(O),a)},_limitOffset:function(i,a){if(!a)return i;var c=this.getPixelBounds(),f=new pe(c.min.add(i),c.max.add(i));return i.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(i,a,c){var f=we(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),g=f.min.subtract(i.min),x=f.max.subtract(i.max),O=this._rebound(g.x,-x.x),U=this._rebound(g.y,-x.y);return new K(O,U)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),c=this.getMaxZoom(),f=C.any3d?this.options.zoomSnap:1;return f&&(i=Math.round(i/f)*f),Math.max(a,Math.min(c,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var c=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var i=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var c=Cn,f=this._proxy.style[c];Dr(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ee(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();Dr(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),g=this._getCenterOffset(i)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(g)?!1:(M(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ls(i,a){return new Oe(i,a)}var An=Re.extend({options:{position:"topright"},initialize:function(i){V(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),c=this.getPosition(),f=i._controlCorners[c];return Ae(a,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ee(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),fn=function(i){return new An(i)};Oe.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",c=this._controlContainer=se("div",a+"control-container",this._container);function f(g,x){var O=a+g+" "+a+x;i[g+x]=se("div",O,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ee(this._controlCorners[i]);Ee(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var La=An.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,c,f){return c<f?-1:f<c?1:0}},initialize:function(i,a,c){V(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in i)this._addLayer(i[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return An.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=se("div",i),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Vi(a),Oi(a);var f=this._section=se("section",i+"-list");c&&(this._map.on("click",this.collapse,this),Te(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=se("a",i+"-toggle",a);g.href="#",g.title="Layers",g.setAttribute("role","button"),Te(g,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){mt(x),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=se("div",i+"-base",f),this._separator=se("div",i+"-separator",f),this._overlaysList=se("div",i+"-overlays",f),a.appendChild(f)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,c){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;It(this._baseLayersList),It(this._overlaysList),this._layerControlInputs=[];var i,a,c,f,g=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),a=a||f.overlay,i=i||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(i=i&&g>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(d(i.target)),c=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(i,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(i){var a=document.createElement("label"),c=this._map.hasLayer(i.layer),f;i.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(f),f.layerId=d(i.layer),Te(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+i.name;var x=document.createElement("span");a.appendChild(x),x.appendChild(f),x.appendChild(g);var O=i.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,c,f=[],g=[];this._handlingClick=!0;for(var x=i.length-1;x>=0;x--)a=i[x],c=this._getLayer(a.layerId).layer,a.checked?f.push(c):a.checked||g.push(c);for(x=0;x<g.length;x++)this._map.hasLayer(g[x])&&this._map.removeLayer(g[x]);for(x=0;x<f.length;x++)this._map.hasLayer(f[x])||this._map.addLayer(f[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,c,f=this._map.getZoom(),g=i.length-1;g>=0;g--)a=i[g],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Te(i,"click",mt),this.expand();var a=this;setTimeout(function(){Xe(i,"click",mt),a._preventClick=!1})}}),Fh=function(i,a,c){return new La(i,a,c)},ri=An.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",c=se("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,c,f,g){var x=se("a",c,f);return x.innerHTML=i,x.href="#",x.title=a,x.setAttribute("role","button"),x.setAttribute("aria-label",a),Vi(x),Te(x,"click",$n),Te(x,"click",g,this),Te(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";ht(this._zoomInButton,a),ht(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Ae(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Ae(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Oe.mergeOptions({zoomControl:!0}),Oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ri,this.addControl(this.zoomControl))});var _u=function(i){return new ri(i)},us=An.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",c=se("div",a),f=this.options;return this._addScales(f,a+"-line",c),i.on(f.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),c},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,c){i.metric&&(this._mScale=se("div",a,c)),i.imperial&&(this._iScale=se("div",a,c))},_update:function(){var i=this._map,a=i.getSize().y/2,c=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/i)},_updateImperial:function(i){var a=i*3.2808399,c,f,g;a>5280?(c=a/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(g=this._getRoundNum(a),this._updateScale(this._iScale,g+" ft",g/a))},_updateScale:function(i,a,c){i.style.width=Math.round(this.options.maxWidth*c)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),c=i/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),cs=function(i){return new us(i)},vu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ji=An.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(C.inlineSvg?vu+" ":"")+"Leaflet</a>"},initialize:function(i){V(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=se("div","leaflet-control-attribution"),Vi(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),i.length&&c.push(i.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Oe.mergeOptions({attributionControl:!0}),Oe.addInitHook(function(){this.options.attributionControl&&new ji().addTo(this)});var zh=function(i){return new ji(i)};An.Layers=La,An.Zoom=ri,An.Scale=us,An.Attribution=ji,fn.layers=Fh,fn.zoom=_u,fn.scale=cs,fn.attribution=zh;var Hn=Re.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(i,a){return i.addHandler(a,this),this};var xo={Events:Ke},ka=C.touch?"touchstart mousedown":"mousedown",mr=pt.extend({options:{clickTolerance:3},initialize:function(i,a,c,f){V(this,f),this._element=i,this._dragStartTarget=a||i,this._preventOutline=c},enable:function(){this._enabled||(Te(this._dragStartTarget,ka,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mr._dragging===this&&this.finishDrag(!0),Xe(this._dragStartTarget,ka,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Mi(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){mr._dragging===this&&this.finishDrag();return}if(!(mr._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(mr._dragging=this,this._preventOutline&&ni(this._element),Ea(),fr(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,c=Sa(this._element);this._startPoint=new K(a.clientX,a.clientY),this._startPos=tr(this._element),this._parentScale=ss(c);var f=i.type==="mousedown";Te(document,f?"mousemove":"touchmove",this._onMove,this),Te(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,c=new K(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,mt(i),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ie(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xe(document,"mousemove touchmove",this._onMove,this),Xe(document,"mouseup touchend touchcancel",this._onUp,this),xa(),pr();var a=this._moved&&this._moving;this._moving=!1,mr._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function hs(i,a,c){var f,g=[1,4,2,8],x,O,U,q,X,ue,Se,Ne;for(x=0,ue=i.length;x<ue;x++)i[x]._code=Or(i[x],a);for(U=0;U<4;U++){for(Se=g[U],f=[],x=0,ue=i.length,O=ue-1;x<ue;O=x++)q=i[x],X=i[O],q._code&Se?X._code&Se||(Ne=$t(X,q,Se,a,c),Ne._code=Or(Ne,a),f.push(Ne)):(X._code&Se&&(Ne=$t(X,q,Se,a,c),Ne._code=Or(Ne,a),f.push(Ne)),f.push(q));i=f}return i}function ds(i,a){var c,f,g,x,O,U,q,X,ue;if(!i||i.length===0)throw new Error("latlngs not passed");u(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Se=ge([0,0]),Ne=De(i),pn=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());pn<1700&&(Se=fs(i));var Ht=i.length,or=[];for(c=0;c<Ht;c++){var Rn=ge(i[c]);or.push(a.project(ge([Rn.lat-Se.lat,Rn.lng-Se.lng])))}for(U=q=X=0,c=0,f=Ht-1;c<Ht;f=c++)g=or[c],x=or[f],O=g.y*x.x-x.y*g.x,q+=(g.x+x.x)*O,X+=(g.y+x.y)*O,U+=O*3;U===0?ue=or[0]:ue=[q/U,X/U];var ws=a.unproject(ne(ue));return ge([ws.lat+Se.lat,ws.lng+Se.lng])}function fs(i){for(var a=0,c=0,f=0,g=0;g<i.length;g++){var x=ge(i[g]);a+=x.lat,c+=x.lng,f++}return ge([a/f,c/f])}var ps={__proto__:null,clipPolygon:hs,polygonCenter:ds,centroid:fs};function ba(i,a){if(!a||!i.length)return i.slice();var c=a*a;return i=wu(i,c),i=yu(i,c),i}function Na(i,a,c){return Math.sqrt(ir(i,a,c,!0))}function ii(i,a,c){return ir(i,a,c)}function yu(i,a){var c=i.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(c);g[0]=g[c-1]=1,ms(i,g,a,0,c-1);var x,O=[];for(x=0;x<c;x++)g[x]&&O.push(i[x]);return O}function ms(i,a,c,f,g){var x=0,O,U,q;for(U=f+1;U<=g-1;U++)q=ir(i[U],i[f],i[g],!0),q>x&&(O=U,x=q);x>c&&(a[O]=1,ms(i,a,c,f,O),ms(i,a,c,O,g))}function wu(i,a){for(var c=[i[0]],f=1,g=0,x=i.length;f<x;f++)Eu(i[f],i[g])>a&&(c.push(i[f]),g=f);return g<x-1&&c.push(i[x-1]),c}var Ma;function To(i,a,c,f,g){var x=f?Ma:Or(i,c),O=Or(a,c),U,q,X;for(Ma=O;;){if(!(x|O))return[i,a];if(x&O)return!1;U=x||O,q=$t(i,a,U,c,g),X=Or(q,c),U===x?(i=q,x=X):(a=q,O=X)}}function $t(i,a,c,f,g){var x=a.x-i.x,O=a.y-i.y,U=f.min,q=f.max,X,ue;return c&8?(X=i.x+x*(q.y-i.y)/O,ue=q.y):c&4?(X=i.x+x*(U.y-i.y)/O,ue=U.y):c&2?(X=q.x,ue=i.y+O*(q.x-i.x)/x):c&1&&(X=U.x,ue=i.y+O*(U.x-i.x)/x),new K(X,ue,g)}function Or(i,a){var c=0;return i.x<a.min.x?c|=1:i.x>a.max.x&&(c|=2),i.y<a.min.y?c|=4:i.y>a.max.y&&(c|=8),c}function Eu(i,a){var c=a.x-i.x,f=a.y-i.y;return c*c+f*f}function ir(i,a,c,f){var g=a.x,x=a.y,O=c.x-g,U=c.y-x,q=O*O+U*U,X;return q>0&&(X=((i.x-g)*O+(i.y-x)*U)/q,X>1?(g=c.x,x=c.y):X>0&&(g+=O*X,x+=U*X)),O=i.x-g,U=i.y-x,f?O*O+U*U:new K(g,x)}function u(i){return!D(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function p(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),u(i)}function _(i,a){var c,f,g,x,O,U,q,X;if(!i||i.length===0)throw new Error("latlngs not passed");u(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ue=ge([0,0]),Se=De(i),Ne=Se.getNorthWest().distanceTo(Se.getSouthWest())*Se.getNorthEast().distanceTo(Se.getNorthWest());Ne<1700&&(ue=fs(i));var pn=i.length,Ht=[];for(c=0;c<pn;c++){var or=ge(i[c]);Ht.push(a.project(ge([or.lat-ue.lat,or.lng-ue.lng])))}for(c=0,f=0;c<pn-1;c++)f+=Ht[c].distanceTo(Ht[c+1])/2;if(f===0)X=Ht[0];else for(c=0,x=0;c<pn-1;c++)if(O=Ht[c],U=Ht[c+1],g=O.distanceTo(U),x+=g,x>f){q=(x-f)/g,X=[U.x-q*(U.x-O.x),U.y-q*(U.y-O.y)];break}var Rn=a.unproject(ne(X));return ge([Rn.lat+ue.lat,Rn.lng+ue.lng])}var S={__proto__:null,simplify:ba,pointToSegmentDistance:Na,closestPointOnSegment:ii,clipSegment:To,_getEdgeIntersection:$t,_getBitCode:Or,_sqClosestPointOnSegment:ir,isFlat:u,_flat:p,polylineCenter:_},B={project:function(i){return new K(i.lng,i.lat)},unproject:function(i){return new Le(i.y,i.x)},bounds:new pe([-180,-90],[180,90])},G={R:6378137,R_MINOR:6356752314245179e-9,bounds:new pe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,c=this.R,f=i.lat*a,g=this.R_MINOR/c,x=Math.sqrt(1-g*g),O=x*Math.sin(f),U=Math.tan(Math.PI/4-f/2)/Math.pow((1-O)/(1+O),x/2);return f=-c*Math.log(Math.max(U,1e-10)),new K(i.lng*a*c,f)},unproject:function(i){for(var a=180/Math.PI,c=this.R,f=this.R_MINOR/c,g=Math.sqrt(1-f*f),x=Math.exp(-i.y/c),O=Math.PI/2-2*Math.atan(x),U=0,q=.1,X;U<15&&Math.abs(q)>1e-7;U++)X=g*Math.sin(O),X=Math.pow((1-X)/(1+X),g/2),q=Math.PI/2-2*Math.atan(x*X)-O,O+=q;return new Le(O*a,i.x*a/c)}},oe={__proto__:null,LonLat:B,Mercator:G,SphericalMercator:Jn},Qe=o({},zt,{code:"EPSG:3395",projection:G,transformation:function(){var i=.5/(Math.PI*G.R);return dr(i,.5,-i,.5)}()}),kt=o({},zt,{code:"EPSG:4326",projection:B,transformation:dr(1/180,1,-1/180,.5)}),$e=o({},tt,{projection:B,transformation:dr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var c=a.lng-i.lng,f=a.lat-i.lat;return Math.sqrt(c*c+f*f)},infinite:!0});tt.Earth=zt,tt.EPSG3395=Qe,tt.EPSG3857=qr,tt.EPSG900913=Pt,tt.EPSG4326=kt,tt.Simple=$e;var Je=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Oe.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=d(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},_addLayers:function(i){i=i?D(i)?i:[i]:[];for(var a=0,c=i.length;a<c;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=d(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;i=g.minZoom===void 0?i:Math.min(i,g.minZoom),a=g.maxZoom===void 0?a:Math.max(a,g.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var gt=Je.extend({initialize:function(i,a){V(this,a),this._layers={};var c,f;if(i)for(c=0,f=i.length;c<f;c++)this.addLayer(i[c])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[i]&&f[i].apply(f,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),Fi=function(i,a){return new gt(i,a)},Ct=gt.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),gt.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),gt.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new xe;for(var a in this._layers){var c=this._layers[a];i.extend(c.getBounds?c.getBounds():c.getLatLng())}return i}}),gs=function(i,a){return new Ct(i,a)},Vr=Re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){V(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var c=this._getIconUrl(i);if(!c){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(i,a){var c=this.options,f=c[a+"Size"];typeof f=="number"&&(f=[f,f]);var g=ne(f),x=ne(a==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(c.className||""),x&&(i.style.marginLeft=-x.x+"px",i.style.marginTop=-x.y+"px"),g&&(i.style.width=g.x+"px",i.style.height=g.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return C.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function uE(i){return new Vr(i)}var Da=Vr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Da.imagePath!="string"&&(Da.imagePath=this._detectIconPath()),(this.options.imagePath||Da.imagePath)+Vr.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(c,f,g){var x=f.exec(c);return x&&x[g]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=se("div","leaflet-default-icon-path",document.body),a=zn(i,"background-image")||zn(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Fm=Hn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new mr(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,c=a._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,x=tr(a._icon),O=c.getPixelBounds(),U=c.getPixelOrigin(),q=we(O.min._subtract(U).add(g),O.max._subtract(U).subtract(g));if(!q.contains(x)){var X=ne((Math.max(q.max.x,x.x)-q.max.x)/(O.max.x-q.max.x)-(Math.min(q.min.x,x.x)-q.min.x)/(O.min.x-q.min.x),(Math.max(q.max.y,x.y)-q.max.y)/(O.max.y-q.max.y)-(Math.min(q.min.y,x.y)-q.min.y)/(O.min.y-q.min.y)).multiplyBy(f);c.panBy(X,{animate:!1}),this._draggable._newPos._add(X),this._draggable._startPos._add(X),Ie(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=M(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,c=a._shadow,f=tr(a._icon),g=a._map.layerPointToLatLng(f);c&&Ie(c,f),a._latlng=g,i.latlng=g,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),xu=Je.extend({options:{icon:new Da,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){V(this,a),this._latlng=ge(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=ge(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=i.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,i.title&&(c.title=i.title),c.tagName==="IMG"&&(c.alt=i.alt||"")),Ae(c,a),i.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(c,"focus",this._panOnFocus,this);var g=i.icon.createShadow(this._shadow),x=!1;g!==this._shadow&&(this._removeShadow(),x=!0),g&&(Ae(g,a),g.alt=""),this._shadow=g,i.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&x&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(this._icon,"focus",this._panOnFocus,this),Ee(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ee(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ie(this._icon,i),this._shadow&&Ie(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fm)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fm(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Tt(this._icon,i),this._shadow&&Tt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,c=a.iconSize?ne(a.iconSize):ne(0,0),f=a.iconAnchor?ne(a.iconAnchor):ne(0,0);i.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cE(i,a){return new xu(i,a)}var zi=Je.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return V(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Tu=zi.extend({options:{fill:!0,radius:10},initialize:function(i,a){V(this,a),this._latlng=ge(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=ge(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return zi.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,c=this._clickTolerance(),f=[i+c,a+c];this._pxBounds=new pe(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hE(i,a){return new Tu(i,a)}var Bh=Tu.extend({initialize:function(i,a,c){if(typeof a=="number"&&(a=o({},c,{radius:a})),V(this,a),this._latlng=ge(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:zi.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===zt.distance){var g=Math.PI/180,x=this._mRadius/zt.R/g,O=c.project([a+x,i]),U=c.project([a-x,i]),q=O.add(U).divideBy(2),X=c.unproject(q).lat,ue=Math.acos((Math.cos(x*g)-Math.sin(a*g)*Math.sin(X*g))/(Math.cos(a*g)*Math.cos(X*g)))/g;(isNaN(ue)||ue===0)&&(ue=x/Math.cos(Math.PI/180*a)),this._point=q.subtract(c.getPixelOrigin()),this._radius=isNaN(ue)?0:q.x-c.project([X,i-ue]).x,this._radiusY=q.y-O.y}else{var Se=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Se).x}this._updateBounds()}});function dE(i,a,c){return new Bh(i,a,c)}var oi=zi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){V(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,c=null,f=ir,g,x,O=0,U=this._parts.length;O<U;O++)for(var q=this._parts[O],X=1,ue=q.length;X<ue;X++){g=q[X-1],x=q[X];var Se=f(i,g,x,!0);Se<a&&(a=Se,c=f(i,g,x))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=ge(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new xe,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return u(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],c=u(i),f=0,g=i.length;f<g;f++)c?(a[f]=ge(i[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(i[f]);return a},_project:function(){var i=new pe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new K(i,i);this._rawPxBounds&&(this._pxBounds=new pe([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,c){var f=i[0]instanceof Le,g=i.length,x,O;if(f){for(O=[],x=0;x<g;x++)O[x]=this._map.latLngToLayerPoint(i[x]),c.extend(O[x]);a.push(O)}else for(x=0;x<g;x++)this._projectLatlngs(i[x],a,c)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,f,g,x,O,U,q;for(c=0,g=0,x=this._rings.length;c<x;c++)for(q=this._rings[c],f=0,O=q.length;f<O-1;f++)U=To(q[f],q[f+1],i,f,!0),U&&(a[g]=a[g]||[],a[g].push(U[0]),(U[1]!==q[f+1]||f===O-2)&&(a[g].push(U[1]),g++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,c=0,f=i.length;c<f;c++)i[c]=ba(i[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var c,f,g,x,O,U,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(c=0,x=this._parts.length;c<x;c++)for(U=this._parts[c],f=0,O=U.length,g=O-1;f<O;g=f++)if(!(!a&&f===0)&&Na(i,U[g],U[f])<=q)return!0;return!1}});function fE(i,a){return new oi(i,a)}oi._flat=p;var _s=oi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ds(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=oi.prototype._convertLatLngs.call(this,i),c=a.length;return c>=2&&a[0]instanceof Le&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(i){oi.prototype._setLatLngs.call(this,i),u(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return u(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,c=new K(a,a);if(i=new pe(i.min.subtract(c),i.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,x;f<g;f++)x=hs(this._rings[f],i,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,c,f,g,x,O,U,q,X;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(x=0,q=this._parts.length;x<q;x++)for(c=this._parts[x],O=0,X=c.length,U=X-1;O<X;U=O++)f=c[O],g=c[U],f.y>i.y!=g.y>i.y&&i.x<(g.x-f.x)*(i.y-f.y)/(g.y-f.y)+f.x&&(a=!a);return a||oi.prototype._containsPoint.call(this,i,!0)}});function pE(i,a){return new _s(i,a)}var si=Ct.extend({initialize:function(i,a){V(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=D(i)?i:i.features,c,f,g;if(a){for(c=0,f=a.length;c<f;c++)g=a[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var x=this.options;if(x.filter&&!x.filter(i))return this;var O=Su(i,x);return O?(O.feature=Cu(i),O.defaultOptions=O.options,this.resetStyle(O),x.onEachFeature&&x.onEachFeature(i,O),this.addLayer(O)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function Su(i,a){var c=i.type==="Feature"?i.geometry:i,f=c?c.coordinates:null,g=[],x=a&&a.pointToLayer,O=a&&a.coordsToLatLng||Uh,U,q,X,ue;if(!f&&!c)return null;switch(c.type){case"Point":return U=O(f),zm(x,i,U,a);case"MultiPoint":for(X=0,ue=f.length;X<ue;X++)U=O(f[X]),g.push(zm(x,i,U,a));return new Ct(g);case"LineString":case"MultiLineString":return q=Pu(f,c.type==="LineString"?0:1,O),new oi(q,a);case"Polygon":case"MultiPolygon":return q=Pu(f,c.type==="Polygon"?1:2,O),new _s(q,a);case"GeometryCollection":for(X=0,ue=c.geometries.length;X<ue;X++){var Se=Su({geometry:c.geometries[X],type:"Feature",properties:i.properties},a);Se&&g.push(Se)}return new Ct(g);case"FeatureCollection":for(X=0,ue=c.features.length;X<ue;X++){var Ne=Su(c.features[X],a);Ne&&g.push(Ne)}return new Ct(g);default:throw new Error("Invalid GeoJSON object.")}}function zm(i,a,c,f){return i?i(a,c):new xu(c,f&&f.markersInheritOptions&&f)}function Uh(i){return new Le(i[1],i[0],i[2])}function Pu(i,a,c){for(var f=[],g=0,x=i.length,O;g<x;g++)O=a?Pu(i[g],a-1,c):(c||Uh)(i[g]),f.push(O);return f}function $h(i,a){return i=ge(i),i.alt!==void 0?[E(i.lng,a),E(i.lat,a),E(i.alt,a)]:[E(i.lng,a),E(i.lat,a)]}function Iu(i,a,c,f){for(var g=[],x=0,O=i.length;x<O;x++)g.push(a?Iu(i[x],u(i[x])?0:a-1,c,f):$h(i[x],f));return!a&&c&&g.length>0&&g.push(g[0].slice()),g}function vs(i,a){return i.feature?o({},i.feature,{geometry:a}):Cu(a)}function Cu(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Hh={toGeoJSON:function(i){return vs(this,{type:"Point",coordinates:$h(this.getLatLng(),i)})}};xu.include(Hh),Bh.include(Hh),Tu.include(Hh),oi.include({toGeoJSON:function(i){var a=!u(this._latlngs),c=Iu(this._latlngs,a?1:0,!1,i);return vs(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),_s.include({toGeoJSON:function(i){var a=!u(this._latlngs),c=a&&!u(this._latlngs[0]),f=Iu(this._latlngs,c?2:a?1:0,!0,i);return a||(f=[f]),vs(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),gt.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(i).geometry.coordinates)}),vs(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var c=a==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var x=g.toGeoJSON(i);if(c)f.push(x.geometry);else{var O=Cu(x);O.type==="FeatureCollection"?f.push.apply(f,O.features):f.push(O)}}}),c?vs(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Bm(i,a){return new si(i,a)}var mE=Bm,Au=Je.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,c){this._url=i,this._bounds=De(a),V(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ee(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Ue(this._image),this},bringToBack:function(){return this._map&&Ut(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=De(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:se("img");if(Ae(a,"leaflet-image-layer"),this._zoomAnimated&&Ae(a,"leaflet-zoom-animated"),this.options.className&&Ae(a,this.options.className),a.onselectstart=y,a.onmousemove=y,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Dr(this._image,c,a)},_reset:function(){var i=this._image,a=new pe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();Ie(i,a.min),i.style.width=c.x+"px",i.style.height=c.y+"px"},_updateOpacity:function(){Tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),gE=function(i,a,c){return new Au(i,a,c)},Um=Au.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:se("video");if(Ae(a,"leaflet-image-layer"),this._zoomAnimated&&Ae(a,"leaflet-zoom-animated"),this.options.className&&Ae(a,this.options.className),a.onselectstart=y,a.onmousemove=y,a.onloadeddata=l(this.fire,this,"load"),i){for(var c=a.getElementsByTagName("source"),f=[],g=0;g<c.length;g++)f.push(c[g].src);this._url=c.length>0?f:[a.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var O=se("source");O.src=this._url[x],a.appendChild(O)}}});function _E(i,a,c){return new Um(i,a,c)}var $m=Au.extend({_initImage:function(){var i=this._image=this._url;Ae(i,"leaflet-image-layer"),this._zoomAnimated&&Ae(i,"leaflet-zoom-animated"),this.options.className&&Ae(i,this.options.className),i.onselectstart=y,i.onmousemove=y}});function vE(i,a,c){return new $m(i,a,c)}var jr=Je.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof Le||D(i))?(this._latlng=ge(i),V(this,a)):(V(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Tt(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Tt(this._container,0),this._removeTimeout=setTimeout(l(Ee,void 0,this._container),200)):Ee(this._container),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=ge(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ue(this._container),this},bringToBack:function(){return this._map&&Ut(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof Ct){a=null;var c=this._source._layers;for(var f in c)if(c[f]._map){a=c[f];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=ne(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ie(this._container,i.add(c)):a=a.add(i).add(c);var f=this._containerBottom=-a.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Oe.include({_initOverlay:function(i,a,c,f){var g=a;return g instanceof i||(g=new i(f).setContent(a)),c&&g.setLatLng(c),g}}),Je.include({_initOverlay:function(i,a,c,f){var g=c;return g instanceof i?(V(g,f),g._source=this):(g=a&&!f?a:new i(f,this),g.setContent(c)),g}});var Ru=jr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,jr.prototype.openOn.call(this,i)},onAdd:function(i){jr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zi||this._source.on("preclick",Un))},onRemove:function(i){jr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zi||this._source.off("preclick",Un))},getEvents:function(){var i=jr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=se("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=se("div",i+"-content-wrapper",a);if(this._contentNode=se("div",i+"-content",c),Vi(a),Oi(this._contentNode),Te(a,"contextmenu",Un),this._tipContainer=se("div",i+"-tip-container",a),this._tip=se("div",i+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=se("a",i+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',Te(f,"click",function(g){mt(g),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var c=i.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var f=i.offsetHeight,g=this.options.maxHeight,x="leaflet-popup-scrolled";g&&f>g?(a.height=g+"px",Ae(i,x)):ht(i,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),c=this._getAnchor();Ie(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(zn(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,f=this._containerWidth,g=new K(this._containerLeft,-c-this._containerBottom);g._add(tr(this._container));var x=i.layerPointToContainerPoint(g),O=ne(this.options.autoPanPadding),U=ne(this.options.autoPanPaddingTopLeft||O),q=ne(this.options.autoPanPaddingBottomRight||O),X=i.getSize(),ue=0,Se=0;x.x+f+q.x>X.x&&(ue=x.x+f-X.x+q.x),x.x-ue-U.x<0&&(ue=x.x-U.x),x.y+c+q.y>X.y&&(Se=x.y+c-X.y+q.y),x.y-Se-U.y<0&&(Se=x.y-U.y),(ue||Se)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([ue,Se]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yE=function(i,a){return new Ru(i,a)};Oe.mergeOptions({closePopupOnClick:!0}),Oe.include({openPopup:function(i,a,c){return this._initOverlay(Ru,i,a,c).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Je.include({bindPopup:function(i,a){return this._popup=this._initOverlay(Ru,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Ct||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){$n(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof zi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Lu=jr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){jr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){jr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=jr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,c,f=this._map,g=this._container,x=f.latLngToContainerPoint(f.getCenter()),O=f.layerPointToContainerPoint(i),U=this.options.direction,q=g.offsetWidth,X=g.offsetHeight,ue=ne(this.options.offset),Se=this._getAnchor();U==="top"?(a=q/2,c=X):U==="bottom"?(a=q/2,c=0):U==="center"?(a=q/2,c=X/2):U==="right"?(a=0,c=X/2):U==="left"?(a=q,c=X/2):O.x<x.x?(U="right",a=0,c=X/2):(U="left",a=q+(ue.x+Se.x)*2,c=X/2),i=i.subtract(ne(a,c,!0)).add(ue).add(Se),ht(g,"leaflet-tooltip-right"),ht(g,"leaflet-tooltip-left"),ht(g,"leaflet-tooltip-top"),ht(g,"leaflet-tooltip-bottom"),Ae(g,"leaflet-tooltip-"+U),Ie(g,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Tt(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wE=function(i,a){return new Lu(i,a)};Oe.include({openTooltip:function(i,a,c){return this._initOverlay(Lu,i,a,c).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Je.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lu,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Ct||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(Te(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Te(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,c,f;this._tooltip.options.sticky&&i.originalEvent&&(c=this._map.mouseEventToContainerPoint(i.originalEvent),f=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var Hm=Vr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),c=this.options;if(c.html instanceof Element?(It(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=ne(c.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function EE(i){return new Hm(i)}Vr.Default=Da;var Oa=Je.extend({options:{tileSize:256,opacity:1,updateWhenIdle:C.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){V(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ee(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ue(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ut(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof K?i:new K(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,c=-i(-1/0,1/0),f=0,g=a.length,x;f<g;f++)x=a[f].style.zIndex,a[f]!==this._container&&x&&(c=i(c,+x));isFinite(c)&&(this.options.zIndex=c+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!C.ielt9){Tt(this._container,this.options.opacity);var i=+new Date,a=!1,c=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var x=Math.min(1,(i-g.loaded)/200);Tt(g.el,x),x<1?a=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(F(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===i?(this._levels[c].el.style.zIndex=a-Math.abs(i-c),this._onUpdateLevel(c)):(Ee(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[i],g=this._map;return f||(f=this._levels[i]={},f.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=g.project(g.unproject(g.getPixelOrigin()),i).round(),f.zoom=i,this._setZoomTransform(f,g.getCenter(),g.getZoom()),y(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var i,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ee(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,c,f){var g=Math.floor(i/2),x=Math.floor(a/2),O=c-1,U=new K(+g,+x);U.z=+O;var q=this._tileCoordsToKey(U),X=this._tiles[q];return X&&X.active?(X.retain=!0,!0):(X&&X.loaded&&(X.retain=!0),O>f?this._retainParent(g,x,O,f):!1)},_retainChildren:function(i,a,c,f){for(var g=2*i;g<2*i+2;g++)for(var x=2*a;x<2*a+2;x++){var O=new K(g,x);O.z=c+1;var U=this._tileCoordsToKey(O),q=this._tiles[U];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);c+1<f&&this._retainChildren(g,x,c+1,f)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,c,f){var g=Math.round(a);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var x=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||x)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(i),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],i,a)},_setZoomTransform:function(i,a,c){var f=this._map.getZoomScale(c,i.zoom),g=i.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,c)).round();C.any3d?Dr(i.el,g,f):Ie(i.el,g)},_resetGrid:function(){var i=this._map,a=i.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],f).x/c.x),Math.ceil(i.project([0,a.wrapLng[1]],f).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],f).y/c.x),Math.ceil(i.project([a.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(c,this._tileZoom),g=a.project(i,this._tileZoom).floor(),x=a.getSize().divideBy(f*2);return new pe(g.subtract(x),g.add(x))},_update:function(i){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(i),g=this._pxBoundsToTileRange(f),x=g.getCenter(),O=[],U=this.options.keepBuffer,q=new pe(g.getBottomLeft().subtract([U,-U]),g.getTopRight().add([U,-U]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var X in this._tiles){var ue=this._tiles[X].coords;(ue.z!==this._tileZoom||!q.contains(new K(ue.x,ue.y)))&&(this._tiles[X].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(i,c);return}for(var Se=g.min.y;Se<=g.max.y;Se++)for(var Ne=g.min.x;Ne<=g.max.x;Ne++){var pn=new K(Ne,Se);if(pn.z=this._tileZoom,!!this._isValidTile(pn)){var Ht=this._tiles[this._tileCoordsToKey(pn)];Ht?Ht.current=!0:O.push(pn)}}if(O.sort(function(Rn,ws){return Rn.distanceTo(x)-ws.distanceTo(x)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var or=document.createDocumentFragment();for(Ne=0;Ne<O.length;Ne++)this._addTile(O[Ne],or);this._level.el.appendChild(or)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(i.x<c.min.x||i.x>c.max.x)||!a.wrapLat&&(i.y<c.min.y||i.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(i);return De(this.options.bounds).overlaps(f)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,c=this.getTileSize(),f=i.scaleBy(c),g=f.add(c),x=a.unproject(f,i.z),O=a.unproject(g,i.z);return[x,O]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),c=new xe(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),c=new K(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(i){var a=this._tiles[i];a&&(Ee(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Ae(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=y,i.onmousemove=y,C.ielt9&&this.options.opacity<1&&Tt(i,this.options.opacity)},_addTile:function(i,a){var c=this._getTilePos(i),f=this._tileCoordsToKey(i),g=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(g),this.createTile.length<2&&M(l(this._tileReady,this,i,null,g)),Ie(g,c),this._tiles[f]={el:g,coords:i,current:!0},a.appendChild(g),this.fire("tileloadstart",{tile:g,coords:i})},_tileReady:function(i,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:i});var f=this._tileCoordsToKey(i);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Tt(c.el,0),F(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(Ae(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),C.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new K(this._wrapX?v(i.x,this._wrapX):i.x,this._wrapY?v(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new pe(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function xE(i){return new Oa(i)}var ys=Oa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=V(this,a),a.detectRetina&&C.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var c=document.createElement("img");return Te(c,"load",l(this._tileOnLoad,this,a,c)),Te(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(i),c},getTileUrl:function(i){var a={r:C.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=c),a["-y"]=c}return I(this._url,o(a,this.options))},_tileOnLoad:function(i,a){C.ielt9?setTimeout(l(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,c){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),i(c,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(i=a-i),i+f},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=y,a.onerror=y,!a.complete)){a.src=J;var c=this._tiles[i].coords;Ee(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",J),Oa.prototype._removeTile.call(this,i)},_tileReady:function(i,a,c){if(!(!this._map||c&&c.getAttribute("src")===J))return Oa.prototype._tileReady.call(this,i,a,c)}});function Wm(i,a){return new ys(i,a)}var Zm=ys.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var c=o({},this.defaultWmsParams);for(var f in a)f in this.options||(c[f]=a[f]);a=V(this,a);var g=a.detectRetina&&C.retina?2:1,x=this.getTileSize();c.width=x.x*g,c.height=x.y*g,this.wmsParams=c},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,ys.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),c=this._crs,f=we(c.project(a[0]),c.project(a[1])),g=f.min,x=f.max,O=(this._wmsVersion>=1.3&&this._crs===kt?[g.y,g.x,x.y,x.x]:[g.x,g.y,x.x,x.y]).join(","),U=ys.prototype.getTileUrl.call(this,i);return U+$(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(i,a){return o(this.wmsParams,i),a||this.redraw(),this}});function TE(i,a){return new Zm(i,a)}ys.WMS=Zm,Wm.wms=TE;var ai=Je.extend({options:{padding:.1},initialize:function(i){V(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var c=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,a),x=f.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(i,a));C.any3d?Dr(this._container,x,c):Ie(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new pe(c,c.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qm=ai.extend({options:{tolerance:0},getEvents:function(){var i=ai.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Te(i,"mousemove",this._onMouseMove,this),Te(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,Ee(this._container),Xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var i=this._bounds,a=this._container,c=i.getSize(),f=C.retina?2:1;Ie(a,i.min),a.width=f*c.x,a.height=f*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",C.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,c=a.next,f=a.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),c=[],f,g;for(g=0;g<a.length;g++){if(f=Number(a[g]),isNaN(f))return;c.push(f)}i.options._dashArray=c}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new pe,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)i=f.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var c,f,g,x,O=i._parts,U=O.length,q=this._ctx;if(U){for(q.beginPath(),c=0;c<U;c++){for(f=0,g=O[c].length;f<g;f++)x=O[c][f],q[f?"lineTo":"moveTo"](x.x,x.y);a&&q.closePath()}this._fillStroke(q,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,c=this._ctx,f=Math.max(Math.round(i._radius),1),g=(Math.max(Math.round(i._radiusY),1)||f)/f;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(a.x,a.y/g,f,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,i)}},_fillStroke:function(i,a){var c=a.options;c.fill&&(i.globalAlpha=c.fillOpacity,i.fillStyle=c.fillColor||c.color,i.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=c.opacity,i.lineWidth=c.weight,i.strokeStyle=c.color,i.lineCap=c.lineCap,i.lineJoin=c.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(ht(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(a)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(i),f&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([f],i,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,c){this._map._fireDOMEvent(a,c||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var c=a.next,f=a.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var c=a.next,f=a.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function Gm(i){return C.canvas?new qm(i):null}var Va=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),SE={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=Va("shape");Ae(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=Va("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;Ee(a),i.removeInteractiveTarget(a),delete this._layers[d(i)]},_updateStyle:function(i){var a=i._stroke,c=i._fill,f=i.options,g=i._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(a||(a=i._stroke=Va("stroke")),g.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=D(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(g.removeChild(a),i._stroke=null),f.fill?(c||(c=i._fill=Va("fill")),g.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(g.removeChild(c),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),c=Math.round(i._radius),f=Math.round(i._radiusY||c);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){Ue(i._container)},_bringToBack:function(i){Ut(i._container)}},ku=C.vml?Va:jn,ja=ai.extend({_initContainer:function(){this._container=ku("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ku("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ee(this._container),Xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var i=this._bounds,a=i.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),Ie(c,i.min),c.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=ku("path");i.options.className&&Ae(a,i.options.className),i.options.interactive&&Ae(a,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ee(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,c=i.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,Pi(i._parts,a))},_updateCircle:function(i){var a=i._point,c=Math.max(Math.round(i._radius),1),f=Math.max(Math.round(i._radiusY),1)||c,g="a"+c+","+f+" 0 1,0 ",x=i._empty()?"M0 0":"M"+(a.x-c)+","+a.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(i,x)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){Ue(i._path)},_bringToBack:function(i){Ut(i._path)}});C.vml&&ja.include(SE);function Km(i){return C.svg||C.vml?new ja(i):null}Oe.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&Gm(i)||Km(i)}});var Qm=_s.extend({initialize:function(i,a){_s.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=De(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function PE(i,a){return new Qm(i,a)}ja.create=ku,ja.pointsToPath=Pi,si.geometryToLayer=Su,si.coordsToLatLng=Uh,si.coordsToLatLngs=Pu,si.latLngToCoords=$h,si.latLngsToCoords=Iu,si.getFeature=vs,si.asFeature=Cu,Oe.mergeOptions({boxZoom:!0});var Ym=Hn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ee(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fr(),Ea(),this._startPoint=this._map.mouseEventToContainerPoint(i),Te(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new pe(this._point,this._startPoint),c=a.getSize();Ie(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Ee(this._box),ht(this._container,"leaflet-crosshair")),pr(),xa(),Xe(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Oe.addInitHook("addHandler","boxZoom",Ym),Oe.mergeOptions({doubleClickZoom:!0});var Xm=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,c=a.getZoom(),f=a.options.zoomDelta,g=i.originalEvent.shiftKey?c-f:c+f;a.options.doubleClickZoom==="center"?a.setZoom(g):a.setZoomAround(i.containerPoint,g)}});Oe.addInitHook("addHandler","doubleClickZoom",Xm),Oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jm=Hn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new mr(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=De(this._map.options.maxBounds);this._offsetLimit=we(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-a+c)%i+a-c,x=(f+a+c)%i-a-c,O=Math.abs(g+c)<Math.abs(x+c)?g:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(i){var a=this._map,c=a.options,f=!c.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),f)a.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,O=c.easeLinearity,U=g.multiplyBy(O/x),q=U.distanceTo([0,0]),X=Math.min(c.inertiaMaxSpeed,q),ue=U.multiplyBy(X/q),Se=X/(c.inertiaDeceleration*O),Ne=ue.multiplyBy(-Se/2).round();!Ne.x&&!Ne.y?a.fire("moveend"):(Ne=a._limitOffset(Ne,a.options.maxBounds),M(function(){a.panBy(Ne,{duration:Se,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Oe.addInitHook("addHandler","dragging",Jm),Oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var eg=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Te(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,c=i.scrollTop||a.scrollTop,f=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},c=this.keyCodes,f,g;for(f=0,g=c.left.length;f<g;f++)a[c.left[f]]=[-1*i,0];for(f=0,g=c.right.length;f<g;f++)a[c.right[f]]=[i,0];for(f=0,g=c.down.length;f<g;f++)a[c.down[f]]=[0,i];for(f=0,g=c.up.length;f<g;f++)a[c.up[f]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},c=this.keyCodes,f,g;for(f=0,g=c.zoomIn.length;f<g;f++)a[c.zoomIn[f]]=i;for(f=0,g=c.zoomOut.length;f<g;f++)a[c.zoomOut[f]]=-i},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,c=this._map,f;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[a],i.shiftKey&&(f=ne(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(ne(f),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(g)}else c.panBy(f)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;$n(i)}}});Oe.addInitHook("addHandler","keyboard",eg),Oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var tg=Hn.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=mu(i),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),$n(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),c=this._map.options.zoomSnap||0;i._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,x=c?Math.ceil(g/c)*c:g,O=i._limitZoom(a+(this._delta>0?x:-x))-a;this._delta=0,this._startTime=null,O&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+O):i.setZoomAround(this._lastMousePos,a+O))}});Oe.addInitHook("addHandler","scrollWheelZoom",tg);var IE=600;Oe.mergeOptions({tapHold:C.touchNative&&C.safari&&C.mobile,tapTolerance:15});var ng=Hn.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new K(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",mt),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),IE),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Xe(document,"touchend",mt),Xe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new K(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var c=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});Oe.addInitHook("addHandler","tapHold",ng),Oe.mergeOptions({touchZoom:C.touch,bounceAtZoomLimits:!0});var rg=Hn.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(i.touches[0]),f=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),mt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(i.touches[0]),f=a.mouseEventToContainerPoint(i.touches[1]),g=c.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(g,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&g<1||this._zoom>a.getMaxZoom()&&g>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var x=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&x.x===0&&x.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var O=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(O,this,!0),mt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Oe.addInitHook("addHandler","touchZoom",rg),Oe.BoxZoom=Ym,Oe.DoubleClickZoom=Xm,Oe.Drag=Jm,Oe.Keyboard=eg,Oe.ScrollWheelZoom=tg,Oe.TapHold=ng,Oe.TouchZoom=rg,n.Bounds=pe,n.Browser=C,n.CRS=tt,n.Canvas=qm,n.Circle=Bh,n.CircleMarker=Tu,n.Class=Re,n.Control=An,n.DivIcon=Hm,n.DivOverlay=jr,n.DomEvent=gu,n.DomUtil=fu,n.Draggable=mr,n.Evented=pt,n.FeatureGroup=Ct,n.GeoJSON=si,n.GridLayer=Oa,n.Handler=Hn,n.Icon=Vr,n.ImageOverlay=Au,n.LatLng=Le,n.LatLngBounds=xe,n.Layer=Je,n.LayerGroup=gt,n.LineUtil=S,n.Map=Oe,n.Marker=xu,n.Mixin=xo,n.Path=zi,n.Point=K,n.PolyUtil=ps,n.Polygon=_s,n.Polyline=oi,n.Popup=Ru,n.PosAnimation=Ra,n.Projection=oe,n.Rectangle=Qm,n.Renderer=ai,n.SVG=ja,n.SVGOverlay=$m,n.TileLayer=ys,n.Tooltip=Lu,n.Transformation=Ir,n.Util=b,n.VideoOverlay=Um,n.bind=l,n.bounds=we,n.canvas=Gm,n.circle=dE,n.circleMarker=hE,n.control=fn,n.divIcon=EE,n.extend=o,n.featureGroup=gs,n.geoJSON=Bm,n.geoJson=mE,n.gridLayer=xE,n.icon=uE,n.imageOverlay=gE,n.latLng=ge,n.latLngBounds=De,n.layerGroup=Fi,n.map=ls,n.marker=cE,n.point=ne,n.polygon=pE,n.polyline=fE,n.popup=yE,n.rectangle=PE,n.setOptions=V,n.stamp=d,n.svg=Km,n.svgOverlay=vE,n.tileLayer=Wm,n.tooltip=wE,n.transformation=dr,n.version=r,n.videoOverlay=_E;var CE=window.L;n.noConflict=function(){return window.L=CE,this},window.L=n})})(Rf,Rf.exports);var iu=Rf.exports;const zI=Xf(iu);function Jp(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function em(t,e){return e==null?function(r,o){const s=W.useRef();return s.current||(s.current=t(r,o)),s}:function(r,o){const s=W.useRef();s.current||(s.current=t(r,o));const l=W.useRef(r),{instance:h}=s.current;return W.useEffect(function(){l.current!==r&&(e(h,r,l.current),l.current=r)},[h,r,o]),s}}function BI(t,e){W.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Rw(t){return function(n){const r=Cw(),o=t(Xp(n,r),r);return Sw(r.map,n.attribution),Aw(o.current,n.eventHandlers),BI(o.current,r),o}}function UI(t,e){const n=em(t,e),r=Rw(n);return OI(r)}function $I(t,e){const n=em(t),r=FI(n,e);return VI(r)}function HI(t,e){const n=em(t,e),r=Rw(n);return jI(r)}function WI(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function Lf(){return Lf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}function ZI({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:s,placeholder:l,style:h,whenReady:d,zoom:m,...v},y){const[E]=W.useState({className:o,id:s,style:h}),[k,j]=W.useState(null);W.useImperativeHandle(y,()=>(k==null?void 0:k.map)??null,[k]);const V=W.useCallback(N=>{if(N!==null&&k===null){const I=new iu.Map(N,v);n!=null&&m!=null?I.setView(n,m):t!=null&&I.fitBounds(t,e),d!=null&&I.whenReady(d),j(MI(I))}},[]);W.useEffect(()=>()=>{k==null||k.map.remove()},[k]);const $=k?Yt.createElement(Iw,{value:k},r):l??null;return Yt.createElement("div",Lf({},E,{ref:V}),$)}const qI=W.forwardRef(ZI),GI=UI(function({position:e,...n},r){const o=new iu.Marker(e,n);return Jp(o,DI(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),KI=$I(function(e,n){const r=new iu.Popup(e,n.overlayContainer);return Jp(r,n)},function(e,n,{position:r},o){W.useEffect(function(){const{instance:l}=e;function h(m){m.popup===l&&(l.update(),o(!0))}function d(m){m.popup===l&&o(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var v;n.map.off({popupopen:h,popupclose:d}),(v=n.overlayContainer)==null||v.unbindPopup(),n.map.removeLayer(l)}},[e,n,o,r])}),QI=HI(function({url:e,...n},r){const o=new iu.TileLayer(e,Xp(n,r));return Jp(o,r)},function(e,n,r){WI(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),YI=()=>{const[t,e]=W.useState(!1),n=()=>{e(!t)};return T.jsxs("div",{className:"relative  w-full h-screen",children:[T.jsxs(qI,{center:[13.885639736704942,122.26207949035464],zoom:500,scrollWheelZoom:!1,className:"w-full h-full z-10",children:[T.jsx(QI,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),T.jsx(GI,{position:[13.885639736704942,122.26207949035464],icon:zI.icon({iconUrl:Ao.WARNING.RED,iconSize:[38,38]}),children:T.jsxs(KI,{children:["High Risk Road ",T.jsx("br",{})," Slippery Road"]})})]}),T.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-50 bg-red-500 text-white px-4 py-2 rounded-md",children:"Display Warning"}),t&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:T.jsxs("div",{className:"bg-white p-8 rounded-md shadow-md w-80",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Warning"}),T.jsx("p",{children:"There is a high-risk road 100 meters away."}),T.jsx("button",{onClick:n,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded-md",children:"Close"})]})})]})},XI=[{id:1,message:"App update available. Please refresh to get the latest features."},{id:2,message:"New tutorial added to the Learning section!"},{id:3,message:"Scheduled maintenance planned for tonight at 12 AM."}],JI=()=>{const[t,e]=W.useState(XI),n=r=>{e(t.filter(o=>o.id!==r))};return T.jsxs("div",{className:"h-screen px-4 bg-gray-100 flex flex-col",children:[T.jsx("header",{className:"  p-4",children:T.jsx("h1",{className:"text-2xl",children:"App Notifications"})}),T.jsx("main",{className:"flex-1 mt-4",children:T.jsx("div",{className:"space-y-4",children:t.length>0?t.map(r=>T.jsxs("div",{className:"bg-white border border-gray-300 p-4 rounded-md shadow-md flex justify-between items-center",children:[T.jsx("p",{className:"text-lg",children:r.message}),T.jsx("button",{onClick:()=>n(r.id),className:"bg-red-500 text-white px-4 py-2 rounded-md",children:"Acknowledge"})]},r.id)):T.jsx("p",{className:"text-center text-gray-500",children:"No notifications available."})})})]})},eC={username:"JaneDoe",avatar:"https://via.placeholder.com/150",bio:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus lacinia odio vitae vestibulum."},tC=()=>{const[t,e]=W.useState(eC),[n,r]=W.useState(!1),[o,s]=W.useState(t),l=()=>{r(!n)},h=m=>{const{name:v,value:y}=m.target;s(E=>({...E,[v]:y}))},d=()=>{e(o),r(!1)};return T.jsxs("div",{className:"h-[100vh] flex flex-col items-center",children:[T.jsx("header",{className:" p-4 w-full",children:T.jsx("h1",{className:"text-2xl text-center",children:"Profile Page"})}),T.jsxs("main",{className:"flex-1 mt-4 w-full max-w-md  p-6",children:[T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("img",{src:t.avatar,alt:"User Avatar",className:"w-32 h-32 rounded-full border-2 border-gray-300"}),n?T.jsx("input",{type:"text",name:"avatar",value:o.avatar,onChange:h,className:"mt-4 w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter avatar URL"}):T.jsx("div",{className:"mt-4 text-lg font-semibold",children:t.username}),n?T.jsx("input",{type:"text",name:"username",value:o.username,onChange:h,className:"mt-2 w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter username"}):null,n?T.jsx("textarea",{name:"bio",value:o.bio,onChange:h,className:"mt-4 w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter bio",rows:4}):T.jsx("p",{className:"mt-4 text-center",children:t.bio})]}),T.jsxs("div",{className:"mt-4 flex justify-center space-x-4",children:[T.jsx("button",{onClick:l,className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:n?"Cancel":"Edit Profile"}),n&&T.jsx("button",{onClick:d,className:"bg-green-500 text-white px-4 py-2 rounded-md",children:"Save"})]})]})]})},nC=()=>T.jsxs("div",{className:"container mx-auto px-6 py-12",children:[T.jsxs("section",{className:"text-center mb-12",children:[T.jsx("h1",{className:"text-5xl font-extrabold text-teal-600 mb-6",children:"Welcome to Librewhan Cafe"}),T.jsx("p",{className:"text-xl text-gray-600 italic",children:"A coffee shop with books is not just a place; it's a haven for dreamers, a sanctuary where the aroma of coffee mingles with the magic of words, creating a symphony for the senses."})]}),T.jsxs("section",{className:"bg-white shadow-lg rounded-lg p-10 text-center",children:[T.jsx("h2",{className:"text-3xl font-semibold text-teal-600 mb-6",children:"About Us"}),T.jsxs("p",{className:"text-lg text-gray-700 mb-6",children:["At ",T.jsx("span",{className:"font-bold text-teal-500",children:"Librewhan Cafe"}),", we believe that coffee and books are two of life’s greatest pleasures. Our mission is to create a cozy space where people can escape the hustle and bustle of daily life and immerse themselves in a world of rich flavors and inspiring stories."]}),T.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Whether you're looking for a quiet corner to read your favorite novel or need a space to catch up with friends over a cup of artisanal coffee, Librewhan Cafe offers the perfect setting. The gentle hum of conversations, the sound of turning pages, and the rich aroma of freshly brewed coffee create a peaceful ambiance where you can unwind, dream, and connect."}),T.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"From our carefully sourced coffee beans to our collection of handpicked books, every detail at Librewhan Cafe is designed to transport you to a place where creativity flourishes and time slows down."}),T.jsx("p",{className:"text-lg text-gray-700",children:"Come and join us in celebrating the beauty of simple joys – one cup, one page, one moment at a time."})]}),T.jsxs("section",{className:"mt-16",children:[T.jsx("h2",{className:"text-4xl font-bold text-teal-600 text-center mb-8",children:"Our Values"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[T.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 text-center",children:[T.jsx("h3",{className:"text-2xl font-semibold text-teal-600 mb-4",children:"Passion for Coffee"}),T.jsx("p",{className:"text-gray-700",children:"We are passionate about crafting the finest coffee, sourced ethically and brewed to perfection. Each cup is made with care, delivering a delightful experience with every sip."})]}),T.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 text-center",children:[T.jsx("h3",{className:"text-2xl font-semibold text-teal-600 mb-4",children:"Love for Books"}),T.jsx("p",{className:"text-gray-700",children:"Our love for books is at the heart of everything we do. We aim to create a sanctuary for readers, where the pages of every book invite curiosity and inspiration."})]}),T.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 text-center",children:[T.jsx("h3",{className:"text-2xl font-semibold text-teal-600 mb-4",children:"Community Spirit"}),T.jsx("p",{className:"text-gray-700",children:"Librewhan Cafe is a space for connection. We foster a welcoming environment where friends, families, and strangers can come together to share ideas, stories, and moments of joy."})]})]})]})]}),Ed=()=>{const[t,e]=W.useState(""),[n,r]=W.useState(""),[o,s]=W.useState(!1),l=h=>{h.preventDefault(),console.log(!0),location.reload()};return T.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden ",children:T.jsxs("div",{className:"bg-white p-8  w-full max-w-sm",children:[T.jsx("h2",{className:"mb-6 text-2xl font-bold text-center text-gray-800",children:"Login"}),T.jsxs("form",{onSubmit:l,children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-1 text-sm font-semibold text-gray-700",htmlFor:"email",children:"Email"}),T.jsx("input",{type:"email",id:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{className:"block mb-1 text-sm font-semibold text-gray-700",htmlFor:"password",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:o?"text":"password",id:"password",value:n,onChange:h=>r(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0}),T.jsx("button",{type:"button",onClick:()=>s(!o),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-600",children:o?"Hide":"Show"})]})]}),T.jsx("button",{type:"submit",className:"w-full py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:"Login"})]})]})})},rC=()=>{const[t,e]=W.useState(null),n=o=>{e(t===o?null:o)},r=[{question:"How can I franchise a Librewhan Cafe?",answer:"To franchise a Librewhan Cafe, fill out our franchise application form on the website, and our team will get in touch with you to discuss the next steps."},{question:"What are the requirements for franchising?",answer:"The requirements include a minimum investment amount, an appropriate location, and a commitment to follow our brand guidelines. Contact us for more detailed information."},{question:"Can I visit your store locations before deciding to franchise?",answer:"Yes, we encourage you to visit our store locations to experience our atmosphere and services firsthand before making a decision."},{question:"How long does the franchise approval process take?",answer:"The approval process typically takes 2-4 weeks, depending on the completeness of the application and the evaluation of your proposed location."},{question:"Do you offer training for new franchisees?",answer:"Yes, we provide comprehensive training for all new franchisees, including operations, marketing, and staff management to ensure your success."}];return T.jsx("div",{className:"container mx-auto px-6 py-12",children:T.jsxs("section",{children:[T.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 mb-8 text-center",children:"Frequently Asked Questions (FAQ)"}),T.jsx("div",{className:"max-w-3xl mx-auto",children:r.map((o,s)=>T.jsxs("div",{className:"mb-4 bg-white shadow-md rounded-lg p-6",children:[T.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>n(s),children:[T.jsx("h2",{className:"text-xl font-semibold text-teal-600",children:o.question}),t===s?T.jsx(lI,{className:"text-teal-500"}):T.jsx(aI,{className:"text-teal-500"})]}),t===s&&T.jsx("p",{className:"mt-4 text-gray-700",children:o.answer})]},s))})]})})},iC=()=>T.jsxs("div",{children:[T.jsxs("div",{className:"relative w-full h-[70vh] overflow-hidden",children:[T.jsx("img",{src:Ao.IMAGES.BG1,className:"absolute inset-0 w-full h-full object-cover",alt:"Background"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900 to-transparent"})]}),T.jsxs("div",{className:"grid grid-cols-2",children:[T.jsxs("div",{className:"relative w-full h-[25vh] overflow-hidden",children:[T.jsx("img",{src:Ao.IMAGES.RAW2,className:"absolute inset-0 w-full h-full object-cover",alt:"Background"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900 to-transparent"}),T.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-4 text-white text-center items-center",children:[T.jsx("h3",{className:"text-3xl font-bold",children:"Our Story"}),T.jsx(Wt,{to:"/about",className:"mt-2 px-4 py-2 bg-gradient-to-b from-yellow-600 to-yellow-800 text-white rounded w-fit",children:"Learn More"})]})]}),T.jsxs("div",{className:"relative w-full h-[25vh] overflow-hidden",children:[T.jsx("img",{src:Ao.IMAGES.RAW3,className:"absolute inset-0 w-full h-full object-cover",alt:"Background"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900 to-transparent"}),T.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-4 text-white text-center items-center",children:[T.jsx("h3",{className:"text-3xl font-bold",children:"Our Products"}),T.jsx(Wt,{to:"/products",className:"mt-2 px-4 py-2 bg-gradient-to-b from-yellow-600 to-yellow-800 text-white rounded w-fit",children:"Menu"})]})]}),T.jsxs("div",{className:"relative w-full h-[25vh] overflow-hidden",children:[T.jsx("img",{src:Ao.IMAGES.RAW4,className:"absolute inset-0 w-full h-full object-cover",alt:"Background"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900 to-transparent"}),T.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-4 text-white text-center items-center",children:[T.jsx("h3",{className:"text-3xl font-bold",children:"Find a Store"}),T.jsx(Wt,{to:"/stores",className:"mt-2 px-4 py-2 bg-gradient-to-b from-yellow-600 to-yellow-800 text-white rounded w-fit",children:"Location"})]})]}),T.jsxs("div",{className:"relative w-full h-[25vh] overflow-hidden",children:[T.jsx("img",{src:Ao.IMAGES.RAW5,className:"absolute inset-0 w-full h-full object-cover",alt:"Background"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900 to-transparent"}),T.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-4 text-white text-center items-center",children:[T.jsx("h3",{className:"text-3xl font-bold",children:"Questions?"}),T.jsx(Wt,{to:"/faq",className:"mt-2 px-4 py-2 bg-gradient-to-b from-yellow-600 to-yellow-800 text-white rounded w-fit",children:"Ask"})]})]})]})]}),oC="modulepreload",sC=function(t){return"/"+t},U_={},aC=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.all(n.map(h=>{if(h=sC(h),h in U_)return;U_[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":oC,d||(v.as="script",v.crossOrigin=""),v.href=h,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((y,E)=>{v.addEventListener("load",y),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}return o.then(()=>e()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},lC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[n++];e[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[n++],l=t[n++],h=t[n++],d=((o&7)<<18|(s&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|l&63)}}return e.join("")},kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const s=t[o],l=o+1<t.length,h=l?t[o+1]:0,d=o+2<t.length,m=d?t[o+2]:0,v=s>>2,y=(s&3)<<4|h>>4;let E=(h&15)<<2|m>>6,k=m&63;d||(k=64,l||(E=64)),r.push(n[v],n[y],n[E],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const s=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,s==null||h==null||m==null||y==null)throw new uC;const E=s<<2|h>>4;if(r.push(E),m!==64){const k=h<<4&240|m>>2;if(r.push(k),y!==64){const j=m<<6&192|y;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(t){const e=Lw(t);return kw.encodeByteArray(e,!0)},Gc=function(t){return cC(t).replace(/\./g,"")},hC=function(t){try{return kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=()=>dC().__FIREBASE_DEFAULTS__,pC=()=>{if(typeof process>"u"||typeof $_>"u")return;const t=$_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hC(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return fC()||pC()||mC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gC=t=>{var e,n;return(n=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_C=t=>{const e=gC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bw=()=>{var t;return(t=tm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gc(JSON.stringify(n)),Gc(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EC(){var t;const e=(t=tm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xC(){return!EC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TC(){try{return typeof indexedDB=="object"}catch{return!1}}function SC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="FirebaseError";class fa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PC,Object.setPrototypeOf(this,fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nw.prototype.create)}}class Nw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,s=this.errors[e],l=s?IC(s,r):"Error",h=`${this.serviceName}: ${l} (${o}).`;return new fa(o,h,r)}}function IC(t,e){return t.replace(CC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const CC=/\{\$([^}]+)}/g;function kf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const s=t[o],l=e[o];if(H_(s)&&H_(l)){if(!kf(s,l))return!1}else if(s!==l)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function H_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t){return t&&t._delegate?t._delegate:t}class Hl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LC(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(s);r===h&&l.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const l=this.instances.get(o);return l&&e(l,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RC(t){return t===Io?void 0:t}function LC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const bC={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},NC=Ze.INFO,MC={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},DC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=MC[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mw{constructor(e){this.name=e,this._logLevel=NC,this._logHandler=DC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const OC=(t,e)=>e.some(n=>t instanceof n);let W_,Z_;function VC(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dw=new WeakMap,bf=new WeakMap,Ow=new WeakMap,xd=new WeakMap,nm=new WeakMap;function FC(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(io(t.result)),o()},l=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Dw.set(n,t)}).catch(()=>{}),nm.set(e,t),e}function zC(t){if(bf.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),o()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});bf.set(t,e)}let Nf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ow.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BC(t){Nf=t(Nf)}function UC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Td(this),e,...n);return Ow.set(r,e.sort?e.sort():[e]),io(r)}:jC().includes(t)?function(...e){return t.apply(Td(this),e),io(Dw.get(this))}:function(...e){return io(t.apply(Td(this),e))}}function $C(t){return typeof t=="function"?UC(t):(t instanceof IDBTransaction&&zC(t),OC(t,VC())?new Proxy(t,Nf):t)}function io(t){if(t instanceof IDBRequest)return FC(t);if(xd.has(t))return xd.get(t);const e=$C(t);return e!==t&&(xd.set(t,e),nm.set(e,t)),e}const Td=t=>nm.get(t);function HC(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const l=indexedDB.open(t,e),h=io(l);return r&&l.addEventListener("upgradeneeded",d=>{r(io(l.result),d.oldVersion,d.newVersion,io(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{s&&d.addEventListener("close",()=>s()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const WC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],Sd=new Map;function q_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sd.get(e))return Sd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=ZC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(n)))return;const s=async function(l,...h){const d=this.transaction(l,o?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&d.done]))[0]};return Sd.set(e,s),s}BC(t=>({...t,get:(e,n,r)=>q_(e,n)||t.get(e,n,r),has:(e,n)=>!!q_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mf="@firebase/app",G_="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Mw("@firebase/app"),KC="@firebase/app-compat",QC="@firebase/analytics-compat",YC="@firebase/analytics",XC="@firebase/app-check-compat",JC="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",rA="@firebase/database-compat",iA="@firebase/functions",oA="@firebase/functions-compat",sA="@firebase/installations",aA="@firebase/installations-compat",lA="@firebase/messaging",uA="@firebase/messaging-compat",cA="@firebase/performance",hA="@firebase/performance-compat",dA="@firebase/remote-config",fA="@firebase/remote-config-compat",pA="@firebase/storage",mA="@firebase/storage-compat",gA="@firebase/firestore",_A="@firebase/vertexai-preview",vA="@firebase/firestore-compat",yA="firebase",wA="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="[DEFAULT]",EA={[Mf]:"fire-core",[KC]:"fire-core-compat",[YC]:"fire-analytics",[QC]:"fire-analytics-compat",[JC]:"fire-app-check",[XC]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[rA]:"fire-rtdb-compat",[iA]:"fire-fn",[oA]:"fire-fn-compat",[sA]:"fire-iid",[aA]:"fire-iid-compat",[lA]:"fire-fcm",[uA]:"fire-fcm-compat",[cA]:"fire-perf",[hA]:"fire-perf-compat",[dA]:"fire-rc",[fA]:"fire-rc-compat",[pA]:"fire-gcs",[mA]:"fire-gcs-compat",[gA]:"fire-fst",[vA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[yA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,xA=new Map,Of=new Map;function K_(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qc(t){const e=t.name;if(Of.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,t);for(const n of Kc.values())K_(n,t);for(const n of xA.values())K_(n,t);return!0}function TA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Nw("app","Firebase",SA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=wA;function Vw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Df,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw oo.create("bad-app-name",{appName:String(o)});if(n||(n=bw()),!n)throw oo.create("no-options");const s=Kc.get(o);if(s){if(kf(n,s.options)&&kf(r,s.config))return s;throw oo.create("duplicate-app",{appName:o})}const l=new kC(o);for(const d of Of.values())l.addComponent(d);const h=new PA(n,r,l);return Kc.set(o,h),h}function CA(t=Df){const e=Kc.get(t);if(!e&&t===Df&&bw())return Vw();if(!e)throw oo.create("no-app",{appName:t});return e}function Zs(t,e,n){var r;let o=(r=EA[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const h=[`Unable to register library "${o}" with version "${e}":`];s&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(h.join(" "));return}Qc(new Hl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firebase-heartbeat-database",RA=1,Wl="firebase-heartbeat-store";let Pd=null;function jw(){return Pd||(Pd=HC(AA,RA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),Pd}async function LA(t){try{const n=(await jw()).transaction(Wl),r=await n.objectStore(Wl).get(Fw(t));return await n.done,r}catch(e){if(e instanceof fa)wi.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(n.message)}}}async function Q_(t,e){try{const r=(await jw()).transaction(Wl,"readwrite");await r.objectStore(Wl).put(e,Fw(t)),await r.done}catch(n){if(n instanceof fa)wi.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(r.message)}}}function Fw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=1024,bA=30*24*60*60*1e3;class NA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const h=new Date(l.date).valueOf();return Date.now()-h<=bA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y_(),{heartbeatsToSend:r,unsentEntries:o}=MA(this._heartbeatsCache.heartbeats),s=Gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wi.warn(n),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function MA(t,e=kA){const n=[];let r=t.slice();for(const o of t){const s=n.find(l=>l.agent===o.agent);if(s){if(s.dates.push(o.date),X_(n)>e){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),X_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TC()?SC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function X_(t){return Gc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t){Qc(new Hl("platform-logger",e=>new qC(e),"PRIVATE")),Qc(new Hl("heartbeat",e=>new NA(e),"PRIVATE")),Zs(Mf,G_,t),Zs(Mf,G_,"esm2017"),Zs("fire-js","")}OA("");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vo,zw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,w){function P(){}P.prototype=w.prototype,R.D=w.prototype,R.prototype=new P,R.prototype.constructor=R,R.C=function(A,M,F){for(var b=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)b[Re-2]=arguments[Re];return w.prototype[M].apply(A,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,P){P||(P=0);var A=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)A[M]=w.charCodeAt(P++)|w.charCodeAt(P++)<<8|w.charCodeAt(P++)<<16|w.charCodeAt(P++)<<24;else for(M=0;16>M;++M)A[M]=w[P++]|w[P++]<<8|w[P++]<<16|w[P++]<<24;w=R.g[0],P=R.g[1],M=R.g[2];var F=R.g[3],b=w+(F^P&(M^F))+A[0]+3614090360&4294967295;w=P+(b<<7&4294967295|b>>>25),b=F+(M^w&(P^M))+A[1]+3905402710&4294967295,F=w+(b<<12&4294967295|b>>>20),b=M+(P^F&(w^P))+A[2]+606105819&4294967295,M=F+(b<<17&4294967295|b>>>15),b=P+(w^M&(F^w))+A[3]+3250441966&4294967295,P=M+(b<<22&4294967295|b>>>10),b=w+(F^P&(M^F))+A[4]+4118548399&4294967295,w=P+(b<<7&4294967295|b>>>25),b=F+(M^w&(P^M))+A[5]+1200080426&4294967295,F=w+(b<<12&4294967295|b>>>20),b=M+(P^F&(w^P))+A[6]+2821735955&4294967295,M=F+(b<<17&4294967295|b>>>15),b=P+(w^M&(F^w))+A[7]+4249261313&4294967295,P=M+(b<<22&4294967295|b>>>10),b=w+(F^P&(M^F))+A[8]+1770035416&4294967295,w=P+(b<<7&4294967295|b>>>25),b=F+(M^w&(P^M))+A[9]+2336552879&4294967295,F=w+(b<<12&4294967295|b>>>20),b=M+(P^F&(w^P))+A[10]+4294925233&4294967295,M=F+(b<<17&4294967295|b>>>15),b=P+(w^M&(F^w))+A[11]+2304563134&4294967295,P=M+(b<<22&4294967295|b>>>10),b=w+(F^P&(M^F))+A[12]+1804603682&4294967295,w=P+(b<<7&4294967295|b>>>25),b=F+(M^w&(P^M))+A[13]+4254626195&4294967295,F=w+(b<<12&4294967295|b>>>20),b=M+(P^F&(w^P))+A[14]+2792965006&4294967295,M=F+(b<<17&4294967295|b>>>15),b=P+(w^M&(F^w))+A[15]+1236535329&4294967295,P=M+(b<<22&4294967295|b>>>10),b=w+(M^F&(P^M))+A[1]+4129170786&4294967295,w=P+(b<<5&4294967295|b>>>27),b=F+(P^M&(w^P))+A[6]+3225465664&4294967295,F=w+(b<<9&4294967295|b>>>23),b=M+(w^P&(F^w))+A[11]+643717713&4294967295,M=F+(b<<14&4294967295|b>>>18),b=P+(F^w&(M^F))+A[0]+3921069994&4294967295,P=M+(b<<20&4294967295|b>>>12),b=w+(M^F&(P^M))+A[5]+3593408605&4294967295,w=P+(b<<5&4294967295|b>>>27),b=F+(P^M&(w^P))+A[10]+38016083&4294967295,F=w+(b<<9&4294967295|b>>>23),b=M+(w^P&(F^w))+A[15]+3634488961&4294967295,M=F+(b<<14&4294967295|b>>>18),b=P+(F^w&(M^F))+A[4]+3889429448&4294967295,P=M+(b<<20&4294967295|b>>>12),b=w+(M^F&(P^M))+A[9]+568446438&4294967295,w=P+(b<<5&4294967295|b>>>27),b=F+(P^M&(w^P))+A[14]+3275163606&4294967295,F=w+(b<<9&4294967295|b>>>23),b=M+(w^P&(F^w))+A[3]+4107603335&4294967295,M=F+(b<<14&4294967295|b>>>18),b=P+(F^w&(M^F))+A[8]+1163531501&4294967295,P=M+(b<<20&4294967295|b>>>12),b=w+(M^F&(P^M))+A[13]+2850285829&4294967295,w=P+(b<<5&4294967295|b>>>27),b=F+(P^M&(w^P))+A[2]+4243563512&4294967295,F=w+(b<<9&4294967295|b>>>23),b=M+(w^P&(F^w))+A[7]+1735328473&4294967295,M=F+(b<<14&4294967295|b>>>18),b=P+(F^w&(M^F))+A[12]+2368359562&4294967295,P=M+(b<<20&4294967295|b>>>12),b=w+(P^M^F)+A[5]+4294588738&4294967295,w=P+(b<<4&4294967295|b>>>28),b=F+(w^P^M)+A[8]+2272392833&4294967295,F=w+(b<<11&4294967295|b>>>21),b=M+(F^w^P)+A[11]+1839030562&4294967295,M=F+(b<<16&4294967295|b>>>16),b=P+(M^F^w)+A[14]+4259657740&4294967295,P=M+(b<<23&4294967295|b>>>9),b=w+(P^M^F)+A[1]+2763975236&4294967295,w=P+(b<<4&4294967295|b>>>28),b=F+(w^P^M)+A[4]+1272893353&4294967295,F=w+(b<<11&4294967295|b>>>21),b=M+(F^w^P)+A[7]+4139469664&4294967295,M=F+(b<<16&4294967295|b>>>16),b=P+(M^F^w)+A[10]+3200236656&4294967295,P=M+(b<<23&4294967295|b>>>9),b=w+(P^M^F)+A[13]+681279174&4294967295,w=P+(b<<4&4294967295|b>>>28),b=F+(w^P^M)+A[0]+3936430074&4294967295,F=w+(b<<11&4294967295|b>>>21),b=M+(F^w^P)+A[3]+3572445317&4294967295,M=F+(b<<16&4294967295|b>>>16),b=P+(M^F^w)+A[6]+76029189&4294967295,P=M+(b<<23&4294967295|b>>>9),b=w+(P^M^F)+A[9]+3654602809&4294967295,w=P+(b<<4&4294967295|b>>>28),b=F+(w^P^M)+A[12]+3873151461&4294967295,F=w+(b<<11&4294967295|b>>>21),b=M+(F^w^P)+A[15]+530742520&4294967295,M=F+(b<<16&4294967295|b>>>16),b=P+(M^F^w)+A[2]+3299628645&4294967295,P=M+(b<<23&4294967295|b>>>9),b=w+(M^(P|~F))+A[0]+4096336452&4294967295,w=P+(b<<6&4294967295|b>>>26),b=F+(P^(w|~M))+A[7]+1126891415&4294967295,F=w+(b<<10&4294967295|b>>>22),b=M+(w^(F|~P))+A[14]+2878612391&4294967295,M=F+(b<<15&4294967295|b>>>17),b=P+(F^(M|~w))+A[5]+4237533241&4294967295,P=M+(b<<21&4294967295|b>>>11),b=w+(M^(P|~F))+A[12]+1700485571&4294967295,w=P+(b<<6&4294967295|b>>>26),b=F+(P^(w|~M))+A[3]+2399980690&4294967295,F=w+(b<<10&4294967295|b>>>22),b=M+(w^(F|~P))+A[10]+4293915773&4294967295,M=F+(b<<15&4294967295|b>>>17),b=P+(F^(M|~w))+A[1]+2240044497&4294967295,P=M+(b<<21&4294967295|b>>>11),b=w+(M^(P|~F))+A[8]+1873313359&4294967295,w=P+(b<<6&4294967295|b>>>26),b=F+(P^(w|~M))+A[15]+4264355552&4294967295,F=w+(b<<10&4294967295|b>>>22),b=M+(w^(F|~P))+A[6]+2734768916&4294967295,M=F+(b<<15&4294967295|b>>>17),b=P+(F^(M|~w))+A[13]+1309151649&4294967295,P=M+(b<<21&4294967295|b>>>11),b=w+(M^(P|~F))+A[4]+4149444226&4294967295,w=P+(b<<6&4294967295|b>>>26),b=F+(P^(w|~M))+A[11]+3174756917&4294967295,F=w+(b<<10&4294967295|b>>>22),b=M+(w^(F|~P))+A[2]+718787259&4294967295,M=F+(b<<15&4294967295|b>>>17),b=P+(F^(M|~w))+A[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(M+(b<<21&4294967295|b>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.u=function(R,w){w===void 0&&(w=R.length);for(var P=w-this.blockSize,A=this.B,M=this.h,F=0;F<w;){if(M==0)for(;F<=P;)o(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<w;)if(A[M++]=R.charCodeAt(F++),M==this.blockSize){o(this,A),M=0;break}}else for(;F<w;)if(A[M++]=R[F++],M==this.blockSize){o(this,A),M=0;break}}this.h=M,this.o+=w},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;var P=8*this.o;for(w=R.length-8;w<R.length;++w)R[w]=P&255,P/=256;for(this.u(R),R=Array(16),w=P=0;4>w;++w)for(var A=0;32>A;A+=8)R[P++]=this.g[w]>>>A&255;return R};function s(R,w){var P=h;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=w(R)}function l(R,w){this.h=w;for(var P=[],A=!0,M=R.length-1;0<=M;M--){var F=R[M]|0;A&&F==w||(P[M]=F,A=!1)}this.g=P}var h={};function d(R){return-128<=R&&128>R?s(R,function(w){return new l([w|0],0>w?-1:0)}):new l([R|0],0>R?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return y;if(0>R)return $(m(-R));for(var w=[],P=1,A=0;R>=P;A++)w[A]=R/P|0,P*=4294967296;return new l(w,0)}function v(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return $(v(R.substring(1),w));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(w,8)),A=y,M=0;M<R.length;M+=8){var F=Math.min(8,R.length-M),b=parseInt(R.substring(M,M+F),w);8>F?(F=m(Math.pow(w,F)),A=A.j(F).add(m(b))):(A=A.j(P),A=A.add(m(b)))}return A}var y=d(0),E=d(1),k=d(16777216);t=l.prototype,t.m=function(){if(V(this))return-$(this).m();for(var R=0,w=1,P=0;P<this.g.length;P++){var A=this.i(P);R+=(0<=A?A:4294967296+A)*w,w*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(j(this))return"0";if(V(this))return"-"+$(this).toString(R);for(var w=m(Math.pow(R,6)),P=this,A="";;){var M=H(P,w).g;P=N(P,M.j(w));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(R);if(P=M,j(P))return F+A;for(;6>F.length;)F="0"+F;A=F+A}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function j(R){if(R.h!=0)return!1;for(var w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function V(R){return R.h==-1}t.l=function(R){return R=N(this,R),V(R)?-1:j(R)?0:1};function $(R){for(var w=R.g.length,P=[],A=0;A<w;A++)P[A]=~R.g[A];return new l(P,~R.h).add(E)}t.abs=function(){return V(this)?$(this):this},t.add=function(R){for(var w=Math.max(this.g.length,R.g.length),P=[],A=0,M=0;M<=w;M++){var F=A+(this.i(M)&65535)+(R.i(M)&65535),b=(F>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);A=b>>>16,F&=65535,b&=65535,P[M]=b<<16|F}return new l(P,P[P.length-1]&-2147483648?-1:0)};function N(R,w){return R.add($(w))}t.j=function(R){if(j(this)||j(R))return y;if(V(this))return V(R)?$(this).j($(R)):$($(this).j(R));if(V(R))return $(this.j($(R)));if(0>this.l(k)&&0>R.l(k))return m(this.m()*R.m());for(var w=this.g.length+R.g.length,P=[],A=0;A<2*w;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<R.g.length;M++){var F=this.i(A)>>>16,b=this.i(A)&65535,Re=R.i(M)>>>16,Lt=R.i(M)&65535;P[2*A+2*M]+=b*Lt,I(P,2*A+2*M),P[2*A+2*M+1]+=F*Lt,I(P,2*A+2*M+1),P[2*A+2*M+1]+=b*Re,I(P,2*A+2*M+1),P[2*A+2*M+2]+=F*Re,I(P,2*A+2*M+2)}for(A=0;A<w;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=w;A<2*w;A++)P[A]=0;return new l(P,0)};function I(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function D(R,w){this.g=R,this.h=w}function H(R,w){if(j(w))throw Error("division by zero");if(j(R))return new D(y,y);if(V(R))return w=H($(R),w),new D($(w.g),$(w.h));if(V(w))return w=H(R,$(w)),new D($(w.g),w.h);if(30<R.g.length){if(V(R)||V(w))throw Error("slowDivide_ only works with positive integers.");for(var P=E,A=w;0>=A.l(R);)P=J(P),A=J(A);var M=te(P,1),F=te(A,1);for(A=te(A,2),P=te(P,2);!j(A);){var b=F.add(A);0>=b.l(R)&&(M=M.add(P),F=b),A=te(A,1),P=te(P,1)}return w=N(R,M.j(w)),new D(M,w)}for(M=y;0<=R.l(w);){for(P=Math.max(1,Math.floor(R.m()/w.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),F=m(P),b=F.j(w);V(b)||0<b.l(R);)P-=A,F=m(P),b=F.j(w);j(F)&&(F=E),M=M.add(F),R=N(R,b)}return new D(M,R)}t.A=function(R){return H(this,R).h},t.and=function(R){for(var w=Math.max(this.g.length,R.g.length),P=[],A=0;A<w;A++)P[A]=this.i(A)&R.i(A);return new l(P,this.h&R.h)},t.or=function(R){for(var w=Math.max(this.g.length,R.g.length),P=[],A=0;A<w;A++)P[A]=this.i(A)|R.i(A);return new l(P,this.h|R.h)},t.xor=function(R){for(var w=Math.max(this.g.length,R.g.length),P=[],A=0;A<w;A++)P[A]=this.i(A)^R.i(A);return new l(P,this.h^R.h)};function J(R){for(var w=R.g.length+1,P=[],A=0;A<w;A++)P[A]=R.i(A)<<1|R.i(A-1)>>>31;return new l(P,R.h)}function te(R,w){var P=w>>5;w%=32;for(var A=R.g.length-P,M=[],F=0;F<A;F++)M[F]=0<w?R.i(F+P)>>>w|R.i(F+P+1)<<32-w:R.i(F+P);return new l(M,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zw=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=v,Vo=l}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bw,Uw,sl,$w,pc,Vf,Hw,Ww,Zw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(u,p){if(p)e:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in _))break e;_=_[B]}u=u[u.length-1],S=_[u],p=p(S),p!=S&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var _=0,S=!1,B={next:function(){if(!S&&_<u.length){var G=_++;return{value:p(G,u[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return s(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function d(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function v(u,p,_){return u.call.apply(u.bind,arguments)}function y(u,p,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),u.apply(p,B)}}return function(){return u.apply(p,arguments)}}function E(u,p,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:y,E.apply(null,arguments)}function k(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function j(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,B,G){for(var oe=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)oe[Qe-2]=arguments[Qe];return p.prototype[B].apply(S,oe)}}function V(u){const p=u.length;if(0<p){const _=Array(p);for(let S=0;S<p;S++)_[S]=u[S];return _}return[]}function $(u,p){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(d(S)){const B=u.length||0,G=S.length||0;u.length=B+G;for(let oe=0;oe<G;oe++)u[B+oe]=S[oe]}else u.push(S)}}class N{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function I(u){return/^[\s\xa0]*$/.test(u)}function D(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function H(u){return H[" "](u),u}H[" "]=function(){};var J=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function te(u,p,_){for(const S in u)p.call(_,u[S],S,u)}function R(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function w(u){const p={};for(const _ in u)p[_]=u[_];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,p){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)u[_]=S[_];for(let G=0;G<P.length;G++)_=P[G],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function M(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function F(u){h.setTimeout(()=>{throw u},0)}function b(){var u=le;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Re{constructor(){this.h=this.g=null}add(p,_){const S=Lt.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Lt=new N(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,K=!1,le=new Re,ne=()=>{const u=h.Promise.resolve(void 0);pt=()=>{u.then(pe)}};var pe=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(_){F(_)}var p=Lt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}K=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,p),h.removeEventListener("test",_,p)}catch{}return u}();function Le(u,p){if(xe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(J){e:{try{H(p.nodeName);var B=!0;break e}catch{}B=!1}B||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Le.aa.h.call(this)}}j(Le,xe);var ge={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),zt=0;function Xo(u,p,_,S,B){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=B,this.key=++zt,this.da=this.fa=!1}function Jn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ir(u){this.src=u,this.g={},this.h=0}Ir.prototype.add=function(u,p,_,S,B){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var oe=qr(u,p,S,B);return-1<oe?(p=u[oe],_||(p.fa=!1)):(p=new Xo(p,this.src,G,!!S,B),p.fa=_,u.push(p)),p};function dr(u,p){var _=p.type;if(_ in u.g){var S=u.g[_],B=Array.prototype.indexOf.call(S,p,void 0),G;(G=0<=B)&&Array.prototype.splice.call(S,B,1),G&&(Jn(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function qr(u,p,_,S){for(var B=0;B<u.length;++B){var G=u[B];if(!G.da&&G.listener==p&&G.capture==!!_&&G.ha==S)return B}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),jn={};function Pi(u,p,_,S,B){if(Array.isArray(p)){for(var G=0;G<p.length;G++)Pi(u,p[G],_,S,B);return null}return _=ts(_),u&&u[tt]?u.K(p,_,m(S)?!!S.capture:!!S,B):yo(u,p,_,!1,S,B)}function yo(u,p,_,S,B,G){if(!p)throw Error("Invalid event type");var oe=m(B)?!!B.capture:!!B,Qe=Ci(u);if(Qe||(u[Pt]=Qe=new Ir(u)),_=Qe.add(p,_,S,oe,G),_.proxy)return _;if(S=wn(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)De||(B=oe),B===void 0&&(B=!1),u.addEventListener(p.toString(),S,B);else if(u.attachEvent)u.attachEvent(Gr(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wn(){function u(_){return p.call(u.src,u.listener,_)}const p=es;return u}function Jo(u,p,_,S,B){if(Array.isArray(p))for(var G=0;G<p.length;G++)Jo(u,p[G],_,S,B);else S=m(S)?!!S.capture:!!S,_=ts(_),u&&u[tt]?(u=u.i,p=String(p).toString(),p in u.g&&(G=u.g[p],_=qr(G,_,S,B),-1<_&&(Jn(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete u.g[p],u.h--)))):u&&(u=Ci(u))&&(p=u.g[p.toString()],u=-1,p&&(u=qr(p,_,S,B)),(_=-1<u?p[u]:null)&&Ii(_))}function Ii(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[tt])dr(p.i,u);else{var _=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(_,S,u.capture):p.detachEvent?p.detachEvent(Gr(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=Ci(p))?(dr(_,u),_.h==0&&(_.src=null,p[Pt]=null)):Jn(u)}}}function Gr(u){return u in jn?jn[u]:jn[u]="on"+u}function es(u,p){if(u.da)u=!0;else{p=new Le(p,this);var _=u.listener,S=u.ha||u.src;u.fa&&Ii(u),u=_.call(S,p)}return u}function Ci(u){return u=u[Pt],u instanceof Ir?u:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ts(u){return typeof u=="function"?u:(u[wo]||(u[wo]=function(p){return u.handleEvent(p)}),u[wo])}function it(){we.call(this),this.i=new Ir(this),this.M=this,this.F=null}j(it,we),it.prototype[tt]=!0,it.prototype.removeEventListener=function(u,p,_,S){Jo(this,u,p,_,S)};function ut(u,p){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new xe(p,u);else if(p instanceof xe)p.target=p.target||u;else{var B=p;p=new xe(S,u),A(p,B)}if(B=!0,_)for(var G=_.length-1;0<=G;G--){var oe=p.g=_[G];B=Cr(oe,S,!0,p)&&B}if(oe=p.g=u,B=Cr(oe,S,!0,p)&&B,B=Cr(oe,S,!1,p)&&B,_)for(G=0;G<_.length;G++)oe=p.g=_[G],B=Cr(oe,S,!1,p)&&B}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],S=0;S<_.length;S++)Jn(_[S]);delete u.g[p],u.h--}}this.F=null},it.prototype.K=function(u,p,_,S){return this.i.add(String(u),p,!1,_,S)},it.prototype.L=function(u,p,_,S){return this.i.add(String(u),p,!0,_,S)};function Cr(u,p,_,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var B=!0,G=0;G<p.length;++G){var oe=p[G];if(oe&&!oe.da&&oe.capture==_){var Qe=oe.listener,kt=oe.ha||oe.src;oe.fa&&dr(u.i,oe),B=Qe.call(kt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ai(u,p,_){if(typeof u=="function")_&&(u=E(u,_));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:h.setTimeout(u,p||0)}function En(u){u.g=Ai(()=>{u.g=null,u.i&&(u.i=!1,En(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class xn extends we{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(u){we.call(this),this.h=u,this.g={}}j(Ar,we);var Rr=[];function Ri(u){te(u.g,function(p,_){this.g.hasOwnProperty(_)&&Ii(p)},u),u.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),Ri(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=h.JSON.stringify,ns=h.JSON.parse,Lr=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Li(){}Li.prototype.h=null;function rs(u){return u.h||(u.h=u.i())}function ki(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){xe.call(this,"d")}j(Kr,xe);function Qr(){xe.call(this,"c")}j(Qr,xe);var Tn={},bi=null;function Ni(){return bi=bi||new it}Tn.La="serverreachability";function Eo(u){xe.call(this,Tn.La,u)}j(Eo,xe);function Yr(u){const p=Ni();ut(p,new Eo(p))}Tn.STAT_EVENT="statevent";function Xr(u,p){xe.call(this,Tn.STAT_EVENT,u),this.stat=p}j(Xr,xe);function xt(u){const p=Ni();ut(p,new Xr(p,u))}Tn.Ma="timingevent";function Jr(u,p){xe.call(this,Tn.Ma,u),this.size=p}j(Jr,xe);function kr(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},p)}function ei(){this.g=!0}ei.prototype.xa=function(){this.g=!1};function Sn(u,p,_,S,B,G){u.info(function(){if(u.g)if(G)for(var oe="",Qe=G.split("&"),kt=0;kt<Qe.length;kt++){var $e=Qe[kt].split("=");if(1<$e.length){var Je=$e[0];$e=$e[1];var gt=Je.split("_");oe=2<=gt.length&&gt[1]=="type"?oe+(Je+"="+$e+"&"):oe+(Je+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+p+`
`+_+`
`+oe})}function C(u,p,_,S,B,G,oe){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+p+`
`+_+`
`+G+" "+oe})}function z(u,p,_,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Q(u,_)+(S?" "+S:"")})}function Z(u,p){u.info(function(){return"TIMEOUT: "+p})}ei.prototype.info=function(){};function Q(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return dn(_)}catch{return p}}var ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function ie(){}j(ie,Li),ie.prototype.g=function(){return new XMLHttpRequest},ie.prototype.i=function(){return{}},_e=new ie;function ve(u,p,_,S){this.j=u,this.i=p,this.l=_,this.R=S||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var Pe={},Be={};function Fe(u,p,_){u.L=1,u.v=tr(Tt(p)),u.m=_,u.P=!0,We(u,null)}function We(u,p){u.F=Date.now(),nt(u),u.A=Tt(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),fu(_.i,"t",S),u.C=0,_=u.j.J,u.h=new me,u.g=wu(u.j,_?p:null,!u.m),0<u.O&&(u.M=new xn(E(u.Y,u,u.g),u.O)),p=u.U,_=u.g,S=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Rr[0]=B.toString()),B=Rr);for(var G=0;G<B.length;G++){var oe=Pi(_,B[G],S||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Yr(),Sn(u.i,u.u,u.A,u.l,u.R,u.m)}ve.prototype.ca=function(u){u=u.target;const p=this.M;p&&fn(u)==3?p.j():this.Y(u)},ve.prototype.Y=function(u){try{if(u==this.g)e:{const gt=fn(this.g);var p=this.g.Ba();const Fi=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||La(this.g)))){this.J||gt!=4||p==7||(p==8||0>=Fi?Yr(3):Yr(2)),Pn(this);var _=this.g.Z();this.X=_;t:if(ze(this)){var S=La(this.g);u="";var B=S.length,G=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),In(this);var oe="";break t}this.h.i=new h.TextDecoder}for(p=0;p<B;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(G&&p==B-1)});S.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,C(this.i,this.u,this.A,this.l,this.R,gt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,kt=this.g;if((Qe=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Qe)){var $e=Qe;break t}}$e=null}if(_=$e)z(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cn(this,_);else{this.o=!1,this.s=3,xt(12),rn(this),In(this);break e}}if(this.P){_=!0;let Ct;for(;!this.J&&this.C<oe.length;)if(Ct=ct(this,oe),Ct==Be){gt==4&&(this.s=4,xt(14),_=!1),z(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Pe){this.s=4,xt(15),z(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else z(this.i,this.l,Ct,null),Cn(this,Ct);if(ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||oe.length!=0||this.h.h||(this.s=1,xt(16),_=!1),this.o=this.o&&_,!_)z(this.i,this.l,oe,"[Invalid Chunked Response]"),rn(this),In(this);else if(0<oe.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ds(Je),Je.M=!0,xt(11))}}else z(this.i,this.l,oe,null),Cn(this,oe);gt==4&&rn(this),this.o&&!this.J&&(gt==4?ba(this.j,this):(this.o=!1,nt(this)))}else Fh(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),rn(this),In(this)}}}catch{}finally{}};function ze(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ct(u,p){var _=u.C,S=p.indexOf(`
`,_);return S==-1?Be:(_=Number(p.substring(_,S)),isNaN(_)?Pe:(S+=1,S+_>p.length?Be:(p=p.slice(S,S+_),u.C=S+_,p)))}ve.prototype.cancel=function(){this.J=!0,rn(this)};function nt(u){u.S=Date.now()+u.I,br(u,u.I)}function br(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=kr(E(u.ba,u),p)}function Pn(u){u.B&&(h.clearTimeout(u.B),u.B=null)}ve.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Z(this.i,this.A),this.L!=2&&(Yr(),xt(17)),rn(this),this.s=2,In(this)):br(this,this.S-u)};function In(u){u.j.G==0||u.J||ba(u.j,u)}function rn(u){Pn(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Ri(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Cn(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||se(_.h,u))){if(!u.K&&se(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ps(_),cs(_);else break e;hs(_),xt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=kr(E(_.Za,_),6e3));if(1>=zn(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ii(_,11)}else if((u.K||_.g==u)&&ps(_),!I(p))for(B=_.Da.g.parse(p),p=0;p<B.length;p++){let $e=B[p];if(_.T=$e[0],$e=$e[1],_.G==2)if($e[0]=="c"){_.K=$e[1],_.ia=$e[2];const Je=$e[3];Je!=null&&(_.la=Je,_.j.info("VER="+_.la));const gt=$e[4];gt!=null&&(_.Aa=gt,_.j.info("SVER="+_.Aa));const Fi=$e[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(S=1.5*Fi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ct=u.g;if(Ct){const gs=Ct.g?Ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var G=S.h;G.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ee(G,G.h),G.h=null))}if(S.D){const Vr=Ct.g?Ct.g.getResponseHeader("X-HTTP-Session-Id"):null;Vr&&(S.ya=Vr,Ie(S.I,S.D,Vr))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var oe=u;if(S.qa=ms(S,S.J?S.ia:null,S.W),oe.K){It(S.h,oe);var Qe=oe,kt=S.L;kt&&(Qe.I=kt),Qe.B&&(Pn(Qe),nt(Qe)),S.g=oe}else mr(S);0<_.i.length&&ji(_)}else $e[0]!="stop"&&$e[0]!="close"||ii(_,7);else _.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ii(_,7):us(_):$e[0]!="noop"&&_.l&&_.l.ta($e),_.v=0)}}Yr(4)}catch{}}var Bt=class{constructor(u,p){this.g=u,this.map=p}};function Nr(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zn(u){return u.h?1:u.g?u.g.size:0}function se(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ee(u,p){u.g?u.g.add(p):u.h=p}function It(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Nr.prototype.cancel=function(){if(this.i=Ue(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ue(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return V(u.i)}function Ut(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(d(u)){for(var p=[],_=u.length,S=0;S<_;S++)p.push(u[S]);return p}p=[],_=0;for(S in u)p[_++]=u[S];return p}function Mi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(d(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const S in u)p[_++]=S;return p}}}function Ae(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(d(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Mi(u),S=Ut(u),B=S.length,G=0;G<B;G++)p.call(void 0,S[G],_&&_[G],u)}var ht=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),B=null;if(0<=S){var G=u[_].substring(0,S);B=u[_].substring(S+1)}else G=u[_];p(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function er(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof er){this.h=u.h,is(this,u.j),this.o=u.o,this.g=u.g,ti(this,u.s),this.l=u.l;var p=u.i,_=new ni;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Dr(this,_),this.m=u.m}else u&&(p=String(u).match(ht))?(this.h=!1,is(this,p[1]||"",!0),this.o=fr(p[2]||""),this.g=fr(p[3]||"",!0),ti(this,p[4]),this.l=fr(p[5]||"",!0),Dr(this,p[6]||"",!0),this.m=fr(p[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}er.prototype.toString=function(){var u=[],p=this.j;p&&u.push(pr(p,Di,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(pr(p,Di,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(pr(_,_.charAt(0)=="/"?xa:Ea,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",pr(_,Ta)),u.join("")};function Tt(u){return new er(u)}function is(u,p,_){u.j=_?fr(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ti(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Dr(u,p,_){p instanceof ni?(u.i=p,nr(u.i,u.h)):(_||(p=pr(p,os)),u.i=new ni(p,u.h))}function Ie(u,p,_){u.i.set(p,_)}function tr(u){return Ie(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function fr(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,wa),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Di=/[#\/\?@]/g,Ea=/[#\?:]/g,xa=/[#\?]/g,os=/[#\?@]/g,Ta=/#/g;function ni(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Bn(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=ni.prototype,t.add=function(u,p){Bn(this),this.i=null,u=Te(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function Sa(u,p){Bn(u),p=Te(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function ss(u,p){return Bn(u),p=Te(u,p),u.g.has(p)}t.forEach=function(u,p){Bn(this),this.g.forEach(function(_,S){_.forEach(function(B){u.call(p,B,S,this)},this)},this)},t.na=function(){Bn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let S=0;S<p.length;S++){const B=u[S];for(let G=0;G<B.length;G++)_.push(p[S])}return _},t.V=function(u){Bn(this);let p=[];if(typeof u=="string")ss(this,u)&&(p=p.concat(this.g.get(Te(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},t.set=function(u,p){return Bn(this),this.i=null,u=Te(this,u),ss(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function fu(u,p,_){Sa(u,p),0<_.length&&(u.i=null,u.g.set(Te(u,p),V(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var S=p[_];const G=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var B=G;oe[S]!==""&&(B+="="+encodeURIComponent(String(oe[S]))),u.push(B)}}return this.i=u.join("&")};function Te(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function nr(u,p){p&&!u.j&&(Bn(u),u.i=null,u.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(Sa(this,S),fu(this,B,_))},u)),u.j=p}function Xe(u,p){const _=new ei;if(h.Image){const S=new Image;S.onload=k(rr,_,"TestLoadImage: loaded",!0,p,S),S.onerror=k(rr,_,"TestLoadImage: error",!1,p,S),S.onabort=k(rr,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=k(rr,_,"TestLoadImage: timeout",!1,p,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function pu(u,p){const _=new ei,S=new AbortController,B=setTimeout(()=>{S.abort(),rr(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(G=>{clearTimeout(B),G.ok?rr(_,"TestPingServer: ok",!0,p):rr(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),rr(_,"TestPingServer: error",!1,p)})}function rr(u,p,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function Pa(){this.g=new Lr}function Ia(u,p,_){const S=_||"";try{Ae(u,function(B,G){let oe=B;m(B)&&(oe=dn(B)),p.push(S+G+"="+encodeURIComponent(oe))})}catch(B){throw p.push(S+"type="+encodeURIComponent("_badmap")),B}}function Un(u){this.l=u.Ub||null,this.j=u.eb||!1}j(Un,Li),Un.prototype.g=function(){return new Oi(this.l,this.j)},Un.prototype.i=function(u){return function(){return u}}({});function Oi(u,p){it.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Oi,it),t=Oi.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,$n(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||h).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mt(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vi(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vi(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?mt(this):$n(this),this.readyState==3&&Vi(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,mt(this))},t.Qa=function(u){this.g&&(this.response=u,mt(this))},t.ga=function(){this.g&&mt(this)};function mt(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ca(u){let p="";return te(u,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function as(u,p,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ca(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ie(u,p,_))}function dt(u){it.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(dt,it);var mu=/^https?$/i,Aa=["POST","PUT"];t=dt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?rs(this.o):rs(_e),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(G){gu(this,G);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())_.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Aa,p,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of _)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{An(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){gu(this,G)}};function gu(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Ra(u),ls(u)}function Ra(u){u.A||(u.A=!0,ut(u,"complete"),ut(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ut(this,"complete"),ut(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oe(this):this.bb())},t.bb=function(){Oe(this)};function Oe(u){if(u.h&&typeof l<"u"&&(!u.v[1]||fn(u)!=4||u.Z()!=2)){if(u.u&&fn(u)==4)Ai(u.Ea,0,u);else if(ut(u,"readystatechange"),fn(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var S;if(S=oe===0){var B=String(u.D).match(ht)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),S=!mu.test(B?B.toLowerCase():"")}_=S}if(_)ut(u,"complete"),ut(u,"success");else{u.m=6;try{var G=2<fn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Ra(u)}}finally{ls(u)}}}}function ls(u,p){if(u.g){An(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ut(u,"ready");try{_.onreadystatechange=S}catch{}}}function An(u){u.I&&(h.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function fn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ns(p)}};function La(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fh(u){const p={};u=(u.g&&2<=fn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(I(u[S]))continue;var _=M(u[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=p[B]||[];p[B]=G,G.push(_)}R(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function _u(u){this.Aa=0,this.i=[],this.j=new ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ri("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ri("baseRetryDelayMs",5e3,u),this.cb=ri("retryDelaySeedMs",1e4,u),this.Wa=ri("forwardChannelMaxRetries",2,u),this.wa=ri("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(u&&u.concurrentRequestLimit),this.Da=new Pa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_u.prototype,t.la=8,t.G=1,t.connect=function(u,p,_,S){xt(0),this.W=u,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ms(this,null,this.W),ji(this)};function us(u){if(vu(u),u.G==3){var p=u.U++,_=Tt(u.I);if(Ie(_,"SID",u.K),Ie(_,"RID",p),Ie(_,"TYPE","terminate"),xo(u,_),p=new ve(u,u.j,p),p.L=2,p.v=tr(Tt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=p.v,_=!0),_||(p.g=wu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),nt(p)}yu(u)}function cs(u){u.g&&(ds(u),u.g.cancel(),u.g=null)}function vu(u){cs(u),u.u&&(h.clearTimeout(u.u),u.u=null),ps(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function ji(u){if(!Mr(u.h)&&!u.s){u.s=!0;var p=u.Ga;pt||ne(),K||(pt(),K=!0),le.add(p,u),u.B=0}}function zh(u,p){return zn(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=kr(E(u.Ga,u,p),Na(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new ve(this,this.j,u);let G=this.o;if(this.S&&(G?(G=w(G),A(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=ka(this,B,p),_=Tt(this.I),Ie(_,"RID",u),Ie(_,"CVER",22),this.D&&Ie(_,"X-HTTP-Session-Id",this.D),xo(this,_),G&&(this.O?p="headers="+encodeURIComponent(String(Ca(G)))+"&"+p:this.m&&as(_,this.m,G)),Ee(this.h,B),this.Ua&&Ie(_,"TYPE","init"),this.P?(Ie(_,"$req",p),Ie(_,"SID","null"),B.T=!0,Fe(B,_,null)):Fe(B,_,p),this.G=2}}else this.G==3&&(u?Hn(this,u):this.i.length==0||Mr(this.h)||Hn(this))};function Hn(u,p){var _;p?_=p.l:_=u.U++;const S=Tt(u.I);Ie(S,"SID",u.K),Ie(S,"RID",_),Ie(S,"AID",u.T),xo(u,S),u.m&&u.o&&as(S,u.m,u.o),_=new ve(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=ka(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ee(u.h,_),Fe(_,S,p)}function xo(u,p){u.H&&te(u.H,function(_,S){Ie(p,S,_)}),u.l&&Ae({},function(_,S){Ie(p,S,_)})}function ka(u,p,_){_=Math.min(u.i.length,_);var S=u.l?E(u.l.Na,u.l,u):null;e:{var B=u.i;let G=-1;for(;;){const oe=["count="+_];G==-1?0<_?(G=B[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let Qe=!0;for(let kt=0;kt<_;kt++){let $e=B[kt].g;const Je=B[kt].map;if($e-=G,0>$e)G=Math.max(0,B[kt].g-100),Qe=!1;else try{Ia(Je,oe,"req"+$e+"_")}catch{S&&S(Je)}}if(Qe){S=oe.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,S}function mr(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;pt||ne(),K||(pt(),K=!0),le.add(p,u),u.v=0}}function hs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=kr(E(u.Fa,u),Na(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,fs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=kr(E(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),cs(this),fs(this))};function ds(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function fs(u){u.g=new ve(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Tt(u.qa);Ie(p,"RID","rpc"),Ie(p,"SID",u.K),Ie(p,"AID",u.T),Ie(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ie(p,"TO",u.ja),Ie(p,"TYPE","xmlhttp"),xo(u,p),u.m&&u.o&&as(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=tr(Tt(p)),_.m=null,_.P=!0,We(_,u)}t.Za=function(){this.C!=null&&(this.C=null,cs(this),hs(this),xt(19))};function ps(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function ba(u,p){var _=null;if(u.g==p){ps(u),ds(u),u.g=null;var S=2}else if(se(u.h,p))_=p.D,It(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var B=u.B;S=Ni(),ut(S,new Jr(S,_)),ji(u)}else mr(u);else if(B=p.s,B==3||B==0&&0<p.X||!(S==1&&zh(u,p)||S==2&&hs(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),B){case 1:ii(u,5);break;case 4:ii(u,10);break;case 3:ii(u,6);break;default:ii(u,2)}}}function Na(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function ii(u,p){if(u.j.info("Error code "+p),p==2){var _=E(u.fb,u),S=u.Xa;const B=!S;S=new er(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||is(S,"https"),tr(S),B?Xe(S.toString(),_):pu(S.toString(),_)}else xt(2);u.G=0,u.l&&u.l.sa(p),yu(u),vu(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function yu(u){if(u.G=0,u.ka=[],u.l){const p=Ue(u.h);(p.length!=0||u.i.length!=0)&&($(u.ka,p),$(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function ms(u,p,_){var S=_ instanceof er?Tt(_):new er(_);if(S.g!="")p&&(S.g=p+"."+S.g),ti(S,S.s);else{var B=h.location;S=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;var G=new er(null);S&&is(G,S),p&&(G.g=p),B&&ti(G,B),_&&(G.l=_),S=G}return _=u.D,p=u.ya,_&&p&&Ie(S,_,p),Ie(S,"VER",u.la),xo(u,S),S}function wu(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new dt(new Un({eb:_})):new dt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ma(){}t=Ma.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function To(){}To.prototype.g=function(u,p){return new $t(u,p)};function $t(u,p){it.call(this),this.g=new _u(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!I(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ir(this)}j($t,it),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){us(this.g)},$t.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=dn(u),u=_);p.i.push(new Bt(p.Ya++,u)),p.G==3&&ji(p)},$t.prototype.N=function(){this.g.l=null,delete this.j,us(this.g),delete this.g,$t.aa.N.call(this)};function Or(u){Kr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}j(Or,Kr);function Eu(){Qr.call(this),this.status=1}j(Eu,Qr);function ir(u){this.g=u}j(ir,Ma),ir.prototype.ua=function(){ut(this.g,"a")},ir.prototype.ta=function(u){ut(this.g,new Or(u))},ir.prototype.sa=function(u){ut(this.g,new Eu)},ir.prototype.ra=function(){ut(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Zw=function(){return new To},Ww=function(){return Ni()},Hw=Tn,Vf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,pc=ae,ce.COMPLETE="complete",$w=ce,ki.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",it.prototype.listen=it.prototype.K,sl=ki,Uw=Un,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,Bw=dt}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Mw("@firebase/firestore");function Xa(){return Ho.logLevel}function fe(t,...e){if(Ho.logLevel<=Ze.DEBUG){const n=e.map(rm);Ho.debug(`Firestore (${pa}): ${t}`,...n)}}function Ei(t,...e){if(Ho.logLevel<=Ze.ERROR){const n=e.map(rm);Ho.error(`Firestore (${pa}): ${t}`,...n)}}function na(t,...e){if(Ho.logLevel<=Ze.WARN){const n=e.map(rm);Ho.warn(`Firestore (${pa}): ${t}`,...n)}}function rm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+t;throw Ei(e),new Error(e)}function rt(t,e){t||Ce()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends fa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class jA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FA{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const o=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pi,e.enqueueRetryable(()=>o(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},h=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new qw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new ln(e)}}class zA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $A{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const o=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new UA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=HA(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=e.charAt(o[s]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function ra(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ft(0,0))}static max(){return new ke(new Ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const s=e.get(o),l=n.get(o);if(s<l)return-1;if(s>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends Zl{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new at(n)}static emptyPath(){return new at([])}}const WA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Zl{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return WA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const s=()=>{if(r.length===0)throw new de(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new de(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,o+=2}else h==="`"?(l=!l,o++):h!=="."||l?(r+=h,o++):(s(),o++)}if(s(),l)throw new de(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}function ZA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new uo(o,ye.empty(),e)}function qA(t){return new uo(t.readTime,t.key,-1)}class uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new uo(ke.min(),ye.empty(),-1)}static max(){return new uo(ke.max(),ye.empty(),-1)}}function GA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==KA)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let o=0,s=0,l=!1;e.forEach(h=>{++o,h.next(()=>{++s,l&&s===o&&n()},d=>r(d))}),l=!0,s===o&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(o=>o?ee.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,s)=>{r.push(n.call(this,o,s))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,o)=>{const s=e.length,l=new Array(s);let h=0;for(let d=0;d<s;d++){const m=d;n(e[m]).next(v=>{l[m]=v,++h,h===s&&r(l)},v=>o(v))}})}static doWhile(e,n){return new ee((r,o)=>{const s=()=>{e()===!0?n().next(()=>{s()},o):r()};s()})}}function YA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}im.oe=-1;function Ph(t){return t==null}function Yc(t){return t===0&&1/t==-1/0}function XA(t){return typeof t=="number"&&Number.isInteger(t)&&!Yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&o&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=s??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,s){return new Qt(e??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,o,s){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new en(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Qw("Invalid base64 string: "+s):s}}(e);return new nn(n)}static fromUint8Array(e){const n=function(o){let s="";for(let l=0;l<o.length;++l)s+=String.fromCharCode(o[l]);return s}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const JA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(t){if(rt(!!t),typeof t=="string"){let e=0;const n=JA.exec(t);if(rt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wo(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sm(t){const e=t.mapValue.fields.__previous_value__;return om(e)?sm(e):e}function ql(t){const e=co(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,r,o,s,l,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m}}class Gl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?om(t)?4:n2(t)?9007199254740991:t2(t)?10:11:Ce()}function Zr(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ql(t).isEqual(ql(e));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const l=co(o.timestampValue),h=co(s.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,s){return Wo(o.bytesValue).isEqual(Wo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,s){return At(o.geoPointValue.latitude)===At(s.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(s.geoPointValue.longitude)}(t,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return At(o.integerValue)===At(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const l=At(o.doubleValue),h=At(s.doubleValue);return l===h?Yc(l)===Yc(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(o,s){const l=o.mapValue.fields||{},h=s.mapValue.fields||{};if(tv(l)!==tv(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!Zr(l[d],h[d])))return!1;return!0}(t,e);default:return Ce()}}function Kl(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function ia(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(s,l){const h=At(s.integerValue||s.doubleValue),d=At(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return rv(t.timestampValue,e.timestampValue);case 4:return rv(ql(t),ql(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(s,l){const h=Wo(s),d=Wo(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const h=s.split("/"),d=l.split("/");for(let m=0;m<h.length&&m<d.length;m++){const v=Ge(h[m],d[m]);if(v!==0)return v}return Ge(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const h=Ge(At(s.latitude),At(l.latitude));return h!==0?h:Ge(At(s.longitude),At(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iv(t.arrayValue,e.arrayValue);case 10:return function(s,l){var h,d,m,v;const y=s.fields||{},E=l.fields||{},k=(h=y.value)===null||h===void 0?void 0:h.arrayValue,j=(d=E.value)===null||d===void 0?void 0:d.arrayValue,V=Ge(((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0,((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:iv(k,j)}(t.mapValue,e.mapValue);case 11:return function(s,l){if(s===Xu.mapValue&&l===Xu.mapValue)return 0;if(s===Xu.mapValue)return 1;if(l===Xu.mapValue)return-1;const h=s.fields||{},d=Object.keys(h),m=l.fields||{},v=Object.keys(m);d.sort(),v.sort();for(let y=0;y<d.length&&y<v.length;++y){const E=Ge(d[y],v[y]);if(E!==0)return E;const k=ia(h[d[y]],m[v[y]]);if(k!==0)return k}return Ge(d.length,v.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function rv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=co(t),r=co(e),o=Ge(n.seconds,r.seconds);return o!==0?o:Ge(n.nanos,r.nanos)}function iv(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const s=ia(n[o],r[o]);if(s)return s}return Ge(n.length,r.length)}function oa(t){return jf(t)}function jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const s of n.values||[])o?o=!1:r+=",",r+=jf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const l of r)s?s=!1:o+=",",o+=`${l}:${jf(n.fields[l])}`;return o+"}"}(t.mapValue):Ce()}function ov(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ff(t){return!!t&&"integerValue"in t}function am(t){return!!t&&"arrayValue"in t}function sv(t){return!!t&&"nullValue"in t}function av(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mc(t){return!!t&&"mapValue"in t}function t2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Xt.emptyPath(),r={},o=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,o),r={},o=[],n=h.popLast()}l?r[h.lastSegment()]=wl(l):o.push(h.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,o)}delete(e){const n=this.field(e.popLast());mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Qo(n,(o,s)=>e[o]=s);for(const o of r)delete e[o]}clone(){return new kn(wl(this.value))}}function Yw(t){const e=[];return Qo(t.fields,(n,r)=>{const o=new Xt([n]);if(mc(r)){const s=Yw(r.mapValue).fields;if(s.length===0)e.push(o);else for(const l of s)e.push(o.child(l))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,o,s,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=s,this.data=l,this.documentState=h}static newInvalidDocument(e){return new cn(e,0,ke.min(),ke.min(),ke.min(),kn.empty(),0)}static newFoundDocument(e,n,r,o){return new cn(e,1,n,ke.min(),r,o,0)}static newNoDocument(e,n){return new cn(e,2,n,ke.min(),ke.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,ke.min(),ke.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.position=e,this.inclusive=n}}function lv(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const s=e[o],l=t.position[o];if(s.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),n.key):r=ia(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function r2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{}class Ot extends Xw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new o2(e,n,r):n==="array-contains"?new l2(e,r):n==="in"?new u2(e,r):n==="not-in"?new c2(e,r):n==="array-contains-any"?new h2(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s2(e,r):new a2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ia(n,this.value)):n!==null&&Zo(this.value)===Zo(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends Xw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Pr(e,n)}matches(e){return Jw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jw(t){return t.op==="and"}function e1(t){return i2(t)&&Jw(t)}function i2(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function zf(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(e1(t))return t.filters.map(e=>zf(e)).join(",");{const e=t.filters.map(n=>zf(n)).join(",");return`${t.op}(${e})`}}function t1(t,e){return t instanceof Ot?function(r,o){return o instanceof Ot&&r.op===o.op&&r.field.isEqual(o.field)&&Zr(r.value,o.value)}(t,e):t instanceof Pr?function(r,o){return o instanceof Pr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((s,l,h)=>s&&t1(l,o.filters[h]),!0):!1}(t,e):void Ce()}function n1(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(n1).join(" ,")+"}"}(t):"Filter"}class o2 extends Ot{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class s2 extends Ot{constructor(e,n){super(e,"in",n),this.keys=r1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class a2 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=r1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function r1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class l2 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return am(n)&&Kl(n.arrayValue,this.value)}}class u2 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class c2 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kl(this.value.arrayValue,n)}}class h2 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n=null,r=[],o=[],s=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=l,this.endAt=h,this.ue=null}}function cv(t,e=null,n=[],r=[],o=null,s=null,l=null){return new d2(t,e,n,r,o,s,l)}function lm(t){const e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.ue=n}return e.ue}function um(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uv(t.startAt,e.startAt)&&uv(t.endAt,e.endAt)}function Bf(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n=null,r=[],o=[],s=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function f2(t,e,n,r,o,s,l,h){return new au(t,e,n,r,o,s,l,h)}function cm(t){return new au(t)}function hv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i1(t){return t.collectionGroup!==null}function El(t){const e=be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new en(Xt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Jc(s,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new Jc(Xt.keyField(),r))}return e.ce}function Hr(t){const e=be(t);return e.le||(e.le=p2(e,El(t))),e.le}function p2(t,e){if(t.limitType==="F")return cv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new Jc(o.field,s)});const n=t.endAt?new Xc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xc(t.startAt.position,t.startAt.inclusive):null;return cv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uf(t,e){const n=t.filters.concat([e]);return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return um(Hr(t),Hr(e))&&t.limitType===e.limitType}function o1(t){return`${lm(Hr(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>n1(o)).join(", ")}]`),Ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>oa(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>oa(o)).join(",")),`Target(${r})`}(Hr(t))}; limitType=${t.limitType})`}function Ch(t,e){return e.isFoundDocument()&&function(r,o){const s=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,o){for(const s of El(r))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const s of r.filters)if(!s.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(l,h,d){const m=lv(l,h,d);return l.inclusive?m<=0:m<0}(r.startAt,El(r),o)||r.endAt&&!function(l,h,d){const m=lv(l,h,d);return l.inclusive?m>=0:m>0}(r.endAt,El(r),o))}(t,e)}function m2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function s1(t){return(e,n)=>{let r=!1;for(const o of El(t)){const s=g2(o,e,n);if(s!==0)return s;r=r||o.field.isKeyField()}return 0}}function g2(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(s,l,h){const d=l.data.field(s),m=h.data.field(s);return d!==null&&m!==null?ia(d,m):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,s]of r)if(this.equalsFn(o,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return void(o[s]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,(n,r)=>{for(const[o,s]of r)e(o,s)})}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Et(ye.comparator);function xi(){return _2}const a1=new Et(ye.comparator);function al(...t){let e=a1;for(const n of t)e=e.insert(n.key,n);return e}function l1(t){let e=a1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mo(){return xl()}function u1(){return xl()}function xl(){return new ma(t=>t.toString(),(t,e)=>t.isEqual(e))}const v2=new Et(ye.comparator),y2=new en(ye.comparator);function je(...t){let e=y2;for(const n of t)e=e.add(n);return e}const w2=new en(Ge);function E2(){return w2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function c1(t){return{integerValue:""+t}}function x2(t,e){return XA(e)?c1(e):hm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function T2(t,e,n){return t instanceof eh?function(o,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&om(s)&&(s=sm(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(n,e):t instanceof Ql?d1(t,e):t instanceof Yl?f1(t,e):function(o,s){const l=h1(o,s),h=dv(l)+dv(o.Pe);return Ff(l)&&Ff(o.Pe)?c1(h):hm(o.serializer,h)}(t,e)}function S2(t,e,n){return t instanceof Ql?d1(t,e):t instanceof Yl?f1(t,e):n}function h1(t,e){return t instanceof th?function(r){return Ff(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class eh extends Ah{}class Ql extends Ah{constructor(e){super(),this.elements=e}}function d1(t,e){const n=p1(e);for(const r of t.elements)n.some(o=>Zr(o,r))||n.push(r);return{arrayValue:{values:n}}}class Yl extends Ah{constructor(e){super(),this.elements=e}}function f1(t,e){let n=p1(e);for(const r of t.elements)n=n.filter(o=>!Zr(o,r));return{arrayValue:{values:n}}}class th extends Ah{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dv(t){return At(t.integerValue||t.doubleValue)}function p1(t){return am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P2(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Ql&&o instanceof Ql||r instanceof Yl&&o instanceof Yl?ra(r.elements,o.elements,Zr):r instanceof th&&o instanceof th?Zr(r.Pe,o.Pe):r instanceof eh&&o instanceof eh}(t.transform,e.transform)}class I2{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function m1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dm(t.key,Tr.none()):new lu(t.key,t.data,Tr.none());{const n=t.data,r=kn.empty();let o=new en(Xt.comparator);for(let s of e.fields)if(!o.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),o=o.add(s)}return new vo(t.key,r,new Gn(o.toArray()),Tr.none())}}function C2(t,e,n){t instanceof lu?function(o,s,l){const h=o.value.clone(),d=pv(o.fieldTransforms,s,l.transformResults);h.setAll(d),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof vo?function(o,s,l){if(!gc(o.precondition,s))return void s.convertToUnknownDocument(l.version);const h=pv(o.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(g1(o)),d.setAll(h),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(o,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Tl(t,e,n,r){return t instanceof lu?function(s,l,h,d){if(!gc(s.precondition,l))return h;const m=s.value.clone(),v=mv(s.fieldTransforms,d,l);return m.setAll(v),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof vo?function(s,l,h,d){if(!gc(s.precondition,l))return h;const m=mv(s.fieldTransforms,d,l),v=l.data;return v.setAll(g1(s)),v.setAll(m),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),h===null?null:h.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(s,l,h){return gc(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function A2(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),s=h1(r.transform,o||null);s!=null&&(n===null&&(n=kn.empty()),n.set(r.field,s))}return n||null}function fv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ra(r,o,(s,l)=>P2(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lu extends Rh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vo extends Rh{constructor(e,n,r,o,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function g1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pv(t,e,n){const r=new Map;rt(t.length===n.length);for(let o=0;o<n.length;o++){const s=t[o],l=s.transform,h=e.data.field(s.field);r.set(s.field,S2(l,h,n[o]))}return r}function mv(t,e,n){const r=new Map;for(const o of t){const s=o.transform,l=n.data.field(o.field);r.set(o.field,T2(s,l,e))}return r}class dm extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(e.key)&&C2(s,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=u1();return this.mutations.forEach(o=>{const s=e.get(o.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=n.has(o.key)?null:h;const d=m1(l,h);d!==null&&r.set(o.key,d),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,r)=>fv(n,r))&&ra(this.baseMutations,e.baseMutations,(n,r)=>fv(n,r))}}class fm{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){rt(e.mutations.length===r.length);let o=function(){return v2}();const s=e.mutations;for(let l=0;l<s.length;l++)o=o.insert(s[l].key,r[l].version);return new fm(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,He;function N2(t){switch(t){default:return Ce();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function _1(t){if(t===void 0)return Ei("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Nt.OK:return Y.OK;case Nt.CANCELLED:return Y.CANCELLED;case Nt.UNKNOWN:return Y.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Y.INTERNAL;case Nt.UNAVAILABLE:return Y.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Y.NOT_FOUND;case Nt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Nt.ABORTED:return Y.ABORTED;case Nt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Nt.DATA_LOSS:return Y.DATA_LOSS;default:return Ce()}}(He=Nt||(Nt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new Vo([4294967295,4294967295],0);function gv(t){const e=M2().encode(t),n=new zw;return n.update(e),new Uint8Array(n.digest())}function _v(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vo([n,r],0),new Vo([o,s],0)]}class pm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ll(`Invalid padding: ${n}`);if(r<0)throw new ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Vo.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(Vo.fromNumber(r)));return o.compare(D2)===1&&(o=new Vo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gv(e),[r,o]=_v(n);for(let s=0;s<this.hashCount;s++){const l=this.Ee(r,o,s);if(!this.de(l))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new pm(s,o,n);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.Ie===0)return;const n=gv(e),[r,o]=_v(n);for(let s=0;s<this.hashCount;s++){const l=this.Ee(r,o,s);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,o,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lh(ke.min(),o,new Et(Ge),xi(),je())}}class uu{constructor(e,n,r,o,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uu(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class v1{constructor(e,n){this.targetId=e,this.me=n}}class y1{constructor(e,n,r=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class vv{constructor(){this.fe=0,this.ge=wv(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),n=je(),r=je();return this.ge.forEach((o,s)=>{switch(s){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ce()}}),new uu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=wv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class O2{constructor(e){this.Le=e,this.Be=new Map,this.ke=xi(),this.qe=yv(),this.Qe=new Et(Ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const s=o.target;if(Bf(s))if(r===0){const l=new ye(s.path);this.Ue(n,l,cn.newNoDocument(l,ke.min()))}else rt(r===1);else{const l=this.Ye(n);if(l!==r){const h=this.Ze(e),d=h?this.Xe(h,e,l):1;if(d!==0){this.je(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:s=0}=n;let l,h;try{l=Wo(r).toUint8Array()}catch(d){if(d instanceof Qw)return na("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new pm(l,o,s)}catch(d){return na(d instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ie===0?null:h}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(s=>{const l=this.Le.tt(),h=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,s,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((s,l)=>{const h=this.Je(l);if(h){if(s.current&&Bf(h.target)){const d=new ye(h.target.path);this.ke.get(d)!==null||this.it(l,d)||this.Ue(l,d,cn.newNoDocument(d,e))}s.be&&(n.set(l,s.ve()),s.Ce())}});let r=je();this.qe.forEach((s,l)=>{let h=!0;l.forEachWhile(d=>{const m=this.Je(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(s))}),this.ke.forEach((s,l)=>l.setReadTime(e));const o=new Lh(e,n,this.Qe,this.ke,r);return this.ke=xi(),this.qe=yv(),this.Qe=new Et(Ge),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new vv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new en(Ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function yv(){return new Et(ye.comparator)}function wv(){return new Et(ye.comparator)}const V2={asc:"ASCENDING",desc:"DESCENDING"},j2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F2={and:"AND",or:"OR"};class z2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hf(t,e){return t.useProto3Json||Ph(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function B2(t,e){return nh(t,e.toTimestamp())}function Wr(t){return rt(!!t),ke.fromTimestamp(function(n){const r=co(n);return new Ft(r.seconds,r.nanos)}(t))}function mm(t,e){return Wf(t,e).canonicalString()}function Wf(t,e){const n=function(o){return new at(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function E1(t){const e=at.fromString(t);return rt(I1(e)),e}function Zf(t,e){return mm(t.databaseId,e.path)}function Id(t,e){const n=E1(e);if(n.get(1)!==t.databaseId.projectId)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(T1(n))}function x1(t,e){return mm(t.databaseId,e)}function U2(t){const e=E1(t);return e.length===4?at.emptyPath():T1(e)}function qf(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T1(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ev(t,e,n){return{name:Zf(t,e),fields:n.value.mapValue.fields}}function $2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],s=function(m,v){return m.useProto3Json?(rt(v===void 0||typeof v=="string"),nn.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),nn.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(m){const v=m.code===void 0?Y.UNKNOWN:_1(m.code);return new de(v,m.message||"")}(l);n=new y1(r,o,s,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Id(t,r.document.name),s=Wr(r.document.updateTime),l=r.document.createTime?Wr(r.document.createTime):ke.min(),h=new kn({mapValue:{fields:r.document.fields}}),d=cn.newFoundDocument(o,s,l,h),m=r.targetIds||[],v=r.removedTargetIds||[];n=new _c(m,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Id(t,r.document),s=r.readTime?Wr(r.readTime):ke.min(),l=cn.newNoDocument(o,s),h=r.removedTargetIds||[];n=new _c([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Id(t,r.document),s=r.removedTargetIds||[];n=new _c([],s,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:s}=r,l=new b2(o,s),h=r.targetId;n=new v1(h,l)}}return n}function H2(t,e){let n;if(e instanceof lu)n={update:Ev(t,e.key,e.value)};else if(e instanceof dm)n={delete:Zf(t,e.key)};else if(e instanceof vo)n={update:Ev(t,e.key,e.data),updateMask:J2(e.fieldMask)};else{if(!(e instanceof R2))return Ce();n={verify:Zf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const h=l.transform;if(h instanceof eh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ql)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof th)return{fieldPath:l.field.canonicalString(),increment:h.Pe};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:B2(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(t,e.precondition)),n}function W2(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(o,s){let l=o.updateTime?Wr(o.updateTime):Wr(s);return l.isEqual(ke.min())&&(l=Wr(s)),new I2(l,o.transformResults||[])}(n,e))):[]}function Z2(t,e){return{documents:[x1(t,e.path)]}}function q2(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=x1(t,o);const s=function(m){if(m.length!==0)return P1(Pr.create(m,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const l=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:Ps(E.field),direction:Q2(E.dir)}}(v))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=Hf(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:n,parent:o}}function G2(t){let e=U2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){rt(r===1);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let s=[];n.where&&(s=function(y){const E=S1(y);return E instanceof Pr&&e1(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(E=>function(j){return new Jc(Is(j.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(y){let E;return E=typeof y=="object"?y.value:y,Ph(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(y){const E=!!y.before,k=y.values||[];return new Xc(k,E)}(n.startAt));let m=null;return n.endAt&&(m=function(y){const E=!y.before,k=y.values||[];return new Xc(k,E)}(n.endAt)),f2(e,o,l,s,h,"F",d,m)}function K2(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Is(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Is(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Is(n.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Is(n.unaryFilter.field);return Ot.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(Is(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>S1(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function Q2(t){return V2[t]}function Y2(t){return j2[t]}function X2(t){return F2[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Is(t){return Xt.fromServerFormat(t.fieldPath)}function P1(t){return t instanceof Ot?function(n){if(n.op==="=="){if(av(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(sv(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(av(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(sv(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:Y2(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(o=>P1(o));return r.length===1?r[0]:{compositeFilter:{op:X2(n.op),filters:r}}}(t):Ce()}function J2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function I1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r,o,s=ke.min(),l=ke.min(),h=nn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.ct=e}}function tR(t){const e=G2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.un=new rR}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(uo.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class rR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new en(at.comparator),s=!o.has(r);return this.index[n]=o.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new en(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sa(0)}static kn(){return new sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Tl(r.mutation,o,Gn.empty(),Ft.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const o=Mo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(s=>{let l=al();return s.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const o=[];return r.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(e,o).next(s=>{s.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,o){let s=xi();const l=xl(),h=function(){return xl()}();return n.forEach((d,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof vo)?s=s.insert(m.key,m):v!==void 0?(l.set(m.key,v.mutation.getFieldMask()),Tl(v.mutation,m,v.mutation.getFieldMask(),Ft.now())):l.set(m.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((m,v)=>l.set(m,v)),n.forEach((m,v)=>{var y;return h.set(m,new oR(v,(y=l.get(m))!==null&&y!==void 0?y:null))}),h))}recalculateAndSaveOverlays(e,n){const r=xl();let o=new Et((l,h)=>l-h),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let v=r.get(d)||Gn.empty();v=h.applyToLocalView(m,v),r.set(d,v);const y=(o.get(h.batchId)||je()).add(d);o=o.insert(h.batchId,y)})}).next(()=>{const l=[],h=o.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,v=d.value,y=u1();v.forEach(E=>{if(!s.has(E)){const k=m1(n.get(E),r.get(E));k!==null&&y.set(E,k),s=s.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,y))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(s=>{const l=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-s.size):ee.resolve(Mo());let h=-1,d=s;return l.next(m=>ee.forEach(m,(v,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),s.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{d=d.insert(v,E)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,d,m,je())).next(v=>({batchId:h,changes:l1(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let o=al();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const s=n.collectionGroup;let l=al();return this.indexManager.getCollectionParents(e,s).next(h=>ee.forEach(h,d=>{const m=function(y,E){return new au(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((y,E)=>{l=l.insert(y,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,o){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,o))).next(l=>{s.forEach((d,m)=>{const v=m.getKey();l.get(v)===null&&(l=l.insert(v,cn.newInvalidDocument(v)))});let h=al();return l.forEach((d,m)=>{const v=s.get(d);v!==void 0&&Tl(v.mutation,m,Gn.empty(),Ft.now()),Ch(n,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Wr(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:tR(o.bundledQuery),readTime:Wr(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.overlays=new Et(ye.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mo();return ee.forEach(n,o=>this.getOverlay(e,o).next(s=>{s!==null&&r.set(o,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,s)=>{this.ht(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const o=Mo(),s=n.length+1,l=new ye(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===s&&d.largestBatchId>r&&o.set(d.getKey(),d)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let s=new Et((m,v)=>m-v);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let v=s.get(m.largestBatchId);v===null&&(v=Mo(),s=s.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=Mo(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,v)=>h.set(m,v)),!(h.size()>=o)););return ee.resolve(h)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const l=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new k2(n,r));let s=this.Ir.get(n);s===void 0&&(s=je(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Tr=new en(Zt.Er),this.dr=new en(Zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Zt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new at([])),r=new Zt(n,e),o=new Zt(n,e+1),s=[];return this.dr.forEachInRange([r,o],l=>{this.Vr(l),s.push(l.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new at([])),r=new Zt(n,e),o=new Zt(n,e+1);let s=je();return this.dr.forEachInRange([r,o],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new Zt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||Ge(e.wr,n.wr)}static Ar(e,n){return Ge(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new en(Zt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new L2(s,n,r,o);this.mutationQueue.push(l);for(const h of o)this.br=this.br.add(new Zt(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),s=o<0?0:o;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),o=new Zt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,o],l=>{const h=this.Dr(l.wr);s.push(h)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Ge);return n.forEach(o=>{const s=new Zt(o,0),l=new Zt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,l],h=>{r=r.add(h.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let s=r;ye.isDocumentKey(s)||(s=s.child(""));const l=new Zt(new ye(s),0);let h=new en(Ge);return this.br.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(d.wr)),!0)},l),ee.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach(r=>{const o=this.Dr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){rt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(n.mutations,o=>{const s=new Zt(o.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Zt(n,0),o=this.br.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.Mr=e,this.docs=function(){return new Et(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),s=o?o.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=xi();return n.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():cn.newInvalidDocument(o))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let s=xi();const l=n.path,h=new ye(l.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||GA(qA(v),r)<=0||(o.has(v.key)||Ch(n,v))&&(s=s.insert(v.key,v.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,n,r,o){Ce()}Or(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dR(this)}getSize(e){return ee.resolve(this.size)}}class dR extends iR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.persistence=e,this.Nr=new ma(n=>lm(n),um),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gm,this.targetCount=0,this.kr=sa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let o=0;const s=[];return this.Nr.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Nr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ee.waitFor(s).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(l=>{s.push(o.markPotentiallyOrphaned(e,l))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new im(0),this.Kr=!1,this.Kr=!0,this.$r=new uR,this.referenceDelegate=e(this),this.Ur=new fR(this),this.indexManager=new nR,this.remoteDocumentCache=function(o){return new hR(o)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new eR(n),this.Gr=new aR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new cR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const o=new mR(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(s=>this.referenceDelegate.jr(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Hr(e,n){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class mR extends QA{constructor(e){super(),this.currentSequenceNumber=e}}class _m{constructor(e){this.persistence=e,this.Jr=new gm,this.Yr=null}static Zr(e){return new _m(e)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{const o=ye.fromPath(r);return this.ei(e,o).next(s=>{s||n.removeEntry(o,ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=je(),o=je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new vm(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return xC()?8:YA(wC())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const s={result:null};return this.Yi(e,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.Zi(e,n,o,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new gR;return this.Xi(e,n,l).next(h=>{if(s.result=h,this.zi)return this.es(e,n,l,h.size)})}).next(()=>s.result)}es(e,n,r,o){return r.documentReadCount<this.ji?(Xa()<=Ze.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Xa()<=Ze.DEBUG&&fe("QueryEngine","Query:",Ss(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Xa()<=Ze.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):ee.resolve())}Yi(e,n){if(hv(n))return ee.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=$f(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=je(...s);return this.Ji.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.ts(n,h);return this.ns(n,m,l,d.readTime)?this.Yi(e,$f(n,null,"F")):this.rs(e,m,n,d)}))})))}Zi(e,n,r,o){return hv(n)||o.isEqual(ke.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const l=this.ts(n,s);return this.ns(n,l,r,o)?ee.resolve(null):(Xa()<=Ze.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ss(n)),this.rs(e,l,n,ZA(o,-1)).next(h=>h))})}ts(e,n){let r=new en(s1(e));return n.forEach((o,s)=>{Ch(e,s)&&(r=r.add(s))}),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Xi(e,n,r){return Xa()<=Ze.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.Ji.getDocumentsMatchingQuery(e,n,uo.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Et(Ge),this._s=new ma(s=>lm(s),um),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function yR(t,e,n,r){return new vR(t,e,n,r)}async function C1(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(s=>(o=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],h=[];let d=je();for(const m of o){l.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}for(const m of s){h.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(r,d).next(m=>({hs:m,removedBatchIds:l,addedBatchIds:h}))})})}function wR(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(h,d,m,v){const y=m.batch,E=y.keys();let k=ee.resolve();return E.forEach(j=>{k=k.next(()=>v.getEntry(d,j)).next(V=>{const $=m.docVersions.get(j);rt($!==null),V.version.compareTo($)<0&&(y.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),v.addEntry(V)))})}),k.next(()=>h.mutationQueue.removeMutationBatch(d,y))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=je();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function A1(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ER(t,e){const n=be(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const h=[];e.targetChanges.forEach((v,y)=>{const E=o.get(y);if(!E)return;h.push(n.Ur.removeMatchingKeys(s,v.removedDocuments,y).next(()=>n.Ur.addMatchingKeys(s,v.addedDocuments,y)));let k=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?k=k.withResumeToken(nn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,r)),o=o.insert(y,k),function(V,$,N){return V.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(E,k,v)&&h.push(n.Ur.updateTargetData(s,k))});let d=xi(),m=je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(s,v))}),h.push(xR(s,l,e.documentUpdates).next(v=>{d=v.Ps,m=v.Is})),!r.isEqual(ke.min())){const v=n.Ur.getLastRemoteSnapshotVersion(s).next(y=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(v)}return ee.waitFor(h).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,d,m)).next(()=>d)}).then(s=>(n.os=o,s))}function xR(t,e,n){let r=je(),o=je();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let l=xi();return n.forEach((h,d)=>{const m=s.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):fe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Ps:l,Is:o}})}function TR(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SR(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ur.getTargetData(r,e).next(s=>s?(o=s,ee.resolve(o)):n.Ur.allocateTargetId(r).next(l=>(o=new Ki(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Gf(t,e,n){const r=be(t),o=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,o))}catch(l){if(!su(l))throw l;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function xv(t,e,n){const r=be(t);let o=ke.min(),s=je();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,m,v){const y=be(d),E=y._s.get(v);return E!==void 0?ee.resolve(y.os.get(E)):y.Ur.getTargetData(m,v)}(r,l,Hr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,h.targetId).next(d=>{s=d})}).next(()=>r.ss.getDocumentsMatchingQuery(l,e,n?o:ke.min(),n?s:je())).next(h=>(PR(r,m2(e),h),{documents:h,Ts:s})))}function PR(t,e,n){let r=t.us.get(e)||ke.min();n.forEach((o,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Tv{constructor(){this.activeTargetIds=E2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IR{constructor(){this.so=new Tv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Tv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Cd(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class LR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get Fo(){return!1}Mo(n,r,o,s,l){const h=Cd(),d=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${h}:`,d,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,s,l),this.No(n,d,m,o).then(v=>(fe("RestConnection",`Received RPC '${n}' ${h}: `,v),v),v=>{throw na("RestConnection",`RPC '${n}' ${h} failed with error: `,v,"url: ",d,"request:",o),v})}Lo(n,r,o,s,l,h){return this.Mo(n,r,o,s,l)}Oo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,l)=>n[l]=s),o&&o.headers.forEach((s,l)=>n[l]=s)}xo(n,r){const o=AR[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const s=Cd();return new Promise((l,h)=>{const d=new Bw;d.setWithCredentials(!0),d.listenOnce($w.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case pc.NO_ERROR:const v=d.getResponseJson();fe(an,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(v)),l(v);break;case pc.TIMEOUT:fe(an,`RPC '${e}' ${s} timed out`),h(new de(Y.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const y=d.getStatus();if(fe(an,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const k=E==null?void 0:E.error;if(k&&k.status&&k.message){const j=function($){const N=$.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(N)>=0?N:Y.UNKNOWN}(k.status);h(new de(j,k.message))}else h(new de(Y.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new de(Y.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{fe(an,`RPC '${e}' ${s} completed.`)}});const m=JSON.stringify(o);fe(an,`RPC '${e}' ${s} sending request:`,o),d.send(n,"POST",m,r,15)})}Bo(e,n,r){const o=Cd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Zw(),h=Ww(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.xmlHttpFactory=new Uw({})),this.Oo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const v=s.join("");fe(an,`Creating RPC '${e}' stream ${o}: ${v}`,d);const y=l.createWebChannel(v,d);let E=!1,k=!1;const j=new RR({Io:$=>{k?fe(an,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(E||(fe(an,`Opening RPC '${e}' stream ${o} transport.`),y.open(),E=!0),fe(an,`RPC '${e}' stream ${o} sending:`,$),y.send($))},To:()=>y.close()}),V=($,N,I)=>{$.listen(N,D=>{try{I(D)}catch(H){setTimeout(()=>{throw H},0)}})};return V(y,sl.EventType.OPEN,()=>{k||(fe(an,`RPC '${e}' stream ${o} transport opened.`),j.yo())}),V(y,sl.EventType.CLOSE,()=>{k||(k=!0,fe(an,`RPC '${e}' stream ${o} transport closed`),j.So())}),V(y,sl.EventType.ERROR,$=>{k||(k=!0,na(an,`RPC '${e}' stream ${o} transport errored:`,$),j.So(new de(Y.UNAVAILABLE,"The operation could not be completed")))}),V(y,sl.EventType.MESSAGE,$=>{var N;if(!k){const I=$.data[0];rt(!!I);const D=I,H=D.error||((N=D[0])===null||N===void 0?void 0:N.error);if(H){fe(an,`RPC '${e}' stream ${o} received error:`,H);const J=H.status;let te=function(P){const A=Nt[P];if(A!==void 0)return _1(A)}(J),R=H.message;te===void 0&&(te=Y.INTERNAL,R="Unknown error status: "+J+" with message "+H.message),k=!0,j.So(new de(te,R)),y.close()}else fe(an,`RPC '${e}' stream ${o} received:`,I),j.bo(I)}}),V(h,Hw.STAT_EVENT,$=>{$.stat===Vf.PROXY?fe(an,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Vf.NOPROXY&&fe(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.wo()},0),j}}function Ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){return new z2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r=1e3,o=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,o,s,l,h,d){this.ui=e,this.Ho=r,this.Jo=o,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new R1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===n&&this.P_(r,o)},r=>{e(()=>{const o=new de(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kR extends L1{constructor(e,n,r,o,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,l),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=$2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Wr(l.readTime):ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=qf(this.serializer),n.addTarget=function(s,l){let h;const d=l.target;if(h=Bf(d)?{documents:Z2(s,d)}:{query:q2(s,d)._t},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=w1(s,l.resumeToken);const m=Hf(s,l.expectedCount);m!==null&&(h.expectedCount=m)}else if(l.snapshotVersion.compareTo(ke.min())>0){h.readTime=nh(s,l.snapshotVersion.toTimestamp());const m=Hf(s,l.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=K2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=qf(this.serializer),n.removeTarget=e,this.a_(n)}}class bR extends L1{constructor(e,n,r,o,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,l),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=W2(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=qf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>H2(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Mo(e,Wf(n,r),o,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(Y.UNKNOWN,s.toString())})}Lo(e,n,r,o,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Lo(e,Wf(n,r),o,l,h,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(Y.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class MR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ei(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,o,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(l=>{r.enqueueAndForget(async()=>{Yo(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(d){const m=be(d);m.L_.add(4),await cu(m),m.q_.set("Unknown"),m.L_.delete(4),await bh(m)}(this))})}),this.q_=new MR(r,o)}}async function bh(t){if(Yo(t))for(const e of t.B_)await e(!0)}async function cu(t){for(const e of t.B_)await e(!1)}function k1(t,e){const n=be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),xm(n)?Em(n):ga(n).r_()&&wm(n,e))}function ym(t,e){const n=be(t),r=ga(n);n.N_.delete(e),r.r_()&&b1(n,e),n.N_.size===0&&(r.r_()?r.o_():Yo(n)&&n.q_.set("Unknown"))}function wm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ga(t).A_(e)}function b1(t,e){t.Q_.xe(e),ga(t).R_(e)}function Em(t){t.Q_=new O2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ga(t).start(),t.q_.v_()}function xm(t){return Yo(t)&&!ga(t).n_()&&t.N_.size>0}function Yo(t){return be(t).L_.size===0}function N1(t){t.Q_=void 0}async function OR(t){t.q_.set("Online")}async function VR(t){t.N_.forEach((e,n)=>{wm(t,e)})}async function jR(t,e){N1(t),xm(t)?(t.q_.M_(e),Em(t)):t.q_.set("Unknown")}async function FR(t,e,n){if(t.q_.set("Online"),e instanceof y1&&e.state===2&&e.cause)try{await async function(o,s){const l=s.cause;for(const h of s.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,l),o.N_.delete(h),o.Q_.removeTarget(h))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(t,r)}else if(e instanceof _c?t.Q_.Ke(e):e instanceof v1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ke.min()))try{const r=await A1(t.localStore);n.compareTo(r)>=0&&await function(s,l){const h=s.Q_.rt(l);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const v=s.N_.get(m);v&&s.N_.set(m,v.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,m)=>{const v=s.N_.get(d);if(!v)return;s.N_.set(d,v.withResumeToken(nn.EMPTY_BYTE_STRING,v.snapshotVersion)),b1(s,d);const y=new Ki(v.target,d,m,v.sequenceNumber);wm(s,y)}),s.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await rh(t,r)}}async function rh(t,e,n){if(!su(e))throw e;t.L_.add(1),await cu(t),t.q_.set("Offline"),n||(n=()=>A1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bh(t)})}function M1(t,e){return e().catch(n=>rh(t,n,e))}async function Nh(t){const e=be(t),n=ho(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zR(e);)try{const o=await TR(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,BR(e,o)}catch(o){await rh(e,o)}D1(e)&&O1(e)}function zR(t){return Yo(t)&&t.O_.length<10}function BR(t,e){t.O_.push(e);const n=ho(t);n.r_()&&n.V_&&n.m_(e.mutations)}function D1(t){return Yo(t)&&!ho(t).n_()&&t.O_.length>0}function O1(t){ho(t).start()}async function UR(t){ho(t).p_()}async function $R(t){const e=ho(t);for(const n of t.O_)e.m_(n.mutations)}async function HR(t,e,n){const r=t.O_.shift(),o=fm.from(r,e,n);await M1(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Nh(t)}async function WR(t,e){e&&ho(t).V_&&await async function(r,o){if(function(l){return N2(l)&&l!==Y.ABORTED}(o.code)){const s=r.O_.shift();ho(r).s_(),await M1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),await Nh(r)}}(t,e),D1(t)&&O1(t)}async function Pv(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Yo(n);n.L_.add(3),await cu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bh(n)}async function ZR(t,e){const n=be(t);e?(n.L_.delete(2),await bh(n)):e||(n.L_.add(2),await cu(n),n.q_.set("Unknown"))}function ga(t){return t.K_||(t.K_=function(n,r,o){const s=be(n);return s.w_(),new kR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{Eo:OR.bind(null,t),Ro:VR.bind(null,t),mo:jR.bind(null,t),d_:FR.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),xm(t)?Em(t):t.q_.set("Unknown")):(await t.K_.stop(),N1(t))})),t.K_}function ho(t){return t.U_||(t.U_=function(n,r,o){const s=be(n);return s.w_(),new bR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:UR.bind(null,t),mo:WR.bind(null,t),f_:$R.bind(null,t),g_:HR.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Nh(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r,o,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,s){const l=Date.now()+r,h=new Tm(e,n,l,o,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),su(t))return new de(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=al(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.W_=new Et(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class aa{constructor(e,n,r,o,s,l,h,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,s){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new aa(e,n,qs.emptySet(n),l,r,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class GR{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=be(n),s=o.queries;o.queries=Cv(),s.forEach((l,h)=>{for(const d of h.j_)d.onError(r)})})(this,new de(Y.ABORTED,"Firestore shutting down"))}}function Cv(){return new ma(t=>o1(t),Ih)}async function V1(t,e){const n=be(t);let r=3;const o=e.query;let s=n.queries.get(o);s?!s.H_()&&e.J_()&&(r=2):(s=new qR,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(o,!0);break;case 1:s.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(l){const h=Sm(l,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Pm(n)}async function j1(t,e){const n=be(t),r=e.query;let o=3;const s=n.queries.get(r);if(s){const l=s.j_.indexOf(e);l>=0&&(s.j_.splice(l,1),s.j_.length===0?o=e.J_()?0:1:!s.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KR(t,e){const n=be(t);let r=!1;for(const o of e){const s=o.query,l=n.queries.get(s);if(l){for(const h of l.j_)h.X_(o)&&(r=!0);l.z_=o}}r&&Pm(n)}function QR(t,e,n){const r=be(t),o=r.queries.get(e);if(o)for(const s of o.j_)s.onError(n);r.queries.delete(e)}function Pm(t){t.Y_.forEach(e=>{e.next()})}var Kf,Av;(Av=Kf||(Kf={})).ea="default",Av.Cache="cache";class F1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.key=e}}class B1{constructor(e){this.key=e}}class YR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=je(),this.mutatedKeys=je(),this.Aa=s1(e),this.Ra=new qs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Iv,o=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,l=o,h=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,y)=>{const E=o.get(v),k=Ch(this.query,y)?y:null,j=!!E&&this.mutatedKeys.has(E.key),V=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let $=!1;E&&k?E.data.isEqual(k.data)?j!==V&&(r.track({type:3,doc:k}),$=!0):this.ga(E,k)||(r.track({type:2,doc:k}),$=!0,(d&&this.Aa(k,d)>0||m&&this.Aa(k,m)<0)&&(h=!0)):!E&&k?(r.track({type:0,doc:k}),$=!0):E&&!k&&(r.track({type:1,doc:E}),$=!0,(d||m)&&(h=!0)),$&&(k?(l=l.add(k),s=V?s.add(v):s.delete(v)):(l=l.delete(v),s=s.delete(v)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const v=this.query.limitType==="F"?l.last():l.first();l=l.delete(v.key),s=s.delete(v.key),r.track({type:1,doc:v})}return{Ra:l,fa:r,ns:h,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((v,y)=>function(k,j){const V=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return V(k)-V(j)}(v.type,y.type)||this.Aa(v.doc,y.doc)),this.pa(r),o=o!=null&&o;const h=n&&!o?this.ya():[],d=this.da.size===0&&this.current&&!o?1:0,m=d!==this.Ea;return this.Ea=d,l.length!==0||m?{snapshot:new aa(this.query,e.Ra,s,l,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Iv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=je(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new B1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new z1(r))}),n}ba(e){this.Ta=e.Ts,this.da=je();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return aa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class XR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JR{constructor(e){this.key=e,this.va=!1}}class eL{constructor(e,n,r,o,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new ma(h=>o1(h),Ih),this.Ma=new Map,this.xa=new Set,this.Oa=new Et(ye.comparator),this.Na=new Map,this.La=new gm,this.Ba={},this.ka=new Map,this.qa=sa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tL(t,e,n=!0){const r=q1(t);let o;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.Da()):o=await U1(r,e,n,!0),o}async function nL(t,e){const n=q1(t);await U1(n,e,!0,!1)}async function U1(t,e,n,r){const o=await SR(t.localStore,Hr(e)),s=o.targetId,l=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let h;return r&&(h=await rL(t,e,s,l==="current",o.resumeToken)),t.isPrimaryClient&&n&&k1(t.remoteStore,o),h}async function rL(t,e,n,r,o){t.Ka=(y,E,k)=>async function(V,$,N,I){let D=$.view.ma(N);D.ns&&(D=await xv(V.localStore,$.query,!1).then(({documents:R})=>$.view.ma(R,D)));const H=I&&I.targetChanges.get($.targetId),J=I&&I.targetMismatches.get($.targetId)!=null,te=$.view.applyChanges(D,V.isPrimaryClient,H,J);return Lv(V,$.targetId,te.wa),te.snapshot}(t,y,E,k);const s=await xv(t.localStore,e,!0),l=new YR(e,s.Ts),h=l.ma(s.documents),d=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),m=l.applyChanges(h,t.isPrimaryClient,d);Lv(t,n,m.wa);const v=new XR(e,n,l);return t.Fa.set(e,v),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function iL(t,e,n){const r=be(t),o=r.Fa.get(e),s=r.Ma.get(o.targetId);if(s.length>1)return r.Ma.set(o.targetId,s.filter(l=>!Ih(l,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Gf(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&ym(r.remoteStore,o.targetId),Qf(r,o.targetId)}).catch(ou)):(Qf(r,o.targetId),await Gf(r.localStore,o.targetId,!0))}async function oL(t,e){const n=be(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ym(n.remoteStore,r.targetId))}async function sL(t,e,n){const r=fL(t);try{const o=await function(l,h){const d=be(l),m=Ft.now(),v=h.reduce((k,j)=>k.add(j.key),je());let y,E;return d.persistence.runTransaction("Locally write mutations","readwrite",k=>{let j=xi(),V=je();return d.cs.getEntries(k,v).next($=>{j=$,j.forEach((N,I)=>{I.isValidDocument()||(V=V.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(k,j)).next($=>{y=$;const N=[];for(const I of h){const D=A2(I,y.get(I.key).overlayedDocument);D!=null&&N.push(new vo(I.key,D,Yw(D.value.mapValue),Tr.exists(!0)))}return d.mutationQueue.addMutationBatch(k,m,N,h)}).next($=>{E=$;const N=$.applyToLocalDocumentSet(y,V);return d.documentOverlayCache.saveOverlays(k,$.batchId,N)})}).then(()=>({batchId:E.batchId,changes:l1(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,d){let m=l.Ba[l.currentUser.toKey()];m||(m=new Et(Ge)),m=m.insert(h,d),l.Ba[l.currentUser.toKey()]=m}(r,o.batchId,n),await hu(r,o.changes),await Nh(r.remoteStore)}catch(o){const s=Sm(o,"Failed to persist write");n.reject(s)}}async function $1(t,e){const n=be(t);try{const r=await ER(n.localStore,e);e.targetChanges.forEach((o,s)=>{const l=n.Na.get(s);l&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.va=!0:o.modifiedDocuments.size>0?rt(l.va):o.removedDocuments.size>0&&(rt(l.va),l.va=!1))}),await hu(n,r,e)}catch(r){await ou(r)}}function Rv(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach((s,l)=>{const h=l.view.Z_(e);h.snapshot&&o.push(h.snapshot)}),function(l,h){const d=be(l);d.onlineState=h;let m=!1;d.queries.forEach((v,y)=>{for(const E of y.j_)E.Z_(h)&&(m=!0)}),m&&Pm(d)}(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aL(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),s=o&&o.key;if(s){let l=new Et(ye.comparator);l=l.insert(s,cn.newNoDocument(s,ke.min()));const h=je().add(s),d=new Lh(ke.min(),new Map,new Et(Ge),l,h);await $1(r,d),r.Oa=r.Oa.remove(s),r.Na.delete(e),Im(r)}else await Gf(r.localStore,e,!1).then(()=>Qf(r,e,n)).catch(ou)}async function lL(t,e){const n=be(t),r=e.batch.batchId;try{const o=await wR(n.localStore,e);W1(n,r,null),H1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,o)}catch(o){await ou(o)}}async function uL(t,e,n){const r=be(t);try{const o=await function(l,h){const d=be(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return d.mutationQueue.lookupMutationBatch(m,h).next(y=>(rt(y!==null),v=y.keys(),d.mutationQueue.removeMutationBatch(m,y))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,v,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>d.localDocuments.getDocuments(m,v))})}(r.localStore,e);W1(r,e,n),H1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hu(r,o)}catch(o){await ou(o)}}function H1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function W1(t,e,n){const r=be(t);let o=r.Ba[r.currentUser.toKey()];if(o){const s=o.get(e);s&&(n?s.reject(n):s.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function Qf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Z1(t,r)})}function Z1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ym(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Im(t))}function Lv(t,e,n){for(const r of n)r instanceof z1?(t.La.addReference(r.key,e),cL(t,r)):r instanceof B1?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Z1(t,r.key)):Ce()}function cL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Im(t))}function Im(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(at.fromString(e)),r=t.qa.next();t.Na.set(r,new JR(n)),t.Oa=t.Oa.insert(n,r),k1(t.remoteStore,new Ki(Hr(cm(n.path)),r,"TargetPurposeLimboResolution",im.oe))}}async function hu(t,e,n){const r=be(t),o=[],s=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach((h,d)=>{l.push(r.Ka(d,e,n).then(m=>{var v;if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:(v=n==null?void 0:n.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){o.push(m);const y=vm.Wi(d.targetId,m);s.push(y)}}))}),await Promise.all(l),r.Ca.d_(o),await async function(d,m){const v=be(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ee.forEach(m,E=>ee.forEach(E.$i,k=>v.persistence.referenceDelegate.addReference(y,E.targetId,k)).next(()=>ee.forEach(E.Ui,k=>v.persistence.referenceDelegate.removeReference(y,E.targetId,k)))))}catch(y){if(!su(y))throw y;fe("LocalStore","Failed to update sequence numbers: "+y)}for(const y of m){const E=y.targetId;if(!y.fromCache){const k=v.os.get(E),j=k.snapshotVersion,V=k.withLastLimboFreeSnapshotVersion(j);v.os=v.os.insert(E,V)}}}(r.localStore,s))}async function hL(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await C1(n.localStore,e);n.currentUser=e,function(s,l){s.ka.forEach(h=>{h.forEach(d=>{d.reject(new de(Y.CANCELLED,l))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(n,r.hs)}}function dL(t,e){const n=be(t),r=n.Na.get(e);if(r&&r.va)return je().add(r.key);{let o=je();const s=n.Ma.get(e);if(!s)return o;for(const l of s){const h=n.Fa.get(l);o=o.unionWith(h.view.Va)}return o}}function q1(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aL.bind(null,e),e.Ca.d_=KR.bind(null,e.eventManager),e.Ca.$a=QR.bind(null,e.eventManager),e}function fL(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uL.bind(null,e),e}class kv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yR(this.persistence,new _R,e.initialUser,this.serializer)}createPersistence(e){return new pR(_m.Zr,this.serializer)}createSharedClientState(e){return new IR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hL.bind(null,this.syncEngine),await ZR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GR}()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),r=function(s){return new LR(s)}(e.databaseInfo);return function(s,l,h,d){return new NR(s,l,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,s,l,h){return new DR(r,o,s,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>Rv(this.syncEngine,n,0),function(){return Sv.D()?new Sv:new CR}())}createSyncEngine(e,n){return function(o,s,l,h,d,m,v){const y=new eL(o,s,l,h,d,m);return v&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const s=be(o);fe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await cu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{fe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(fe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rd(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await C1(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _L(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Pv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>Pv(e.remoteStore,o)),t._onlineComponents=e}function gL(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _L(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!gL(n))throw n;na("Error using user provided cache. Falling back to memory cache: "+n),await Rd(t,new kv)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Rd(t,new kv);return t._offlineComponents}async function K1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await bv(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await bv(t,new pL))),t._onlineComponents}function vL(t){return K1(t).then(e=>e.syncEngine)}async function Q1(t){const e=await K1(t),n=e.eventManager;return n.onListen=tL.bind(null,e.syncEngine),n.onUnlisten=iL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oL.bind(null,e.syncEngine),n}function yL(t,e,n={}){const r=new pi;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,h,d,m){const v=new G1({next:E=>{l.enqueueAndForget(()=>j1(s,y));const k=E.docs.has(h);!k&&E.fromCache?m.reject(new de(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&E.fromCache&&d&&d.source==="server"?m.reject(new de(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),y=new F1(cm(h.path),v,{includeMetadataChanges:!0,_a:!0});return V1(s,y)}(await Q1(t),t.asyncQueue,e,n,r)),r.promise}function wL(t,e,n={}){const r=new pi;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,h,d,m){const v=new G1({next:E=>{l.enqueueAndForget(()=>j1(s,y)),E.fromCache&&d.source==="server"?m.reject(new de(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),y=new F1(h,v,{includeMetadataChanges:!0,_a:!0});return V1(s,y)}(await Q1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e,n){if(!n)throw new de(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EL(t,e,n,r){if(e===!0&&r===!0)throw new de(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mv(t){if(!ye.isDocumentKey(t))throw new de(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dv(t){if(ye.isDocumentKey(t))throw new de(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function Ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(t);throw new de(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ov({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ov(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VA;switch(r.type){case"firstParty":return new BA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nv.get(n);r&&(fe("ComponentProvider","Removing Datastore"),Nv.delete(n),r.terminate())}(this),Promise.resolve()}}function xL(t,e,n,r={}){var o;const s=(t=Ti(t,Dh))._getSettings(),l=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=ln.MOCK_USER;else{h=yC(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new de(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ln(m)}t._authCredentials=new jA(new qw(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class so extends _a{constructor(e,n,r){super(e,n,cm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new ye(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function Ja(t,e,...n){if(t=yi(t),X1("collection","path",e),t instanceof Dh){const r=at.fromString(e,...n);return Dv(r),new so(t,null,r)}{if(!(t instanceof On||t instanceof so))throw new de(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return Dv(r),new so(t.firestore,null,r)}}function ul(t,e,...n){if(t=yi(t),arguments.length===1&&(e=Gw.newId()),X1("doc","path",e),t instanceof Dh){const r=at.fromString(e,...n);return Mv(r),new On(t,null,new ye(r))}{if(!(t instanceof On||t instanceof so))throw new de(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return Mv(r),new On(t.firestore,t instanceof so?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new R1(this,"async_queue_retry"),this.Eu=()=>{const n=Ad();n&&fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Ad();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Ad();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new pi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!su(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const o=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(r);throw Ei("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const o=Tm.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(o),o}du(){this.hu&&Ce()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class va extends Dh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=function(){return new TL}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||J1(this),this._firestoreClient.terminate()}}function SL(t,e){const n=typeof t=="object"?t:CA(),r=typeof t=="string"?t:"(default)",o=TA(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const s=_C("firestore");s&&xL(o,...s)}return o}function Cm(t){return t._firestoreClient||J1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function J1(t){var e,n,r;const o=t._freezeSettings(),s=function(h,d,m,v){return new e2(h,d,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Y1(v.experimentalLongPollingOptions),v.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new mL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(nn.fromBase64String(e))}catch(n){throw new de(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new la(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==o[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^__.*__$/;class IL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class eE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class km{constructor(e,n,r,o,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new km(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Su({path:r,Du:!1});return o.vu(e),o}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Su({path:r,Du:!1});return o.yu(),o}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return ih(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(tE(this.wu)&&PL.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class CL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kh(e)}Nu(e,n,r,o=!1){return new km({wu:e,methodName:n,Ou:r,path:Xt.emptyPath(),Du:!1,xu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bm(t){const e=t._freezeSettings(),n=kh(t._databaseId);return new CL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AL(t,e,n,r,o,s={}){const l=t.Nu(s.merge||s.mergeFields?2:0,e,n,o);Nm("Data must be an object, but it was:",l,r);const h=nE(r,l);let d,m;if(s.merge)d=new Gn(l.fieldMask),m=l.fieldTransforms;else if(s.mergeFields){const v=[];for(const y of s.mergeFields){const E=Yf(e,y,n);if(!l.contains(E))throw new de(Y.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);iE(v,E)||v.push(E)}d=new Gn(v),m=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,m=l.fieldTransforms;return new IL(new kn(h),d,m)}class Vh extends Am{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function RL(t,e,n,r){const o=t.Nu(1,e,n);Nm("Data must be an object, but it was:",o,r);const s=[],l=kn.empty();Qo(r,(d,m)=>{const v=Mm(e,d,n);m=yi(m);const y=o.Cu(v);if(m instanceof Vh)s.push(v);else{const E=du(m,y);E!=null&&(s.push(v),l.set(v,E))}});const h=new Gn(s);return new eE(l,h,o.fieldTransforms)}function LL(t,e,n,r,o,s){const l=t.Nu(1,e,n),h=[Yf(e,r,n)],d=[o];if(s.length%2!=0)throw new de(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)h.push(Yf(e,s[E])),d.push(s[E+1]);const m=[],v=kn.empty();for(let E=h.length-1;E>=0;--E)if(!iE(m,h[E])){const k=h[E];let j=d[E];j=yi(j);const V=l.Cu(k);if(j instanceof Vh)m.push(k);else{const $=du(j,V);$!=null&&(m.push(k),v.set(k,$))}}const y=new Gn(m);return new eE(v,y,l.fieldTransforms)}function kL(t,e,n,r=!1){return du(n,t.Nu(r?4:3,e))}function du(t,e){if(rE(t=yi(t)))return Nm("Unsupported field value:",e,t),nE(t,e);if(t instanceof Am)return function(r,o){if(!tE(o.wu))throw o.Mu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,o){const s=[];let l=0;for(const h of r){let d=du(h,o.Fu(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(t,e)}return function(r,o){if((r=yi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return x2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ft.fromDate(r);return{timestampValue:nh(o.serializer,s)}}if(r instanceof Ft){const s=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(o.serializer,s)}}if(r instanceof Rm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof la)return{bytesValue:w1(o.serializer,r._byteString)};if(r instanceof On){const s=o.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw o.Mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Lm)return function(l,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw h.Mu("VectorValues must only contain numeric values.");return hm(h.serializer,d)})}}}}}}(r,o);throw o.Mu(`Unsupported field value: ${Mh(r)}`)}(t,e)}function nE(t,e){const n={};return Kw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(t,(r,o)=>{const s=du(o,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof Rm||t instanceof la||t instanceof On||t instanceof Am||t instanceof Lm)}function Nm(t,e,n){if(!rE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=Mh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Yf(t,e,n){if((e=yi(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return Mm(t,e);throw ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const bL=new RegExp("[~\\*/\\[\\]]");function Mm(t,e,n){if(e.search(bL)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oh(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ih(t,e,n,r,o){const s=r&&!r.isEmpty(),l=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${o}`),d+=")"),new de(Y.INVALID_ARGUMENT,h+t+d)}function iE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,r,o,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NL extends oE{data(){return super.data()}}function Dm(t,e){return typeof e=="string"?Mm(t,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Om{}class DL extends Om{}function Ld(t,e,...n){let r=[];e instanceof Om&&r.push(e),r=r.concat(n),function(s){const l=s.filter(d=>d instanceof Vm).length,h=s.filter(d=>d instanceof jh).length;if(l>1||l>0&&h>0)throw new de(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class jh extends DL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jh(e,n,r)}_apply(e){const n=this._parse(e);return sE(e._query,n),new _a(e.firestore,e.converter,Uf(e._query,n))}_parse(e){const n=bm(e.firestore);return function(s,l,h,d,m,v,y){let E;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){jv(y,v);const k=[];for(const j of y)k.push(Vv(d,s,j));E={arrayValue:{values:k}}}else E=Vv(d,s,y)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||jv(y,v),E=kL(h,l,y,v==="in"||v==="not-in");return Ot.create(m,v,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function el(t,e,n){const r=e,o=Dm("where",t);return jh._create(o,r,n)}class Vm extends Om{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,s){let l=o;const h=s.getFlattenedFilters();for(const d of h)sE(l,d),l=Uf(l,d)}(e._query,n),new _a(e.firestore,e.converter,Uf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vv(t,e,n){if(typeof(n=yi(n))=="string"){if(n==="")throw new de(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i1(e)&&n.indexOf("/")!==-1)throw new de(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!ye.isDocumentKey(r))throw new de(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ov(t,new ye(r))}if(n instanceof On)return ov(t,n._key);throw new de(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function jv(t,e){if(!Array.isArray(t)||t.length===0)throw new de(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sE(t,e){const n=function(o,s){for(const l of o)for(const h of l.getFlattenedFilters())if(s.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OL{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qo(e,(o,s)=>{r[o]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,o;const s=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(l=>At(l.doubleValue));return new Lm(s)}convertGeoPoint(e){return new Rm(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=co(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);rt(I1(r));const o=new Gl(r.get(1),r.get(3)),s=new ye(r.popFirst(5));return o.isEqual(n)||Ei(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aE extends oE{constructor(e,n,r,o,s,l){super(e,n,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vc extends aE{data(e={}){return super.data(e)}}class jL{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new cl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vc(this._firestore,this._userDataWriter,r.key,r,new cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(h=>{const d=new vc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new cl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>s||h.type!==3).map(h=>{const d=new vc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new cl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),v=l.indexOf(h.doc.key)),{type:FL(h.type),doc:d,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){t=Ti(t,On);const e=Ti(t.firestore,va);return yL(Cm(e),t._key).then(n=>UL(e,t,n))}class lE extends OL{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function ec(t){t=Ti(t,_a);const e=Ti(t.firestore,va),n=Cm(e),r=new lE(e);return ML(t._query),wL(n,t._query).then(o=>new jL(e,r,t,o))}function zv(t,e,n,...r){t=Ti(t,On);const o=Ti(t.firestore,va),s=bm(o);let l;return l=typeof(e=yi(e))=="string"||e instanceof Oh?LL(s,"updateDoc",t._key,e,n,r):RL(s,"updateDoc",t._key,e),jm(o,[l.toMutation(t._key,Tr.exists(!0))])}function zL(t){return jm(Ti(t.firestore,va),[new dm(t._key,Tr.none())])}function BL(t,e){const n=Ti(t.firestore,va),r=ul(t),o=VL(t.converter,e);return jm(n,[AL(bm(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function jm(t,e){return function(r,o){const s=new pi;return r.asyncQueue.enqueueAndForget(async()=>sL(await vL(r),o,s)),s.promise}(Cm(t),e)}function UL(t,e,n){const r=n.docs.get(e._key),o=new lE(t);return new aE(t,o,e._key,r,new cl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){pa=o})(IA),Qc(new Hl("firestore",(r,{instanceIdentifier:o,options:s})=>{const l=r.getProvider("app").getImmediate(),h=new va(new FA(r.getProvider("auth-internal")),new $A(r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(m.options.projectId,v)}(l,o),l);return s=Object.assign({useFetchStreams:n},s),h._setSettings(s),h},"PUBLIC").setMultipleInstances(!0)),Zs(ev,"4.7.1",e),Zs(ev,"4.7.1","esm2017")})();var $L="firebase",HL="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs($L,HL,"app");const WL={DATABASE:{API_KEY:"AIzaSyApeaOyNof-fXxWixYXWTZm6QzE0XdD_UU",AUTH_DOMAIN:"riskless-capstone.firebaseapp.com",PROJECT_ID:"riskless-capstone",STORAGE_BUCKET:"riskless-capstone.appspot.com",MESSAGING_SENDER_ID:"35192319995",APP_ID:"1:35192319995:web:1e8a0730d4e221c389255e",URL:"https://firestore.googleapis.com/v1/projects/:projectId/databases/(default)/documents/:collection/?key=:apiKey"},FIREBASE_CONFIG:{apiKey:"AIzaSyByVHVJm80xP6XRZ-nfY9CBQIyBAnqRG6k",authDomain:"librewhan-cafe.firebaseapp.com",projectId:"librewhan-cafe",storageBucket:"librewhan-cafe.appspot.com",messagingSenderId:"486778870469",appId:"1:486778870469:web:f2e81a9f53bc09e180aeac",measurementId:"G-TNECGGNQVH"},METHOD:{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE"},ENDPOINTS:{GETALL:"GETALL",GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",SEARCH:"SEARCH"},INPUT:{MAX_LENGTH:{DEFAULT:250,EMAIL:50,PASSWORD:50,USERNAME:50,CONTACT:13},MIN_LENGTH:{DEFAULT:1}}},ZL=Vw(WL.FIREBASE_CONFIG),qL=SL(ZL);class GL{constructor(e){Fa(this,"collectionName");Fa(this,"firestore",qL);this.collectionName=e}async getAll(){const e=Ja(this.firestore,this.collectionName);return(await ec(e)).docs.map(r=>({id:r.id,...r.data()}))}async get(e){const n=ul(this.firestore,this.collectionName,e),r=await Fv(n);return r.exists()?{id:r.id,...r.data()}:null}async find(e,n){const r=Ja(this.firestore,this.collectionName),o=Ld(r,el(e,"==",n));return(await ec(o)).docs.map(l=>({id:l.id,...l.data()}))}async create(e){const n=Ja(this.firestore,this.collectionName);return(await BL(n,e)).id}async update(e,n){const r=ul(this.firestore,this.collectionName,e);await zv(r,n)}async delete(e){const n=ul(this.firestore,this.collectionName,e);await zL(n)}async login2(e,n){if(!e||!n)return!1;const r=Ja(this.firestore,this.collectionName),o=Ld(r,el("email","==",e),el("password","==",n)),[s]=await Promise.all([ec(o)]);return!s.empty}async login(e,n){if(!e||!n)return{success:!1};const r=Ja(this.firestore,this.collectionName),o=Ld(r,el("email","==",e),el("password","==",n)),s=await ec(o);if(!s.empty){const h=s.docs[0].id,d=ul(this.firestore,this.collectionName,h);return await zv(d,{isAuthenticated:!0}),{success:!0,userData:{...(await Fv(d)).data(),id:h}}}return{success:!1}}}const KL=new GL("products"),QL=()=>{const[t,e]=W.useState([]),[n,r]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{const s=await KL.getAll();e(s)}catch(s){console.error("Error fetching products:",s)}finally{r(!1)}})()},[]),{products:t,setProducts:e,isLoading:n}},YL=({categories:t,onCategoryChange:e,defaultCategory:n})=>{const[r,o]=W.useState(n);W.useEffect(()=>{e(n)},[n,e]);const s=l=>{o(l),e(l)};return T.jsx("div",{children:t.map(l=>T.jsx("button",{onClick:()=>s(l),className:`mr-2 mb-2 px-4 py-2 border rounded w-full ${r===l?" bg-amber-500 text-white font-bold":" text-amber-500"} hover:bg-amber-400 hover:text-white transition`,children:l},l))})},XL=({isOpen:t,onClose:e})=>{const[n,r]=W.useState([]),[o,s]=W.useState("cart");W.useEffect(()=>{if(t){const h=localStorage.getItem("cart");h&&r(JSON.parse(h))}},[t]);const l=h=>{const d=n.filter(m=>m.id!==h);r(d),localStorage.setItem("cart",JSON.stringify(d))};return t?T.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center z-50",children:T.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-sm w-full relative",children:[T.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:"×"}),T.jsxs("div",{className:"flex justify-between mb-4",children:[T.jsxs("button",{onClick:()=>s("cart"),className:`flex gap-2 text-center py-2 border-b-2 ${o==="cart"?"border-blue-500 text-blue-500":"border-transparent text-gray-500"}`,children:[T.jsx(tI,{size:24})," Cart"]}),T.jsxs("button",{onClick:()=>s("details"),className:`flex gap-2 text-center py-2 border-b-2 ${o==="details"?"border-blue-500 text-blue-500":"border-transparent text-gray-500"}`,children:[T.jsx(nI,{size:24})," Details"]}),T.jsxs("button",{onClick:()=>s("payment"),className:`flex gap-2 text-center py-2 border-b-2 ${o==="payment"?"border-blue-500 text-blue-500":"border-transparent text-gray-500"}`,children:[T.jsx(iI,{size:24})," Payment"]})]}),o==="cart"&&T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold mb-4",children:"Your Cart"}),n.length>0?T.jsx("div",{children:n.map(h=>T.jsxs("div",{className:"mb-4 border-b pb-2 flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold",children:h.productName}),T.jsxs("p",{className:"text-sm text-gray-600",children:[h.productCategory," - ",h.variant]}),T.jsxs("p",{className:"text-sm",children:["Quantity: ",h.quantity," | Price: ₱",h.price]}),T.jsxs("p",{className:"text-sm font-semibold",children:["Total: ₱",h.price*h.quantity]})]}),T.jsx("button",{onClick:()=>l(h.id),className:"text-red-500 hover:text-red-700",children:"Remove"})]},h.id))}):T.jsx("div",{className:"text-center text-gray-600",children:"Your cart is empty."}),T.jsx("div",{className:"text-right",children:T.jsx("button",{onClick:()=>s("details"),className:"bg-blue-500 text-white py-2 px-4 rounded mt-4 ",children:"Next"})})]}),o==="details"&&T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold mb-4",children:"Customer Details"}),T.jsx("p",{children:"Please fill out the following information to proceed with your order."}),T.jsxs("form",{children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),T.jsx("input",{type:"text",id:"name",name:"name",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"John Doe",required:!0})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),T.jsx("input",{type:"email",id:"email",name:"email",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"john.doe@example.com",required:!0})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),T.jsx("input",{type:"tel",id:"phone",name:"phone",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"(123) 456-7890"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Shipping Address"}),T.jsx("textarea",{id:"address",name:"address",rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"123 Main St, Apt 4B, City, State, ZIP"})]}),T.jsx("div",{className:"text-right",children:T.jsx("button",{type:"submit",onClick:()=>s("payment"),className:"bg-blue-500 text-white py-2 px-4 rounded mt-4",children:"Next"})})]})]}),o==="payment"&&T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold mb-4",children:"Payment Method"}),T.jsx("p",{children:"This is the payment method section. COD only."}),T.jsx("div",{className:"text-right",children:T.jsx("button",{onClick:e,className:"bg-blue-500 text-white py-2 px-4 rounded mt-4 ",children:"Checkout"})})]})]})}):null},JL=()=>{const[t,e]=W.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)};return T.jsxs(T.Fragment,{children:[T.jsx("div",{onClick:n,className:"fixed bottom-4 right-4 bg-blue-500 text-white p-4 rounded-full shadow-lg cursor-pointer",children:T.jsx(cI,{size:24})}),T.jsx(XL,{isOpen:t,onClose:r})]})},Bv=()=>T.jsxs("div",{className:"max-w-sm bg-white shadow-lg rounded-lg overflow-hidden relative animate-pulse",children:[T.jsx("div",{className:"relative",children:T.jsx("div",{className:"w-full h-64 bg-gray-300 flex items-center justify-center",children:T.jsx("div",{className:"w-24 h-24 bg-gray-400 rounded-full"})})}),T.jsxs("div",{className:"p-4",children:[T.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-4"}),T.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4 mb-4"}),T.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/3 mb-2"}),T.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-4"}),T.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[T.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full"}),T.jsx("span",{className:"h-4 w-8 bg-gray-300 rounded"}),T.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full"})]})]})]}),ek=W.lazy(()=>aC(()=>import("./ProductCard-D0YxlZ3g.js"),[]).then(t=>({default:t.ProductCard}))),Uv="Hot Coffee",tk=()=>{const{products:t}=QL(),[e,n]=W.useState([]),[r,o]=W.useState([]);W.useEffect(()=>{if(t.length>0){const l=Array.from(new Set(t.map(d=>d.category)));o(l);const h=t.filter(d=>d.category===Uv);n(h)}},[t]);const s=W.useCallback(l=>{n(l===""?t:t.filter(h=>h.category===l))},[t]);return T.jsxs("div",{className:"container mx-auto",children:[T.jsxs("div",{className:"mt-24 mb-12 grid grid-cols-12 gap-2",children:[T.jsx("div",{className:"col-span-2 w-full",children:T.jsx(YL,{categories:r,onCategoryChange:s,defaultCategory:Uv})}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 col-span-10",children:e?e.map(l=>T.jsx(W.Suspense,{fallback:T.jsxs("div",{children:[" ",T.jsx(Bv,{})]}),children:T.jsx(ek,{product:l})},l.id)):T.jsx("div",{children:T.jsx(Bv,{})})})]}),T.jsx(JL,{})]})},nk=()=>T.jsxs("div",{className:"container mx-auto px-6 py-12",children:[T.jsxs("section",{id:"stores",className:"mb-24 scroll-smooth",children:[T.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 mb-12 text-center",children:"Our Store Locations"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[T.jsxs("div",{className:"bg-white shadow-lg p-8 rounded-lg hover:shadow-xl transition-shadow",children:[T.jsx("h3",{className:"text-2xl font-semibold text-teal-600 mb-4",children:"LIBREWHAN CAFE BANKERS VILLAGE, CALOOCAN"}),T.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[T.jsx(B_,{className:"text-teal-500 mr-2"}),"Lot 11 Block 2 Quirino Highway Bankers Village 2, North Caloocan"]}),T.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[T.jsx(Cf,{className:"text-teal-500 mr-2"}),"0981 725 1782 or 8642 0110"]}),T.jsxs("p",{className:"flex items-center text-gray-700",children:[T.jsx(If,{className:"text-teal-500 mr-2"}),T.jsx("a",{href:"mailto:librewhancafecaloocan@gmail.com",className:"text-teal-500 hover:underline",children:"librewhancafecaloocan@gmail.com"})]})]}),T.jsxs("div",{className:"bg-white shadow-lg p-8 rounded-lg hover:shadow-xl transition-shadow",children:[T.jsx("h3",{className:"text-2xl font-semibold text-teal-600 mb-4",children:"LIBREWHAN CAFE LAGRO, QUEZON CITY"}),T.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[T.jsx(B_,{className:"text-teal-500 mr-2"}),"B59 L3 La Naval Street Lagro Subdivision, Quezon City"]}),T.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[T.jsx(Cf,{className:"text-teal-500 mr-2"}),"0931 096 4514 or 8255 7057"]}),T.jsxs("p",{className:"flex items-center text-gray-700",children:[T.jsx(If,{className:"text-teal-500 mr-2"}),T.jsx("a",{href:"mailto:librewhancafelagro@gmail.com",className:"text-teal-500 hover:underline",children:"librewhancafelagro@gmail.com"})]})]})]})]}),T.jsxs("section",{className:"mt-16",id:"franchise",children:[T.jsx("h2",{className:"text-4xl font-extrabold text-gray-800 mb-6 text-center",children:"Franchise With Us"}),T.jsx("p",{className:"text-lg text-gray-600 mb-10 text-center",children:"If you're a business owner and want to join our family, fill out the form below to start your franchise journey!"}),T.jsx("div",{className:"max-w-lg mx-auto bg-white shadow-lg p-8 rounded-lg",children:T.jsxs("form",{action:"",children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-bold mb-2",children:"Email"}),T.jsx("input",{type:"email",id:"email",className:"w-full border border-gray-300 p-3 rounded focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"name",className:"block text-gray-700 font-bold mb-2",children:"Name"}),T.jsx("input",{type:"text",id:"name",className:"w-full border border-gray-300 p-3 rounded focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"message",className:"block text-gray-700 font-bold mb-2",children:"Message"}),T.jsx("textarea",{id:"message",className:"w-full border border-gray-300 p-3 rounded focus:outline-none focus:ring-2 focus:ring-teal-500",rows:4,required:!0})]}),T.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-6 rounded hover:bg-teal-700 transition-colors",children:"Submit"})]})})]})]});class rk{constructor(e){Fa(this,"config");Fa(this,"baseURL");this.config=e,this.baseURL="https://ap-southeast-1.aws.data.mongodb-api.com/app/data-nlnuzxv/endpoint/data/v1/action/"}async request(e,n){try{console.log("Request Payload:",n);const r=await fetch(`${this.baseURL}${e}`,{method:"POST",headers:{"Content-Type":"application/json","api-key":this.config.apiKey},body:JSON.stringify({...n,dataSource:this.config.dataSource,database:this.config.database})});console.log("Response Status:",r.status);const o=await r.json();if(console.log("Response Body:",o),!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return o}catch(r){throw console.error("Error during request:",r),r}}async insertOne(e){return this.request("insertOne",{collection:e.collection,document:e.document})}async find(e){return this.request("find",{collection:e.collection,filter:e.filter})}async updateOne(e){return this.request("updateOne",{collection:e.collection,filter:e.filter,update:e.update})}async deleteOne(e){return this.request("deleteOne",{collection:e.collection,filter:e.filter})}async getAll(e){return this.request("find",{collection:e.collection,filter:{}})}async search(e){return this.request("find",{collection:e.collection,filter:e.query})}}const ik={apiKey:"AUrgTRZuVWmhf1qpEwEEn1mIB3qlqsbP9C4wTLSXhC22FEqTWhI5LVk96WcNfiuh",dataSource:"Cluster0",database:"test"},Ts=new rk(ik),ok={async getAll(){return Ts.getAll({collection:"users"})},async get(t){return Ts.find({collection:"users",filter:{id:t}})},async create(t){return Ts.insertOne({collection:"users",document:t})},async update(t,e){return Ts.updateOne({collection:"users",filter:t,update:e})},async delete(t){return Ts.deleteOne({collection:"users",filter:t})},async search(t){return Ts.search({collection:"users",query:t})}},sk=()=>{const[t,e]=W.useState({email:"",password:"",role:"user",name:"",username:"",avatar:"",isAuthenticated:!1}),n=o=>{const{name:s,value:l}=o.target;e(h=>({...h,[s]:l}))},r=async o=>{o.preventDefault();try{await ok.create(t),alert("User created successfully!")}catch(s){console.error("Error creating user:",s),alert("Failed to create user.")}};return T.jsxs("form",{onSubmit:r,children:[T.jsx("input",{type:"email",name:"email",value:t.email,onChange:n,placeholder:"Email",required:!0}),T.jsx("input",{type:"password",name:"password",value:t.password,onChange:n,placeholder:"Password",required:!0}),T.jsx("input",{type:"text",name:"name",value:t.name||"",onChange:n,placeholder:"Name"}),T.jsx("input",{type:"text",name:"username",value:t.username||"",onChange:n,placeholder:"Username"}),T.jsx("input",{type:"text",name:"avatar",value:t.avatar||"",onChange:n,placeholder:"Avatar URL"}),T.jsxs("select",{name:"role",value:t.role,onChange:()=>n,children:[T.jsx("option",{value:"user",children:"User"}),T.jsx("option",{value:"admin",children:"Admin"})]}),T.jsx("button",{type:"submit",children:"Create User"})]})},$v={PUBLIC:[{element:T.jsx(AI,{}),children:[{path:"/",element:T.jsx(iC,{})},{path:"/products",element:T.jsx(tk,{})},{path:"/stores",element:T.jsx(nk,{})},{path:"/faq",element:T.jsx(rC,{})},{path:"/about",element:T.jsx(nC,{})},{path:"/admin/login",element:T.jsx(Ed,{})},{path:"/admin",element:T.jsx(Ed,{})},{path:"*",element:T.jsx(Ed,{})},{path:"/test",element:T.jsx(sk,{})}]}],PROTECTED:[{element:T.jsx(mI,{}),children:[{path:"/",element:T.jsx(bI,{})},{path:"/activity",element:T.jsx(LI,{})},{path:"/map",element:T.jsx(YI,{})},{path:"/notifications",element:T.jsx(JI,{})},{path:"/profile",element:T.jsx(tC,{})},{path:"*",element:T.jsx(T.Fragment,{})}]}]},ak=()=>{const{getLocalStorage:t}=Tw(),e=t("auth"),n=NP(e&&e.isAuthenticated?$v.PROTECTED:$v.PUBLIC);return T.jsx(UP,{router:n})};rw(document.getElementById("root")).render(T.jsx(Yt.StrictMode,{children:T.jsx(ak,{})}));export{cI as F,T as j,W as r};
